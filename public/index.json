[{"categories":["Dynamicsax"],"content":"D365 Debug with UAT and SandBox database","date":"2021-07-30","objectID":"https://www.nashome.cn/posts/dynamics-365-how-to-debug-sandbox-env-in-d365/","tags":["Dynamics365"],"title":"如何在 D365 的 Sandbox 或者 UAT 环境中调试代码","uri":"https://www.nashome.cn/posts/dynamics-365-how-to-debug-sandbox-env-in-d365/"},{"categories":["Dynamicsax"],"content":"开发人员经常会遇到一些需要调试的问题，但调试生产数据库并不是一件容易的事，因为它需要从 LCS 将生产环境中的 DB 刷新到沙箱环境，然后需要通过 LCS 从沙箱中导出 DB，然后将 DB 恢复到 开发环境，这是一项手动任务，需要很多命令和时间。 那么如何调试D365FO中的Sandbox/Test环境 上述步骤可以减少到只有一个步骤，即通过 LCS 将生产数据库刷新到沙箱，然后我们可以使用以下指南直接从开发环境连接到沙箱环境进行调试： ","date":"2021-07-30","objectID":"https://www.nashome.cn/posts/dynamics-365-how-to-debug-sandbox-env-in-d365/:0:0","tags":["Dynamics365"],"title":"如何在 D365 的 Sandbox 或者 UAT 环境中调试代码","uri":"https://www.nashome.cn/posts/dynamics-365-how-to-debug-sandbox-env-in-d365/"},{"categories":["Dynamicsax"],"content":"Enable access for your IP address 路径： LCS -\u003e sandbox environment page -\u003e Enable access 要连接到测试环境 RDP，您需要为您的 IP 地址创建白名单规则 ","date":"2021-07-30","objectID":"https://www.nashome.cn/posts/dynamics-365-how-to-debug-sandbox-env-in-d365/:0:1","tags":["Dynamics365"],"title":"如何在 D365 的 Sandbox 或者 UAT 环境中调试代码","uri":"https://www.nashome.cn/posts/dynamics-365-how-to-debug-sandbox-env-in-d365/"},{"categories":["Dynamicsax"],"content":"Connect RDP and open SSMS 如果不需要修改表相关的数据，请直接跳到第六步使用如下数据修改webconfig。 使用 LCS 中的服务器名称连接到 SQL 服务器并将前缀添加到 SQL 服务器名称 – **[servername.database.windows.net](http://servername.database.windows.net)** ","date":"2021-07-30","objectID":"https://www.nashome.cn/posts/dynamics-365-how-to-debug-sandbox-env-in-d365/:0:2","tags":["Dynamics365"],"title":"如何在 D365 的 Sandbox 或者 UAT 环境中调试代码","uri":"https://www.nashome.cn/posts/dynamics-365-how-to-debug-sandbox-env-in-d365/"},{"categories":["Dynamicsax"],"content":"Create a new query to test DB 下面的查询将创建一个用于调试的新用户 CREATE USER devtempuser WITH PASSWORD = 'pass@word1' EXEC sp_addrolemember 'db_owner', 'devtempuser' ","date":"2021-07-30","objectID":"https://www.nashome.cn/posts/dynamics-365-how-to-debug-sandbox-env-in-d365/:0:3","tags":["Dynamics365"],"title":"如何在 D365 的 Sandbox 或者 UAT 环境中调试代码","uri":"https://www.nashome.cn/posts/dynamics-365-how-to-debug-sandbox-env-in-d365/"},{"categories":["Dynamicsax"],"content":"Whitelist your IP address 选择针对 Master DB 的新查询 exec sp_set_firewall_rule N'DEVNAME', 'IP', 'IP' ","date":"2021-07-30","objectID":"https://www.nashome.cn/posts/dynamics-365-how-to-debug-sandbox-env-in-d365/:0:4","tags":["Dynamics365"],"title":"如何在 D365 的 Sandbox 或者 UAT 环境中调试代码","uri":"https://www.nashome.cn/posts/dynamics-365-how-to-debug-sandbox-env-in-d365/"},{"categories":["Dynamicsax"],"content":"Stop IIS, WWW service and Batch Service 打开 IIS 并停止服务。 打开运行并输入services.msc并停止WWW和Microsoft D365批处理服务 ","date":"2021-07-30","objectID":"https://www.nashome.cn/posts/dynamics-365-how-to-debug-sandbox-env-in-d365/:0:5","tags":["Dynamics365"],"title":"如何在 D365 的 Sandbox 或者 UAT 环境中调试代码","uri":"https://www.nashome.cn/posts/dynamics-365-how-to-debug-sandbox-env-in-d365/"},{"categories":["Dynamicsax"],"content":"Edit Web config Path: C:\\AosService\\webroot\\web.config 将原始文件保存在其他地方作为备份。 按照下面的屏幕截图修改 4 个键。 您可以评论原始配置或删除它并添加沙箱环境的新配置 ","date":"2021-07-30","objectID":"https://www.nashome.cn/posts/dynamics-365-how-to-debug-sandbox-env-in-d365/:0:6","tags":["Dynamics365"],"title":"如何在 D365 的 Sandbox 或者 UAT 环境中调试代码","uri":"https://www.nashome.cn/posts/dynamics-365-how-to-debug-sandbox-env-in-d365/"},{"categories":["Dynamicsax"],"content":"Start IIS and WWW services 启动IIS和第5步停止的WWW服务，不要启动批处理服务。 ","date":"2021-07-30","objectID":"https://www.nashome.cn/posts/dynamics-365-how-to-debug-sandbox-env-in-d365/:0:7","tags":["Dynamics365"],"title":"如何在 D365 的 Sandbox 或者 UAT 环境中调试代码","uri":"https://www.nashome.cn/posts/dynamics-365-how-to-debug-sandbox-env-in-d365/"},{"categories":["Dynamicsax"],"content":"Open the development environment AX URL 如果您收到 503 不可用错误，请转到 CMD（以管理员身份）并键入 IISRESET ","date":"2021-07-30","objectID":"https://www.nashome.cn/posts/dynamics-365-how-to-debug-sandbox-env-in-d365/:0:8","tags":["Dynamics365"],"title":"如何在 D365 的 Sandbox 或者 UAT 环境中调试代码","uri":"https://www.nashome.cn/posts/dynamics-365-how-to-debug-sandbox-env-in-d365/"},{"categories":["Dynamicsax"],"content":"Debug 现在沙箱环境已连接到您的开发环境。 您可以简单地打开 Visual Studio 将断点添加到 X++ 对象进行调试。 按照以上 9 个简单易懂的步骤操作后，您现在可以轻松调试沙箱环境了。 我希望本文能帮助您学习如何在 D365fo 开发环境中调试沙箱/测试环境，并在 D365 财务和运营 AX 中花费最少的精力。 ","date":"2021-07-30","objectID":"https://www.nashome.cn/posts/dynamics-365-how-to-debug-sandbox-env-in-d365/:0:9","tags":["Dynamics365"],"title":"如何在 D365 的 Sandbox 或者 UAT 环境中调试代码","uri":"https://www.nashome.cn/posts/dynamics-365-how-to-debug-sandbox-env-in-d365/"},{"categories":["Linux"],"content":"PRIN BLOG 半吊子全栈开发者的日常 – 感谢原作者 我有很多个电子邮箱地址，并且都设置了转发或者代收到 Gmail 上，方便集中处理。其中看重实时性、邮件需要尽快处理的邮箱地址（比如 printempw#gmail.com）是设置的自动转发规则，其他无关紧要的邮箱则是在 Gmail 上设置了 POP3 代收信（查收其他帐号的邮件），一直用到现在也没什么问题。 然而前段时间我却突然发现，Gmail 里收不到网易 126 邮箱里的邮件了。 打开 Gmail 配置一看，报错如下： 连接到pop.126.com时出现问题 服务器返回错误：“Connection timed out: There may be a problem with the settings you added. Please contact your other email provider to verify the correct server name and port.” 看来是 Gmail 用于收件的服务器无法连接至网易 126 邮箱的 POP3 服务器了。搜了一下，似乎 2011 年时就有过类似的问题（#1、#2）。虽然不知道为什么之前都正常，不过有理由怀疑是网易邮箱屏蔽了 Gmail 的代收服务器。 本来想改成自动转发的，却不知为何一直收不到手机验证码，只能暂时作罢。 然而等了一个多星期还是收不到验证码（搞什么鬼），只能另寻他法代收邮件了。 既然网易的 POP3 服务器屏蔽了 Gmail，那我们要做的也很简单，找一台能正常访问网易 POP3 的服务器转发代理一下就可以了（也就是反向代理）。端口转发方面我用了 socat，配合 systemd 服务实现守护进程。 首先在 VPS 上测试一下能否正常访问网易 POP3 服务器： nc pop.126.com 110 一切正常的话可以看到 POP3 服务器的欢迎语： +OK Welcome to coremail Mail Pop3 Server (126coms) 运行 socat 端口转发： socat -d -d TCP4-LISTEN:1110,reuseaddr,fork TCP4:pop.126.com:110 其中 -d -d 参数表示调试信息的输出级别，TCP4-LISTEN:1110 即监听在本机的 1110 端口（Gmail 的 POP3 服务器端口设置只接受 110、143、993、995、1110 和 2221），TCP4:pop.126.com:110 表示转发至网易服务器。 在另一台机器上测试端口转发（记得修改防火墙规则放行端口）： nc \u003caddress of vps\u003e 1110 可以看到网易 POP3 服务器的欢迎语就 OK。 接下来修改 Gmail 上的代收设置： POP 服务器：VPS 的域名 / IP 地址 端口：上面设置的监听端口 取消勾选「检索邮件时，始终使用安全连接 (SSL)」 这样 Gmail 就可以正常代收网易邮箱的邮件了。 如果想要配置支持 SSL 的 POP3 反向代理，可以使用 Nginx 实现，参考：Configuring NGINX as a Mail Proxy Server。不过我这邮箱就是注册垃圾站用的，没什么重要内容，懒得折腾，还是直接转发非 SSL 端口算了。 接下来添加 systemd 服务（可跳过）： sudo vim /etc/systemd/system/pop-proxy.service [Unit] Description=Port forwarding for 126 Mail POP server After=network.target [Service] Type=simple User=nobody ExecStart=/usr/bin/socat -d -d TCP4-LISTEN:1110,reuseaddr,fork TCP4:pop.126.com:110 Restart=always [Install] WantedBy=multi-user.target 启动服务 \u0026 设置开机启动： sudo systemctl start pop-proxy sudo systemctl enable pop-proxy 查看连接日志： journalctl -u pop-proxy 2021/02/06 更新，也可以使用 docker 一行解决： docker run --name pop-proxy \\\\ -d --restart=always \\\\ -p 1110:1110 \\\\ alpine/socat \\\\ -d -d TCP4-LISTEN:1110,reuseaddr,fork TCP4:pop.126.com:110 ","date":"2021-04-09","objectID":"https://www.nashome.cn/posts/gmail-connection-timed-out-with-126mail/:0:0","tags":["Gmail","docker","Proxy"],"title":"如何通过反向代理解决 Gmail 无法代收网易126邮箱的问题","uri":"https://www.nashome.cn/posts/gmail-connection-timed-out-with-126mail/"},{"categories":["Dynamicsax"],"content":"Dynamics 365 Find Fleet Management Solution File","date":"2021-03-30","objectID":"https://www.nashome.cn/posts/dynamics-365-find-fleet-management-solution-file/","tags":["Dynamics365"],"title":"如何生成 Dynamics 365 车队管理解决方案文件","uri":"https://www.nashome.cn/posts/dynamics-365-find-fleet-management-solution-file/"},{"categories":["Dynamicsax"],"content":"一些 Dynamics 365 教程需要 Fleet Management 解决方案文件。所有 Dynamics AX 开发 VM 上都存在 Fleet Management 模型。但是，某些 VM 不包含编辑，测试和调试这些模型所需的解决方案文件。您可以按照此处描述的步骤，轻松地从 Fleet Management 模型中创建 Visual Studio 解决方案文件。 从 Dynamics 365 \u003e Options 对话框中启用 Organize project by element type 选项 在 Application Explorer 中按 model:“fleet management” 的所有元素过滤 搜索完成后，右键单击 AOT 节点，然后选择 将搜索结果添加到新项目 在 新建项目 对话框中，输入解决方案名称，项目名称和位置，然后单击 确定 。 将解决方案命名为 FleetManagement 将项目命名为 FleetManagement 或 Fleet Management Migrated （在某些教程中，该项目称为“ Fleet Management Migrated”项目） 这将在新的 FleetManagement 解决方案下创建一个 FleetManagement 项目，并将属于 Fleet Management 模型的所有元素添加到该项目中。 重复步骤2到3，将Fleet Management Extension模型添加到新项目中。 在“新建项目”对话框中，输入项目名称，并确保选择 **添加到解决方案 **以将新项目添加到现有的 Fleet Management 解决方案中。 最终结果将是一个 Fleet Management 解决方案，其中包含2个项目： Fleet Management（或 Fleet Management Migrated） Fleet Management Extension 您可以使用此过程从Application Explorer中的任何模型中创建项目或解决方案。您还可以将其他过滤器应用于Application Explorer搜索，以从模型元素的子集而不是整个模型创建项目。 ","date":"2021-03-30","objectID":"https://www.nashome.cn/posts/dynamics-365-find-fleet-management-solution-file/:0:0","tags":["Dynamics365"],"title":"如何生成 Dynamics 365 车队管理解决方案文件","uri":"https://www.nashome.cn/posts/dynamics-365-find-fleet-management-solution-file/"},{"categories":["Dynamicsax"],"content":"如何把 Dynamics 365 FO的开发机升级到最新版本Install deployable packages from the command line","date":"2021-01-20","objectID":"https://www.nashome.cn/posts/dynamics-365-upgrade-dev-machine/","tags":["Dynamics365"],"title":"如何把 Dynamics 365 FO的开发机升级到最新版本","uri":"https://www.nashome.cn/posts/dynamics-365-upgrade-dev-machine/"},{"categories":["Dynamicsax"],"content":"以下是一些条件 可以登录 Microsoft Dynamics Lifecycle Services (LCS)，可以打开资产库 确认当前 Dev Machine 版本是10.0.13，最新版本是10.0.15 开发机已经配置好并且可以正常使用 为了让部署在本地的开发机（虚拟机目前最高版本是10.0.13）和 Azure 的测试环境（SandBox环境目前最高10.0.15）保持代码的一致性，因此需要把本地的开发机升级一下。 ","date":"2021-01-20","objectID":"https://www.nashome.cn/posts/dynamics-365-upgrade-dev-machine/:0:0","tags":["Dynamics365"],"title":"如何把 Dynamics 365 FO的开发机升级到最新版本","uri":"https://www.nashome.cn/posts/dynamics-365-upgrade-dev-machine/"},{"categories":["Dynamicsax"],"content":"从 Lifecycle Services 下载大版本的更新包 资产库 软件可部署包 选择 Service Update ，点击后就会自动开始下载。 ","date":"2021-01-20","objectID":"https://www.nashome.cn/posts/dynamics-365-upgrade-dev-machine/:0:1","tags":["Dynamics365"],"title":"如何把 Dynamics 365 FO的开发机升级到最新版本","uri":"https://www.nashome.cn/posts/dynamics-365-upgrade-dev-machine/"},{"categories":["Dynamicsax"],"content":"从 Lifecycle Services 下载小版本的更新包 完整详细信息 这里可以看到当前 SandBox 环境的大版本号和小版本号，我们点击右侧的查看更新 在弹出的页面中我们可以看到已经有许多更新存在这里了，点击右上角的保存包就会开始下载了。 ","date":"2021-01-20","objectID":"https://www.nashome.cn/posts/dynamics-365-upgrade-dev-machine/:0:2","tags":["Dynamics365"],"title":"如何把 Dynamics 365 FO的开发机升级到最新版本","uri":"https://www.nashome.cn/posts/dynamics-365-upgrade-dev-machine/"},{"categories":["Dynamicsax"],"content":"在开发机中安装补丁包 重命名 文件夹命名方式：只需要版本号即可，注意将版本号的 . 换成 - （可能不识别.）。命名长度不宜过长。 执行 打开命令行（管理员），来到解压路径，执行如下命令 AXUpdateInstaller.exe list 定位到解压路径，找到文件 DefaultTopologyData.xml ，定位到\u003cServiceModelList\u003e，将上一步列出来的service，以同样的格式加进来。 执行如下命令 AXUpdateInstaller.exe generate -runbookid=\"MININT-5REKJI6-10015-runbook\" -topologyfile=\"DefaultTopologyData.xml\" -servicemodelfile=\"DefaultServiceModelData.xml\" -runbookfile=\"MININT-5REKJI6-10015-runbook.xml\" -runbook 命名规则：计算机名-版本号-runbook 执行如下命令，即开始更新了 AXUpdateInstaller.exe import -runbookfile=\"MININT-5REKJI6-10015-runbook.xml\" AXUpdateInstaller.exe list AXUpdateInstaller.exe execute -runbookid=\"MININT-5REKJI6-10015-runbook\" 执行完毕后，如果没有失败，执行如下命令 AXUpdateInstaller.exe export -runbookid=\"MININT-5REKJI6-10015-runbook\" -runbookfile=\"MININT-5REKJI6-10015-runbook.xml\" 补充 如果执行过程中，某一步出错，通过以下命令继续执行 AXUpdateInstaller.exe execute -runbookid=\"runbookID\" -rerunstep=stepID 过程中我遇到过的错误 step25 由于前几步的更新会关闭Reporting Service，打开后重试即可 step30 如果出现这个错误，请直接重新执行第30步 step52 这一步比较妖孽，我更新了服务器补丁，重启数次后才生效，，但是安装第二个包的时候却又报错了，索性不更新该服务了 参考文档： 标题 链接 Install deployable packages from the command line install-deployable-package ","date":"2021-01-20","objectID":"https://www.nashome.cn/posts/dynamics-365-upgrade-dev-machine/:0:3","tags":["Dynamics365"],"title":"如何把 Dynamics 365 FO的开发机升级到最新版本","uri":"https://www.nashome.cn/posts/dynamics-365-upgrade-dev-machine/"},{"categories":["Linux"],"content":"此教程主要分享给大家如何在已经安装好的 ESXI6.7 中安装第三方显卡驱动 开启SSH 路径：主机\u003e操作\u003e服务\u003e启用安全 Shell（SSH）和启动控制台 Shell 下载网卡驱动 地址： https://vibsdepot.v-front.de/wiki/index.php/List_of_currently_available_ESXi_packages 找到需要安装的驱动程序， 如图： 点进去到最下面，找到下载链接，另存为 如图： 上传驱动到ESXI 路径：存储 \u003e DataStore 如图： 记录 位置：/vmfs/volumes/5fd6db75-dbd21eac-4b7e-34e6d74232c4 点击 数据存储浏览器 新建一个 drivers 文件夹，把刚才下载的驱动上传到该文件夹 安装驱动 执行如下命令即可安装驱动程序 esxcli software acceptance set --level=CommunitySupported esxcli software vib install -v /vmfs/volumes/5fd6db75-dbd21eac-4b7e-34e6d74232c4/drivers/net55-r8168-8.045a-napi.x86_64.vib 问题 安装一些上古网卡驱动的时候会报下面这个错误： [DependencyError] VIB Realtek_bootbank_net-r8139too_0.9.28-1 requires com.vmware.driverAPI-9.2.0.0, but the requirement cannot be satisfied within the ImageProfile. VIB Realtek_bootbank_net-r8139too_0.9.28-1 requires vmkapi_2_0_0_0, but the requirement cannot be satisfied within the ImageProfile. Please refer to the log file for more details. 不用担心，在命令最后加上 --force 即可 esxcli software vib install -v /vmfs/volumes/5fd6db75-dbd21eac-4b7e-34e6d74232c4/drivers/XXXX.vib --force Installation Result Message: The update completed successfully, but the system needs to be rebooted for the changes to be effective. Reboot Required: true VIBs Installed: Realtek_bootbank_net-r8139too_0.9.28-1 VIBs Removed: VIBs Skipped: ","date":"2020-12-15","objectID":"https://www.nashome.cn/posts/esxi-install-drivers/:0:0","tags":["Esxi","Realtek","网卡驱动"],"title":"如何在Esxi6.7中在线安装第三方网卡驱动（Realtek瑞昱RTL8111G/8168网卡驱动）","uri":"https://www.nashome.cn/posts/esxi-install-drivers/"},{"categories":["Dynamicsax"],"content":"在局域网中访问 Dynamics 365 FO OneBox 虚拟机 ","date":"2020-11-26","objectID":"https://www.nashome.cn/posts/dynamics-365-expose-onebox-to-lan/:1:0","tags":["Dynamics365"],"title":" 如何在局域网中访问 Dynamics 365 FO OneBox 虚拟机","uri":"https://www.nashome.cn/posts/dynamics-365-expose-onebox-to-lan/"},{"categories":["Dynamicsax"],"content":"修改 HOST 文件（域名解析文件） 文件路径： C:\\Windows\\System32\\drivers\\etc 在文件中添加下面解析：其中 IP 地址为虚拟机的网络地址 192.168.1.58 usnconeboxax1aos.cloud.onebox.dynamics.com 192.168.1.58 usncax1ret.cloud.onebox.dynamics.com 192.168.1.58 usnconeboxax1ret.cloud.onebox.dynamics.com 192.168.1.58 usnconeboxax1pos.cloud.onebox.dynamics.com 192.168.1.58 usnconeboxax1ecom.cloud.onebox.dynamics.com 192.168.1.58 usncax1ecom.cloud.onebox.dynamics.com 192.168.1.58 usncax1pos.cloud.onebox.dynamics.com 192.168.1.58 retailhardwarestation.cloud.onebox.dynamics.com 修改完 HOST 文件后，浏览器打开 https://usnconeboxax1aos.cloud.onebox.dynamics.com 就可以访问到 D365 了，但是系统会提示证书有问题，不理会他也是可以正常使用的，但是逼死强迫症啊。 ","date":"2020-11-26","objectID":"https://www.nashome.cn/posts/dynamics-365-expose-onebox-to-lan/:1:1","tags":["Dynamics365"],"title":" 如何在局域网中访问 Dynamics 365 FO OneBox 虚拟机","uri":"https://www.nashome.cn/posts/dynamics-365-expose-onebox-to-lan/"},{"categories":["Dynamicsax"],"content":"证书 方法一 在虚拟机中打开 IIS 找到 AOSService 的 Bindings… , 依次点击 Edit… \u003e View… \u003e Details \u003e Copy to File, 把证书文件保存好。 把上一步导出的证书文件，导入本机受信任的根证书颁发机构中。 再次尝试打开网址 方法二 自签名证书 使用管理员运行 PowerShell 命令行工具，运行下面代码： New-SelfSignedCertificate -CertStoreLocation cert:\\LocalMachine\\My -DnsName *.cloud.onebox.dynamics.com -KeyUsage EncipherOnly, CRLSign, CertSign, KeyAgreement, DataEncipherment, KeyEncipherment, NonRepudiation, DigitalSignature, DecipherOnly -NotAfter (Get-Date).AddMonths(60) 拷贝证书 上述代码执行完毕会在证书管理中生成下图证书，可以看到较近的日期就是我们刚才生成的，把它复制到受信任的根证书里面 绑定证书 打开 IIS ，找到下图位置，替换 AOSService 的证书。 好了，到这里，只需要根据方法一中的办法，把证书导入客户端的电脑中即可，再次浏览器打开 https://usnconeboxax1aos.cloud.onebox.dynamics.com 就可以安全的访问到 D365 了。 ","date":"2020-11-26","objectID":"https://www.nashome.cn/posts/dynamics-365-expose-onebox-to-lan/:1:2","tags":["Dynamics365"],"title":" 如何在局域网中访问 Dynamics 365 FO OneBox 虚拟机","uri":"https://www.nashome.cn/posts/dynamics-365-expose-onebox-to-lan/"},{"categories":["Dynamicsax"],"content":"在 Dynamics AX 中 无论版本是2009还是2012或者D365，总是会遇到下面这两个报错： Object ‘CLRObject’ could not be created ClrObject static method invocation error 而且系统给出的日志实在是太简短了，让人摸不着头脑。不过一般出现这两个问题都是在AX中处理 .net 相关的 dll 或者在调用 web service、WCF。那么剩下的问题就是我们该怎么样得知在调用 .net 框架的时候究竟出了什么问题呢，一旦知道了具体原因就好办了。 好，那我们通过一个 Job 演示一下吧： static void RaiseCLRException(Args _args) { ; //Necessary if executed on the AOS new InteropPermission(InteropKind::ClrInterop).assert(); try { //This will cause an exception System.Int32::Parse(\"abc\"); } catch(Exception::CLRError) { //Access the last CLR Exception info(CLRInterop::getLastException().ToString()); //See AifUtil::getClrErrorMessage for another alternative //how to parse the Exception object } //Revert CAS back to normal CodeAccessPermission::revertAssert(); } 执行上面代码我们可以得到如下信息： System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. —\u003e **System.FormatException: Input string was not in a correct format.** at System.Number.StringToNumber(String str, NumberStyles options, NumberBuffer\u0026 number, NumberFormatInfo info, Boolean parseDecimal) at System.Number.ParseInt32(String s, NumberStyles style, NumberFormatInfo info) at System.Int32.Parse(String s) — End of inner exception stack trace — at System.RuntimeMethodHandle._InvokeMethodFast(Object target, Object[] arguments, SignatureStruct\u0026 sig, MethodAttributes methodAttributes, RuntimeTypeHandle typeOwner) at System.RuntimeMethodHandle.InvokeMethodFast(Object target, Object[] arguments, Signature sig, MethodAttributes methodAttributes, RuntimeTypeHandle typeOwner) at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture, Boolean skipVisibilityChecks) at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) at ClrBridgeImpl.InvokeClrStaticMethod(ClrBridgeImpl* , Char* pszClassName, Char* pszMethodName, Char* assemblyName, Int32 argsLength, ObjectWrapper** arguments, Boolean* argsAreByRef, Boolean* isException) =\u003e The part System.FormatException: Input string was not in a correct format. 从这一段就可以看出到底是哪里出问题了。 ","date":"2020-11-17","objectID":"https://www.nashome.cn/posts/dynamicsax-clr-exceptions/:0:0","tags":["Ax2012"],"title":"如何在 DynamicsAX 中处理CLR对象报错的问题","uri":"https://www.nashome.cn/posts/dynamicsax-clr-exceptions/"},{"categories":["linux"],"content":"增加Swap交换分区 切换到root用户 sudo -i 创建一个1G大小的虚拟磁盘 dd if=/dev/zero of=/swapfile bs=1M count=1024 一般建议Swap为内存大小的2倍, 我这设置的1G. if: 输入文件 /dev/zero: 造0器 of: 输出 bs: 块大小 count: 块数 格式化 mkswap -f /swapfile 修改权限 chmod 0600 /swapfile 挂载swap swapon /swapfile 查看是否有swap分区 free -m 如需卸载, 使用命令: swapoff /swapfile 到这一步基本已经完成了. 不过系统重启后需要手动挂载swap文件. 如果想让系统重启后自动挂载, 需要修改配置文件vim /etc/fstab: 在最后一行添加 /swapfile none swap sw 0 0 ","date":"2020-08-27","objectID":"https://www.nashome.cn/posts/how-to-set-up-swap-in-centos7/:1:0","tags":["swap"],"title":"如何在Centos7中增加Swap交换分区","uri":"https://www.nashome.cn/posts/how-to-set-up-swap-in-centos7/"},{"categories":["linux"],"content":"优化 ","date":"2020-08-27","objectID":"https://www.nashome.cn/posts/how-to-set-up-swap-in-centos7/:2:0","tags":["swap"],"title":"如何在Centos7中增加Swap交换分区","uri":"https://www.nashome.cn/posts/how-to-set-up-swap-in-centos7/"},{"categories":["linux"],"content":"swappiness swappiness参数控制换出运行时内存的相对权重. 范围0-100, 默认为60. 低的参数值会让内核尽量少用交换，更高的参数值会使内核更多的去使用交换空间. 这里我们设为10. sysctl vm.swappiness=10 临时设置, 重启失效 编辑启动配置 vim /etc/sysctl.conf, 在最后一行添加 vm.swappiness=10 ","date":"2020-08-27","objectID":"https://www.nashome.cn/posts/how-to-set-up-swap-in-centos7/:2:1","tags":["swap"],"title":"如何在Centos7中增加Swap交换分区","uri":"https://www.nashome.cn/posts/how-to-set-up-swap-in-centos7/"},{"categories":["linux"],"content":"vfs_cache_pressure vfs_cache_pressure设置内核回收用于directory和inode cache内存的倾向, 默认为100, 我们设为50. sysctl vm.vfs_cache_pressure=50 临时设置, 重启失效 编辑启动配置 vim /etc/sysctl.conf, 最后一行添加 vm.vfs_cache_pressure = 50 ","date":"2020-08-27","objectID":"https://www.nashome.cn/posts/how-to-set-up-swap-in-centos7/:2:2","tags":["swap"],"title":"如何在Centos7中增加Swap交换分区","uri":"https://www.nashome.cn/posts/how-to-set-up-swap-in-centos7/"},{"categories":["linux"],"content":"网上流传的优质节点 IP 172.64.32.1/24 （推荐移动，走香港） 104.28.14.0/24 （推荐移动，走新加坡） 104.23.240.0-104.23.243.254 （推荐联通、移动，线路未知） 108.162.236.1/24 （推荐联通，走美国） 104.20.157.0/24 （推荐联通，走日本） 104.16.160.1/24 （推荐电信，走洛杉矶） 172.64.0.0/24 （推荐电信，走旧金山） 172.64.32.* （走欧洲） ","date":"2020-08-19","objectID":"https://www.nashome.cn/posts/how-to-choose-a-better-ip-in-cloudflare-cdn/:1:0","tags":["goindex","cloudflare","cloudflare workers"],"title":"如何手工选择优质的CloudFlare CDN节点IP","uri":"https://www.nashome.cn/posts/how-to-choose-a-better-ip-in-cloudflare-cdn/"},{"categories":["linux"],"content":"传说CloudFlare 与百度云合作的节点 IP 162.159.208.4-162.159.208.103 162.159.209.4-162.159.209.103 162.159.210.4-162.159.210.103 162.159.211.4-162.159.211.103 162.159.211.4-103 103.21.244.0/22 103.22.200.0/22 103.31.4.0/22 104.16.0.0/12 108.162.192.0/18 131.0.72.0/22 141.101.64.0/18 162.158.0.0/15 172.64.0.0/13 173.245.48.0/20 188.114.96.0/20 190.93.240.0/20 197.234.240.0/22 198.41.128.0/17 ","date":"2020-08-19","objectID":"https://www.nashome.cn/posts/how-to-choose-a-better-ip-in-cloudflare-cdn/:2:0","tags":["goindex","cloudflare","cloudflare workers"],"title":"如何手工选择优质的CloudFlare CDN节点IP","uri":"https://www.nashome.cn/posts/how-to-choose-a-better-ip-in-cloudflare-cdn/"},{"categories":["linux"],"content":"网友收集的 CloudFlare 国内线路友好节点 IP ： 108.162.236.1/24 联通 走美国 172.64.32.1/24 移动 走香港 104.16.160.1/24 电信 走美国洛杉矶 172.64.0.0/24 电信 美国旧金山 104.20.157.0/24 联通 走日本 104.28.14.0/24 移动 走新加坡 网友关于各线路推荐列表： 电信：推荐走圣何塞，例：104.16.160.* 或者上面的百度云合作 IP 移动：推荐走移动香港，例：172.64.32.* 141.101.115.* 或者 104.23.240.0-104.23.243.254 联通：没发布什么好线路，可走圣何塞。例：104.16.160.* 或者 104.23.240.0-104.23.243.254 。也可以试一下走亚特兰大 108.162.236.* ","date":"2020-08-19","objectID":"https://www.nashome.cn/posts/how-to-choose-a-better-ip-in-cloudflare-cdn/:3:0","tags":["goindex","cloudflare","cloudflare workers"],"title":"如何手工选择优质的CloudFlare CDN节点IP","uri":"https://www.nashome.cn/posts/how-to-choose-a-better-ip-in-cloudflare-cdn/"},{"categories":["linux"],"content":"其它节点 IP 这些IP不一定可以用，请测试后再使用： 104.18.62.1/24 香港hkix.net 104.16.35.1/24 香港hkix.net 104.16.36.1/24 香港hkix.net 104.18.35.1/24 香港hkix.net 104.18.36.1/24 香港hkix.net 104.16.54.1/24 香港 104.16.55.1/24 香港 104.18.128.1/24 香港 104.18.129.1/24 香港 104.18.130.1/24 香港 104.18.131.1/24 香港 104.18.132.1/24 香港 104.19.195.1/24 香港 104.19.196.1/24 香港 104.19.197.1/24 香港 104.19.198.1/24 香港 104.19.199.1/24 香港 #适合电信的节点 104.23.240.* #走欧洲各国出口 英国德国荷兰等 延迟比美国高一些 适合源站在欧洲的网站 172.64.32.* #虽然去程走新加坡，但是回程线路的绕路的，实际效果不好，不推荐 104.16.160.* #圣何塞的线路，比洛杉矶要快一点，推荐 108.162.236.* #亚特兰大线路，延迟稳定，但是延迟较高 #适合移动的节点 162.158.133.* #走的丹麦，这一段ip只有部分能用，可以自己试一下，绕美国 198.41.214.* 198.41.212.* 198.41.208.* 198.41.209.* 172.64.32.* 141.101.115.* #移动走香港的IP段有很多，以上并不是全部。CF移动走香港的分直连和走ntt的效果都挺不错的，不过部分地区晚上还是会丢包。 172.64.0. * #这是走圣何塞的，一般用香港的就行 172.64.16.* #欧洲线路.绕 #1.0.0.1效果较好 电信部分 大多数省直接使用1.0.0.0即可，延迟低，丢包少， # 移动部分 #新加坡 104.18.48.0-104.18.63.255 104.24.112.0-104.24.127.255 104.27.128.0-104.27.143.255 104.28.0.0-104.28.15.255 # 移动部分 #圣何塞 104.28.16.0-31.255 104.27.144.0-243.254 104.23.240.0-243.254 #香港cloudflare1-100g.hkix.net 1.0.0.0-254 1.1.1.0-254 #香港直连 104.16.0.0-79.255 104.16.96.0-175.254 104.16.192.0-207.255 ","date":"2020-08-19","objectID":"https://www.nashome.cn/posts/how-to-choose-a-better-ip-in-cloudflare-cdn/:4:0","tags":["goindex","cloudflare","cloudflare workers"],"title":"如何手工选择优质的CloudFlare CDN节点IP","uri":"https://www.nashome.cn/posts/how-to-choose-a-better-ip-in-cloudflare-cdn/"},{"categories":["linux"],"content":"自动查找最优 CloudFlare 节点 IP 如果上面所列出来的 CloudFlare 节点 IP 都不能使用了，这里提供一个由 @犯罪高手 大佬写的自动查找最优 CloudFlare 节点 IP BAT 脚本 下载地址点这里 ","date":"2020-08-19","objectID":"https://www.nashome.cn/posts/how-to-choose-a-better-ip-in-cloudflare-cdn/:5:0","tags":["goindex","cloudflare","cloudflare workers"],"title":"如何手工选择优质的CloudFlare CDN节点IP","uri":"https://www.nashome.cn/posts/how-to-choose-a-better-ip-in-cloudflare-cdn/"},{"categories":["linux"],"content":"使用方法 推荐使用半自动方式查找 可以发给不同地区的网站用户帮忙进行测速 执行 1-自动查找100个丢包最少的IP.bat 设置对 IP 丢包测试 PING 的次数，默认 100 次，可手动设定，推荐 50 次以上。运行完毕后命令行窗口会自动关闭再进行下一步操作 执行 2-对100个丢包最少的IP测速.bat 此过程是利用 curl 下载托管于cloudflare的大文件，默认每个 IP 下载时间为 10 秒钟。下载结束后到 temp 文件夹根据文件大小排序查看下载文件的大小。文件越大，代表单位时间内传输的数据越多，速度就越快。其中文件名是以 IP 地址的名称命名的。如果想要对 IP 单线程测速，可参考第三步。如果第三步找不到好用的 IP ，可重新执行第二步，再此完整测速分析 执行 3-单IP测速.bat 输入第二步筛选出来的 IP 地址，回车后进行文件下载速度测试 如果觉得上述过程过于繁琐 请参照最后一步 懒人版全自动处理 执行 自动查找最优CF节点-懒人专用.bat 等待运行完毕后自动弹出 IP 速度从大到小的排名文本文件 该测试的结果不一定能达到预期的效果 ","date":"2020-08-19","objectID":"https://www.nashome.cn/posts/how-to-choose-a-better-ip-in-cloudflare-cdn/:5:1","tags":["goindex","cloudflare","cloudflare workers"],"title":"如何手工选择优质的CloudFlare CDN节点IP","uri":"https://www.nashome.cn/posts/how-to-choose-a-better-ip-in-cloudflare-cdn/"},{"categories":["Linux"],"content":"购买途径 拼多多上有白色版本、黑色版本（最便宜）、米色版本，有拆封刷机的，也要号称原装未拆封的（基本不存在的）。不用纠结拆没拆封，买所谓的全新的就是了。 ","date":"2020-07-27","objectID":"https://www.nashome.cn/posts/n1-install-openwrt/:1:0","tags":["N1","openwrt"],"title":"如何把 Openwrt 软路由刷入 N1 真香盒子中","uri":"https://www.nashome.cn/posts/n1-install-openwrt/"},{"categories":["Linux"],"content":"刷机 ","date":"2020-07-27","objectID":"https://www.nashome.cn/posts/n1-install-openwrt/:2:0","tags":["N1","openwrt"],"title":"如何把 Openwrt 软路由刷入 N1 真香盒子中","uri":"https://www.nashome.cn/posts/n1-install-openwrt/"},{"categories":["Linux"],"content":"降级 将购入的 N1 盒子插上 HDMI 线，接电视机或显示器，可以看到当前系统的版本，如果版本号高于 2.19 则需要先降级再刷机。 参考大佬的方式，很简单大佬讲的很清楚，地址：https://www.right.com.cn/FORUM/thread-340279-1-1.html 在降级之前建议先安装 USB_Burning_Tool 这个工具，别人推荐的。 降级步骤： N1 盒子连接网络，无线或者有线均可，需要保证和降级需要的电脑在同一局域网 N1 盒子连接显示器，记录下来 N1 盒子的 ip 鼠标连续点击 N1 盒子版本号位置4下，打开盒子的 adb 服务 打开降级工具，按提示操作即可。注意的是选择降级回车确认后，需要等待一会才能看到成功提示 降级完毕后，关闭降级工具窗口，显示器看到版本号没有改变，实际上已经降级成功 ","date":"2020-07-27","objectID":"https://www.nashome.cn/posts/n1-install-openwrt/:2:1","tags":["N1","openwrt"],"title":"如何把 Openwrt 软路由刷入 N1 真香盒子中","uri":"https://www.nashome.cn/posts/n1-install-openwrt/"},{"categories":["Linux"],"content":"刷入openwrt 选择 flippy 大佬的版本，地址：https://www.right.com.cn/forum/thread-981406-1-1.html 首先将固件下载解压，用 U 盘镜像文件写入工具（推荐使用 rufus ），把img文件写入 U 盘 公对公USB线连接电脑N1 然后将 U 盘插入 N1 盒子靠近 HDMI 的 USB 接口，使用官方系统降级工具选项 3 可以进入 U 盘启动 成功 U 盘启动后，即进入了 openwrt 系统，如果仅想在 U 盘中体验使用，此时就可以登陆 openwrt 页面管理使用了 可选步骤。可以将 openwrt 系统刷入 N1 盒子的内置存储 emmc 中，具体命令请查看 flippy 的帖子 ","date":"2020-07-27","objectID":"https://www.nashome.cn/posts/n1-install-openwrt/:2:2","tags":["N1","openwrt"],"title":"如何把 Openwrt 软路由刷入 N1 真香盒子中","uri":"https://www.nashome.cn/posts/n1-install-openwrt/"},{"categories":["Linux"],"content":"切换系统 openwrt -\u003e 原版 参考 https://www.right.com.cn/forum/thread-413863-1-1.html ： 先把 USB 对公线链接到电脑 USB 口与 N1 的第二个口（靠 HDMI 口），N1 不要通电 打开 USB_Burning_Tool，导入固件 webpad 的 2.2 线刷包，验证通过后，出现开始字样 勾选擦除 FLASH，不要勾选擦除 bootloader，USB_Burning_Tool 点击开始运行刷机，3 秒钟内速度让 N1 通电 USB_Burning_Tool 开始正常识别 N1 线刷模式，刷机开始 烧录完成后，拔电重启，N1 恢复了原来的样子，可以正常 adb 连接，进入线刷，重新刷其他系统 ","date":"2020-07-27","objectID":"https://www.nashome.cn/posts/n1-install-openwrt/:2:3","tags":["N1","openwrt"],"title":"如何把 Openwrt 软路由刷入 N1 真香盒子中","uri":"https://www.nashome.cn/posts/n1-install-openwrt/"},{"categories":["linux"],"content":"先把rclone的可执行文件复制到/usr/bin： cp /root/rclone-v1.39-linux-amd64/rclone /usr/bin/rclone 新建一个rclone.service文件： vi /usr/lib/systemd/system/rclone.service 写入： [Unit] Description = rclone [Service] User = root ExecStart = /usr/bin/rclone mount embyserver:videos/embyserver /www/wwwroot/v.nashome.cn/embyserver \\ --umask 0000 \\ --default-permissions \\ --allow-non-empty \\ --allow-other \\ --buffer-size 32M \\ --dir-cache-time 12h \\ --vfs-read-chunk-size 64M \\ --vfs-read-chunk-size-limit 1G Restart = on-abort [Install] WantedBy = multi-user.target 重载daemon，让新的服务文件生效： systemctl daemon-reload 现在就可以用systemctl来启动rclone了： systemctl start rclone 设置开机启动： systemctl enable rclone 停止、查看状态可以用： systemctl stop rclone systemctl status rclone 重启你的VPS，然后查看一下rclone的服务起来没，接着查看一下盘子挂上去没： reboot systemctl status rclone df -h ","date":"2020-07-27","objectID":"https://www.nashome.cn/posts/rclone-startup/:0:0","tags":["rclone"],"title":"如何在服务器重启后自动挂载Rclone-脚本","uri":"https://www.nashome.cn/posts/rclone-startup/"},{"categories":["Linux"],"content":"使用Gclone搬运Google Drive资源 Autorclone地址 Gclone地址 ","date":"2020-07-07","objectID":"https://www.nashome.cn/posts/install-autorclone-gclone/:0:0","tags":["GoogleDrive"],"title":"如何安装和配置 Autorclone Gclone","uri":"https://www.nashome.cn/posts/install-autorclone-gclone/"},{"categories":["Linux"],"content":"安装步骤 ","date":"2020-07-07","objectID":"https://www.nashome.cn/posts/install-autorclone-gclone/:1:0","tags":["GoogleDrive"],"title":"如何安装和配置 Autorclone Gclone","uri":"https://www.nashome.cn/posts/install-autorclone-gclone/"},{"categories":["Linux"],"content":"一、安装Rclone、Gclone curl https://rclone.org/install.sh | sudo bash 安装原版rclone bash \u003c(wget -qO- https://git.io/gclone.sh) 安装修改后的Gclone ","date":"2020-07-07","objectID":"https://www.nashome.cn/posts/install-autorclone-gclone/:1:1","tags":["GoogleDrive"],"title":"如何安装和配置 Autorclone Gclone","uri":"https://www.nashome.cn/posts/install-autorclone-gclone/"},{"categories":["Linux"],"content":"二、安装配置Autorclone 配置环境 #CentOS系统 wget https://www.moerats.com/usr/shell/Python3/CentOS_Python3.6.sh \u0026\u0026 sh CentOS_Python3.6.sh yum install screen git -y #Debian系统 wget https://www.moerats.com/usr/shell/Python3/Debian_Python3.6.sh \u0026\u0026 sh Debian_Python3.6.sh apt-get install screen git #Ubuntu系统 apt update apt install python3-pip python3-setuptools python3-dev python3-wheel build-essential screen git -y 安装源码并配置环境 git clone https://github.com/xyou365/AutoRclone \u0026\u0026 cd AutoRclone \u0026\u0026 pip3 install -r requirements.txt ","date":"2020-07-07","objectID":"https://www.nashome.cn/posts/install-autorclone-gclone/:1:2","tags":["GoogleDrive"],"title":"如何安装和配置 Autorclone Gclone","uri":"https://www.nashome.cn/posts/install-autorclone-gclone/"},{"categories":["Linux"],"content":"三、生成SA账号 获取账户的JSON 在Python Quickstart 这一步会得到一个文件，保存它 2. 生成SA账号 python3 gen_sa_accounts.py --quick-setup 1 最后的参数1表示创建多少项目，一个项目一百个SA账户。 然后运行下面的命令，会在ROOT目录生成一个email文件，该文件就是你所创建的账户的所有的邮箱地址。 cat ~/AutoRclone/accounts/*.json | grep \"client_email\" | awk '{print $2}'| tr -d ',\"' | sed 'N;N;N;N;N;N;N;N;N;/^$/d;G' \u003e ~/email 创建Google Group 将上面得到的email文件中的邮箱全部加如刚创建的Group 至此，Autorclone的配置全部结束 ","date":"2020-07-07","objectID":"https://www.nashome.cn/posts/install-autorclone-gclone/:1:3","tags":["GoogleDrive"],"title":"如何安装和配置 Autorclone Gclone","uri":"https://www.nashome.cn/posts/install-autorclone-gclone/"},{"categories":["Linux"],"content":"四、配置Gclone gclone config [root@izj6cfrhpszlpag2u50h1pz ~]# gclone config Current remotes: Name Type ==== ==== gc drive gc1 drive jygd drive sjhl onedrive e) Edit existing remote n) New remote d) Delete remote r) Rename remote c) Copy remote s) Set configuration password q) Quit config e/n/d/r/c/s/q\u003e n name\u003e gc Remote \"gc\" already exists. name\u003e gc2 Type of storage to configure. Enter a string value. Press Enter for the default (\"\"). Choose a number from below, or type in your own value 1 / 1Fichier \\ \"fichier\" 2 / Alias for an existing remote \\ \"alias\" 3 / Amazon Drive \\ \"amazon cloud drive\" 4 / Amazon S3 Compliant Storage Provider (AWS, Alibaba, Ceph, Digital Ocean, Dreamhost, IBM COS, Minio, etc) \\ \"s3\" 5 / Backblaze B2 \\ \"b2\" 6 / Box \\ \"box\" 7 / Cache a remote \\ \"cache\" 8 / Citrix Sharefile \\ \"sharefile\" 9 / Dropbox \\ \"dropbox\" 10 / Encrypt/Decrypt a remote \\ \"crypt\" 11 / FTP Connection \\ \"ftp\" 12 / Google Cloud Storage (this is not Google Drive) \\ \"google cloud storage\" 13 / Google Drive \\ \"drive\" 14 / Google Photos \\ \"google photos\" 15 / Hubic \\ \"hubic\" 16 / In memory object storage system. \\ \"memory\" 17 / JottaCloud \\ \"jottacloud\" 18 / Koofr \\ \"koofr\" 19 / Local Disk \\ \"local\" 20 / Mail.ru Cloud \\ \"mailru\" 21 / Mega \\ \"mega\" 22 / Microsoft Azure Blob Storage \\ \"azureblob\" 23 / Microsoft OneDrive \\ \"onedrive\" 24 / OpenDrive \\ \"opendrive\" 25 / Openstack Swift (Rackspace Cloud Files, Memset Memstore, OVH) \\ \"swift\" 26 / Pcloud \\ \"pcloud\" 27 / Put.io \\ \"putio\" 28 / QingCloud Object Storage \\ \"qingstor\" 29 / SSH/SFTP Connection \\ \"sftp\" 30 / Sugarsync \\ \"sugarsync\" 31 / Transparently chunk/split large files \\ \"chunker\" 32 / Union merges the contents of several remotes \\ \"union\" 33 / Webdav \\ \"webdav\" 34 / Yandex Disk \\ \"yandex\" 35 / http Connection \\ \"http\" 36 / premiumize.me \\ \"premiumizeme\" Storage\u003e 13 ** See help for drive backend at: https://rclone.org/drive/ ** Google Application Client Id Setting your own is recommended. See https://rclone.org/drive/#making-your-own-client-id for how to create your own. If you leave this blank, it will use an internal key which is low performance. Enter a string value. Press Enter for the default (\"\"). client_id\u003e Google Application Client Secret Setting your own is recommended. Enter a string value. Press Enter for the default (\"\"). client_secret\u003e Scope that rclone should use when requesting access from drive. Enter a string value. Press Enter for the default (\"\"). Choose a number from below, or type in your own value 1 / Full access all files, excluding Application Data Folder. \\ \"drive\" 2 / Read-only access to file metadata and file contents. \\ \"drive.readonly\" / Access to files created by rclone only. 3 | These are visible in the drive website. | File authorization is revoked when the user deauthorizes the app. \\ \"drive.file\" / Allows read and write access to the Application Data folder. 4 | This is not visible in the drive website. \\ \"drive.appfolder\" / Allows read-only access to file metadata but 5 | does not allow any access to read or download file content. \\ \"drive.metadata.readonly\" scope\u003e 1 ID of the root folder Leave blank normally. Fill in to access \"Computers\" folders (see docs), or for rclone to use a non root folder as its starting point. Note that if this is blank, the first time rclone runs it will fill it in with the ID of the root folder. Enter a string value. Press Enter for the default (\"\"). root_folder_id\u003e Service Account Credentials JSON file path Leave blank normally. Needed only if you want use SA instead of interactive login. Enter a string value. Press Enter for the default (\"\"). *************************************************此处为重点*************************************** service_account_file\u003e 因为我们在root目录配置的Autorclone，所以此处填写为/root/AutoRclone/accounts/任意一个json文件名 *************************************************此处为重点*************************************** Enter a string value. Press Enter for the default (\"\"). service_account_file_path\u003e 此处填写/root/AutoRclone/acco","date":"2020-07-07","objectID":"https://www.nashome.cn/posts/install-autorclone-gclone/:1:4","tags":["GoogleDrive"],"title":"如何安装和配置 Autorclone Gclone","uri":"https://www.nashome.cn/posts/install-autorclone-gclone/"},{"categories":["Dynamicsax",""],"content":"在AX4.0和5.0中，有时候在读取一些内容比较多的文件的时候会报错中断：在AX2012中是50MB，但是在AX2009中大约是7MB Error executing code: Insufficient memory to run script. Error executing code: Insufficient memory to run script 我们需要到操作系统的注册表中做出如下设置： For the *Dynamics AX Client* the correct Registry value is: AX 4.0: Key name: [HKEY_CURRENT_USER\\Software\\Microsoft\\Dynamics\\4.0\\Configuration\\*(configuration name)*] Value name: maxbuffersize Value type: REG_SZ Value: (Maximum amount of memory in MB or 0 for no limit) AX 2009: Key name: [HKEY_CURRENT_USER\\Software\\Microsoft\\Dynamics\\5.0\\Configuration\\*(configuration name)*] Value name: maxbuffersize Value type: REG_SZ Value: (Maximum amount of memory in MB or 0 for no limit) 需要注意的是： 我们可以直接把maxbuffersize,Text,15加入到.axc文件中， 15表示15MB。 For the *Dynamics AX .Net Business Connector/AX BizTalk Adapter* the correct location is: AX 4.0: Key name: [HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Dynamics\\4.0\\Configuration\\*(configuration name)*] Value name: maxbuffersize Value type: REG_SZ Value: (Maximum amount of memory in MB or 0 for no limit) AX 2009: Key name: [HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Dynamics\\5.0\\Configuration\\*(configuration name)*] Value name: maxbuffersize Value type: REG_SZ Value: (Maximum amount of memory in MB or 0 for no limit) For the *Dynamics AX AOS* the correct Registry value is: AX 4.0: Key name: [HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\Dynamics Server\\4.0\\*(AOS instance)*\\*(configuration name)*] Value name: maxbuffersize Value type: REG_SZ Value: (Maximum amount of memory in MB or 0 for no limit) AX 2009: Key name: [HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\Dynamics Server\\5.0\\*(AOS instance)*\\*(configuration name)*] Value name: maxbuffersize Value type: REG_SZ Value: (Maximum amount of memory in MB or 0 for no limit) 需要注意的是: 注册表中的maxbuffersize默认是不存在的 设置好之后所有关联的组件都需要重启 尽管可以设置为0（无限制），但是这并不推荐！ References: KB961548; KB953914 ","date":"2020-07-07","objectID":"https://www.nashome.cn/posts/dynamics-ax-insufficient-memory-to-run-script/:0:0","tags":["Ax2009","Ax4.0",""],"title":"Dynamics AX Issue： Insufficient Memory to Run Script","uri":"https://www.nashome.cn/posts/dynamics-ax-insufficient-memory-to-run-script/"},{"categories":["Linux",""],"content":"在Telegram中使用 /copy SourceId即可转存到GoogleDrive指定路径 ","date":"2020-07-01","objectID":"https://www.nashome.cn/posts/bt-gdutils/:0:0","tags":["宝塔面板","GoogleDrive","telegrambot"],"title":"使用宝塔面板安装和管理 Google Drive 百宝箱","uri":"https://www.nashome.cn/posts/bt-gdutils/"},{"categories":["Linux",""],"content":"前置条件 Rclone 已安装配置 Autorclone 已安装配置 Gclone 已安装配置 前置条件的安装请转至这里：如何安装和配置 Autorclone Gclone ","date":"2020-07-01","objectID":"https://www.nashome.cn/posts/bt-gdutils/:1:0","tags":["宝塔面板","GoogleDrive","telegrambot"],"title":"使用宝塔面板安装和管理 Google Drive 百宝箱","uri":"https://www.nashome.cn/posts/bt-gdutils/"},{"categories":["Linux",""],"content":"环境配置 git clone https://github.com/iwestlin/gd-utils \u0026\u0026 cd gd-utils npm install --unsafe-perm=true --allow-root 代码执行好之后，直接将 /AutoRclone/accounts/ 的文件全部复制到/gd-utils/sa/ 至此，gd-utils就安装好了，接下来是如何配置Telegram bot来实现更方便的管理。 ","date":"2020-07-01","objectID":"https://www.nashome.cn/posts/bt-gdutils/:2:0","tags":["宝塔面板","GoogleDrive","telegrambot"],"title":"使用宝塔面板安装和管理 Google Drive 百宝箱","uri":"https://www.nashome.cn/posts/bt-gdutils/"},{"categories":["Linux",""],"content":"修改配置文件 config.js 中主要修改的是以下内容，其余的视情况自行修改 const DEFAULT_TARGET = '团队盘ID或者是目录ID' tg_token: '机器人Token' tg_whitelist: ['个人用户名'] //['abcberf'] ","date":"2020-07-01","objectID":"https://www.nashome.cn/posts/bt-gdutils/:3:0","tags":["宝塔面板","GoogleDrive","telegrambot"],"title":"使用宝塔面板安装和管理 Google Drive 百宝箱","uri":"https://www.nashome.cn/posts/bt-gdutils/"},{"categories":["Linux",""],"content":"宝塔面板配置 创建网站 域名随意gd.example.com ，所有设置默认即可。 把 gd.example.com 做 A 记录解析到服务器地址。 使用宝塔的PM2管理器或者在命令行直接输入以下代码都可： npm i pm2 -g cd /gd-utils/ pm2 start server.js 添加SSL 添加反向代理 代理名称：自定 目标URL：http://127.0.0.1:23333 开启防火墙 启动程序 curl https://gd.example.com/api/gdurl/count?fid=124pjM5LggSuwI1n40bcD5tQ13wS0M6wg 连接Telegram curl -F \"url=HTTPS://gd.example.com/api/gdurl/tgbot\" 'https://api.telegram.org/bot电报Token/setWebhook' 测试 ","date":"2020-07-01","objectID":"https://www.nashome.cn/posts/bt-gdutils/:4:0","tags":["宝塔面板","GoogleDrive","telegrambot"],"title":"使用宝塔面板安装和管理 Google Drive 百宝箱","uri":"https://www.nashome.cn/posts/bt-gdutils/"},{"categories":["",""],"content":"群晖安装Iperf3 非docker ","date":"2020-05-21","objectID":"https://www.nashome.cn/posts/speedtest-iperf3/:1:0","tags":["",""],"title":"Speedtest Iperf3","uri":"https://www.nashome.cn/posts/speedtest-iperf3/"},{"categories":["",""],"content":"Synology 群晖 NAS synogear Diagnosis Tool $ sudo -s # synogear list Tools are not installed yet. You can run this command to install it: synogear install synogear install root@nas:~# iperf3 -ash: iperf3: command not found root@nas:~# synogear install root@nas:~# iperf3 iperf3: parameter error - must either be a client (-c) or server (-s) Usage: iperf [-s|-c host] [options] iperf [-h|--help] [-v|--version] Server or Client: -p, --port # server port to listen on/connect to -f, --format [kmgKMG] format to report: Kbits, Mbits, KBytes, MBytes -i, --interval # seconds between periodic bandwidth reports -F, --file name xmit/recv the specified file -A, --affinity n/n,m set CPU affinity -B, --bind \u003chost\u003e bind to a specific interface -V, --verbose more detailed output -J, --json output in JSON format --logfile f send output to a log file -d, --debug emit debugging output -v, --version show version information and quit -h, --help show this message and quit Server specific: -s, --server run in server mode -D, --daemon run the server as a daemon -I, --pidfile file write PID file Client specific: -c, --client \u003chost\u003e run in client mode, connecting to \u003chost\u003e -u, --udp use UDP rather than TCP -b, --bandwidth #[KMG][/#] target bandwidth in bits/sec (0 for unlimited) (default 1 Mbit/sec for UDP, unlimited for TCP) (optional slash and packet count for burst mode) -t, --time # time in seconds to transmit for (default 10 secs) -n, --bytes #[KMG] number of bytes to transmit (instead of -t) -k, --blockcount #[KMG] number of blocks (packets) to transmit (instead of - t or -n) -l, --len #[KMG] length of buffer to read or write (default 128 KB for TCP, 8 KB for UDP) --cport \u003cport\u003e bind to a specific client port (TCP and UDP, default : ephemeral port) -P, --parallel # number of parallel client streams to run -R, --reverse run in reverse mode (server sends, client receives) -w, --window #[KMG] TCP window size (socket buffer size) -C, --congestion \u003calgo\u003e set TCP congestion control algorithm (Linux and Free BSD only) -M, --set-mss # set TCP maximum segment size (MTU - 40 bytes) -N, --nodelay set TCP no delay, disabling Nagle's Algorithm -4, --version4 only use IPv4 -6, --version6 only use IPv6 -S, --tos N set the IP 'type of service' -L, --flowlabel N set the IPv6 flow label (only supported on Linux) -Z, --zerocopy use a 'zero copy' method of sending data -O, --omit N omit the first n seconds -T, --title str prefix every output line with this string --get-server-output get results from server --udp-counters-64bit use 64-bit counters in UDP test packets [KMG] indicates options that support a K/M/G suffix for kilo-, mega-, or giga- iperf3 homepage at: http://software.es.net/iperf/ Report bugs to: https://github.com/esnet/iperf root@nas:~# synogear list All tools: ","date":"2020-05-21","objectID":"https://www.nashome.cn/posts/speedtest-iperf3/:1:1","tags":["",""],"title":"Speedtest Iperf3","uri":"https://www.nashome.cn/posts/speedtest-iperf3/"},{"categories":["",""],"content":"电脑安装iperf3 路由器安装iperf3。用ssh或者网页控制台进入路由器后台，然后先执行包更新，再安装iperf3软件，代码如下： 1. opkg update 2. opkg install iperf3 2.路由器端后台运行iperf3.最好使用后台运行否则测速过程中连接断开，就会中断。代码如下： iperf3 -s -D 这里-s 表示运行的是服务器模式，就是测速接收方，-D（大写字母）表示后台运行，断开连接之后还会运行。好了，这样路由器端就弄好了，你可以断开ssh了。 3.电脑或者手机连接上路由器的无线（或者有线，看你测什么速度），然后运行iperf3测速。 软件下载链接如下https://iperf.fr/iperf-download.php 找到适合自己平台的下载下来。如果你是Windows 64位用户，下载这个https://iperf.fr/download/windows/iperf-3.1.3-win64.zip 下载之后解压缩，然后在解压的文件夹目录运行命令提示符CMD，然后执行测速，代码如下： iperf3 -c 192.168.123.1 -b 1000m -t 60 -i 1 -u 上面这个讲一下，192.168.123.1是路由器的ip地址，我这里用的是老毛子Padavan固件，请你根据自己的路由器地址进行替换。-c表示运行的是客户端模式，就是测速发送方。 -b表示估计带宽，-t表示持续测速时间，就是一共跑60秒，-i表示间隔输出结果时间，就是每隔1秒钟输出一次，-u表示使用udp连接来测速，默认是tcp连接测速，因为tcp要进行确认所以不如udp测速更准确。当然这里默认使用了单线程，你可以使用多线程命令。 iperf3 -c 192.168.123.1 -b 1000m -t 60 -i 1 -u -P 2 这里是使用了两个线程来跑。我自己测试下来，如果要用多线程，2-4个最好，太多了路由器吃不消（也可能是我手机吃不消）。 以上方法是从电脑发数据到路由器，测试的是上传速度。同样的你可以在电脑上运行服务端，路由器运行客户端，这样就是测量路由器下载速度了。 有线链接也可以测一下，看看千兆口是不是真的跑到了千兆网速。 ","date":"2020-05-21","objectID":"https://www.nashome.cn/posts/speedtest-iperf3/:2:0","tags":["",""],"title":"Speedtest Iperf3","uri":"https://www.nashome.cn/posts/speedtest-iperf3/"},{"categories":["Dynamicsax"],"content":"Dynamics AX 2012 R3 CU 9更新：分步 自CU 9发布以来已经有一段时间了，本文简要介绍了如何为已安装的Microsoft Dynamics AX 2012 R3 CU8安装累积更新9。 如果您尝试将MS Dynamics AX 2012 R3 CU 9作为新安装进行安装，请这样做，例如slipstream（ 在新安装（slipstreaming）中包括累积更新和修补程序 ）安装。 安装方式： 在新安装的MS Dynamics AX 2012 R3 CU 9上使用设置向导和补充流程。 使用更新向导将CU9应用到MS Dynamics AX 2012 R3 CU 8的现有安装上。 我们可以从Microsoft Dynamics Lifecycle Services直接安装CU 9，也可以使用Microsoft Dynamics Lifecycle Services和PartnerSource中都提供的Dynamics AX安装程序进行安装。 我们将在这里学习有关使用LCS的Dynamics AX安装程序安装CU 9的信息。 环境准备： 备份业务和模型存储数据库。 备份正在更新的数据库。 确保您是本地计算机上的Admin和Dynamics AX中的系统管理员。 确保您是SQL Server实例上“ SecurityAdmin”服务器角色的成员。 确保您是模型数据库中的“ db_owner”角色。 在安装此更新（或停机）时，请确保系统以单用户模式运行。 下载更新安装程序： 登录到PartnerSource或Microsoft Dynamics生命周期服务 。 下载更新安装程序的最新版本。 在计算机上保存并解压缩更新安装程序以应用更新。 单击更新安装程序后，选择提取文件的路径。 ] 从解压缩的文件中选择axupdate.exe应用程序以打开AX更新安装程序向导 现在，在下一步中单击“接受并继续”，单击“下一步”以接受“软件许可条款”。 接受许可条款后，从“下载并安装更新”页面中选择“下载并安装更新”选项，然后单击“下一步”按钮。 如果假设在选择“安装更新”选项时使用了定制的软件包（将在步骤17中创建并保存），则将提供一个选项（快速/定制）来选择安装类型，如下所示。 根据需要选择类型。 使用定制包时，无需登录LCS即可下载更新，因此在这种情况下将跳过步骤8、9和10。 单击下一步按钮，它将提示您进入LCS并使用您的凭据登录。 使用凭据登录到LCS后，选择最新更新，然后单击“确定”。 下拉列表将显示最新的更新列表。 单击“确定”后，向导将开始在“下载进度”页面中下载更新。 下载/导入程序包完成后，从“选择更新类型”页面中选择两种更新类型（二进制更新和应用程序更新）。 通过单击“下一步”按钮，向导将开始处理上一步中选择的更新。 由于还选择了应用程序更新，因此需要选择模型存储，如下所示。 通过指定服务器名称，可以选择不同的模型存储。 通过单击下一步按钮，选择具有默认值的应用程序更新。 现在，“查看冲突”页面将显示冲突（如果有）。 由于发生冲突，请单击“影响分析向导”以开始并分析影响。 启动影响分析向导： 分析影响： 这将打开Dynamics AX并生成CIL编译。 影响分析结果： 单击“高级”按钮以查看带有高级选项的冲突对象。 我刚刚决定删除冲突对象，因为我没有与此对象共享任何其他模型存储。 现在，“查看更新”页面将显示更新列表，然后单击“下一步”继续。 一旦检查了更新，“保存更新”页面将提供一个选项以将其另存为自定义程序包，可在以后的步骤7中使用。如果需要在另一台计算机上安装更新，这将很有用。 如果需要在同一台计算机上安装此更新，请选中“在此计算机上安装所选更新”复选框，然后单击“下一步”。 现在，“查看组件”将提供在安装过程中将要更新的组件列表。 请取消选择默认情况下会标记的美国薪资（64位）和美国薪资（32位），然后单击“安装”按钮。 现在，将如下图所示进行安装。 现在，所有组件均已成功安装，并且设置已完成，如下所示。 点击“完成”。 安装后： 重新初始化模型存储，然后重新启动AOS服务。 打开Microsoft Dynamics AX2012。弹出窗口将指示模型存储已修改，需要采取的措施列表。 选择“启动软件更新清单”选项，然后单击“确定”以启动升级清单过程。 选择“启动软件更新清单”，然后单击“确定”。 完成所有清单活动。 完成🙂 ","date":"2020-04-14","objectID":"https://www.nashome.cn/posts/dynamics-ax-upgrade-to-cu9/:0:0","tags":["Ax2012"],"title":"Dynamics AX Upgrade to Cu9","uri":"https://www.nashome.cn/posts/dynamics-ax-upgrade-to-cu9/"},{"categories":["Dynamicsax",""],"content":"Applies To: Microsoft Dynamics AX 2012 R3, Microsoft Dynamics AX 2012 R2, Microsoft Dynamics AX 2012 Feature Pack, Microsoft Dynamics AX 2012","date":"2020-03-18","objectID":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/","tags":["Ax2012",""],"title":" Walkthrough: Extending RunBaseBatch Class to Create and Run a Batch","uri":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/"},{"categories":["Dynamicsax",""],"content":"Walkthrough: Extending RunBaseBatch Class to Create and Run a Batch Applies To: Microsoft Dynamics AX 2012 R3, Microsoft Dynamics AX 2012 R2, Microsoft Dynamics AX 2012 Feature Pack, Microsoft Dynamics AX 2012 You can design your own batch job by extending the RunBaseBatch class. You can also write code to schedule the batch to run. By default, after a batch is scheduled, the batch is no longer associated with the client. The batch runs on the Application Object Server (AOS). However, you have the option to make a batch run on a client. This walkthrough illustrates the following tasks: Configuring your AOS batch server Extending the RunBaseBatch class Scheduling your batch Viewing your scheduled batch Making your batch dependent on a client session Running your batch on the client ","date":"2020-03-18","objectID":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/:0:0","tags":["Ax2012",""],"title":" Walkthrough: Extending RunBaseBatch Class to Create and Run a Batch","uri":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/"},{"categories":["Dynamicsax",""],"content":"Configuring Your AOS Batch Server In this procedure you will configure your AOS to be a batch server. ","date":"2020-03-18","objectID":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/:1:0","tags":["Ax2012",""],"title":" Walkthrough: Extending RunBaseBatch Class to Create and Run a Batch","uri":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/"},{"categories":["Dynamicsax",""],"content":"To configure your AOS batch server Open an application workspace. In the Navigation Pane, click Administration, expand Setup, expand System, and then click Server configuration. In the Server configuration form, click the row that has your AOS listed. In the details section of the form, select the check box that is labeled Is batch server. In the Batch server schedule section, make sure that the server can process at least a few concurrent threads (eight is a nice default). Ensure the start-to-end time range is broad enough to include the time when you want to test. Close the form. ","date":"2020-03-18","objectID":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/:1:1","tags":["Ax2012",""],"title":" Walkthrough: Extending RunBaseBatch Class to Create and Run a Batch","uri":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/"},{"categories":["Dynamicsax",""],"content":"Extending the RunBaseBatch Class In this procedure, you will extend the RunBaseBatch class. Objects of type RunBaseBatch implement all the methods that the system needs in order to run the object as a batch job. You will extend RunBaseBatch to override the run method. The run method contains the logic that handles the particular processing need that you are solving. ","date":"2020-03-18","objectID":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/:2:0","tags":["Ax2012",""],"title":" Walkthrough: Extending RunBaseBatch Class to Create and Run a Batch","uri":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/"},{"categories":["Dynamicsax",""],"content":"To extend RunBaseBatch Press Ctrl+D to open the Application Object Tree (AOT) in a development workspace. Right-click the Classes node, and then select New Class. Expand the node for your new class. Rename it Batch4DemoClass. Right-click the classDeclaration node under Batch4DemoClass, and then click View Code. In the code Editor window, after Batch4DemoClass, add extends RunBaseBatch. Save the change. In the AOT right-click the Batch4DemoClass node, select Override method, and then select the run method. Edit the run method to match the code shown in the following example. Override the methods pack and unpack. Edit them to match the code shown in the following example. Note For this example, do not yet override the runsImpersonated method. The base method always returns true. true means the batch must run under the authority of the person who scheduled the batch, and that no client session is involved. X++Copy class Batch4DemoClass extends RunBaseBatch { public void run() { // The purpose of your job. info(strFmt(\"Hello from Batch4DemoClass .run at %1\" ,DateTimeUtil ::toStr( DateTimeUtil ::utcNow()) )); } public container pack() { return conNull(); } public boolean unpack(container packedClass) { return true; } } ","date":"2020-03-18","objectID":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/:2:1","tags":["Ax2012",""],"title":" Walkthrough: Extending RunBaseBatch Class to Create and Run a Batch","uri":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/"},{"categories":["Dynamicsax",""],"content":"Scheduling Your Batch In this procedure, you will write an X++ job that can be run to schedule an occurrence of your batch. Then you will run the job. ","date":"2020-03-18","objectID":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/:3:0","tags":["Ax2012",""],"title":" Walkthrough: Extending RunBaseBatch Class to Create and Run a Batch","uri":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/"},{"categories":["Dynamicsax",""],"content":"To schedule your batch job In the AOT, right-click the Jobs node, and then select New Job. In the Editor window, enter the X++ code shown in the following example, and then save the changes. In the Editor window, press F7 to compile your job, and then press F5 to run your job. Note The result of your job is that your batch is scheduled to run. X++Copy static void Job_ScheduleBatch2(Args _args) { BatchHeader batHeader; BatchInfo batInfo; RunBaseBatch rbbTask; str sParmCaption = \"My Demonstration (b351)\"; ; rbbTask = new Batch4DemoClass(); batInfo = rbbTask .batchInfo(); batInfo .parmCaption(sParmCaption); batInfo .parmGroupId(\"\"); // The \"Empty batch group\". batHeader = BatchHeader ::construct(); batHeader .addTask(rbbTask); batHeader .save(); info(strFmt(\"'%1' batch has been scheduled.\", sParmCaption)); } Click the Build menu, and then click Generate Incremental CIL. This CIL build is necessary because batch jobs that run on the AOS can run only in .NET Framework managed mode. ","date":"2020-03-18","objectID":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/:3:1","tags":["Ax2012",""],"title":" Walkthrough: Extending RunBaseBatch Class to Create and Run a Batch","uri":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/"},{"categories":["Dynamicsax",""],"content":"Viewing Your Scheduled Batch In this procedure, you will use the Navigation Pane to view the line item that represents your scheduled batch. ","date":"2020-03-18","objectID":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/:4:0","tags":["Ax2012",""],"title":" Walkthrough: Extending RunBaseBatch Class to Create and Run a Batch","uri":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/"},{"categories":["Dynamicsax",""],"content":"To view your scheduled batch In the Navigation Pane, click System administration, expand Inquiries, expand Batch jobs, and then click Batch jobs. On the Batch job form , find the row for you batch job and read its value in the Status column. After the status becomes Ended, click the Batch job history button. On the Batch job history form, click the Log button. This displays the Infolog form that shows the output message from the Batch4DemoClass .run method. The following are the actual output messages that are captured by the Infolog: Message_@SYS14327 (02:12:57 pm) Hello from Batch4DemoClass .run, at 2008-01-25T22:05:48 Infolog for Job My Demonstration (b351) (5637144579) Infolog for Task My Demonstration (b351) (5637144579) Hello from Batch4DemoClass .run, at 2008-01-25T22:05:48 ","date":"2020-03-18","objectID":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/:4:1","tags":["Ax2012",""],"title":" Walkthrough: Extending RunBaseBatch Class to Create and Run a Batch","uri":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/"},{"categories":["Dynamicsax",""],"content":"Making Your Batch Dependent on a Client Session In this procedure, you add an override of the runsImpersonated method to your Batch4DemoClass class. Your override method must return false. The value false means that the system cannot run the batch by having it impersonate a logged on session. Instead, the system must find the client session of the user before the system can run the batch (on the server, as always). The client session can exist on a different computer from where the AOS is running. ","date":"2020-03-18","objectID":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/:5:0","tags":["Ax2012",""],"title":" Walkthrough: Extending RunBaseBatch Class to Create and Run a Batch","uri":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/"},{"categories":["Dynamicsax",""],"content":"To make your batch dependent on a client session Override the runsImpersonated method of your Batch4DemoClass class. The override code is shown in the example. Rerun your job ScheduleMyBatchJob_Job. View your batch on the Batch job form. X++Copy public boolean runsImpersonated() { // false means that the batch must run on a client. return false; } ","date":"2020-03-18","objectID":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/:5:1","tags":["Ax2012",""],"title":" Walkthrough: Extending RunBaseBatch Class to Create and Run a Batch","uri":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/"},{"categories":["Dynamicsax",""],"content":"Running Your Batch on the Client You have a batch class that overrides the runImpersonated method. The override makes the batch eligible to run only on a client computer. You run a job that schedules the batch. The batch remains in a waiting status until you use the client to tell the AOS to send the client-bound batch to your client now so the batch can run. In this procedure, you will use the Navigation Pane to tell the AOS to send client-bound batches to your client. ","date":"2020-03-18","objectID":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/:6:0","tags":["Ax2012",""],"title":" Walkthrough: Extending RunBaseBatch Class to Create and Run a Batch","uri":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/"},{"categories":["Dynamicsax",""],"content":"To run your batch on the client In the Navigation Pane, click Basic, expand Periodic, expand Batch, and then click Processing. This displays the form Set up batch processing. Click the drop-down list, and then select Empty batch group. Batch tasks in this group will be run. Make sure the check box labeled Private is clear. Click OK to start the Batch processing form. ","date":"2020-03-18","objectID":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/:6:1","tags":["Ax2012",""],"title":" Walkthrough: Extending RunBaseBatch Class to Create and Run a Batch","uri":"https://www.nashome.cn/posts/dynamics-ax-run-a-batch/"},{"categories":["Linux",""],"content":"突破 Google 750 GB 每日的限制","date":"2020-03-11","objectID":"https://www.nashome.cn/posts/setup-folderclone/","tags":["GoogleDrive","Folderclone"],"title":"使用 Folderclone 批量转存共享内容到自己的Google Drive","uri":"https://www.nashome.cn/posts/setup-folderclone/"},{"categories":["Linux",""],"content":"安装 Folderclone ","date":"2020-03-11","objectID":"https://www.nashome.cn/posts/setup-folderclone/:1:0","tags":["GoogleDrive","Folderclone"],"title":"使用 Folderclone 批量转存共享内容到自己的Google Drive","uri":"https://www.nashome.cn/posts/setup-folderclone/"},{"categories":["Linux",""],"content":"Linux **Debian/Ubuntu **安装 apt update apt install python3-pip git screen -y git clone https://github.com/Spazzlo/folderclone.git cd folderclone pip3 install folderclone CentOS`把`apt-get`替换成`yum 因拷贝时间长，防止中断，强烈建议使用screen后台运行。screen简单使用方法 # 创建screen窗口,folderclone名字可自定义 screen -S folderclone # 临时退出使用screen后台运行,按组合键 【Ctrl】【a】【d】 # 回到screen窗口 screen -r folderclone ","date":"2020-03-11","objectID":"https://www.nashome.cn/posts/setup-folderclone/:1:1","tags":["GoogleDrive","Folderclone"],"title":"使用 Folderclone 批量转存共享内容到自己的Google Drive","uri":"https://www.nashome.cn/posts/setup-folderclone/"},{"categories":["Linux",""],"content":"Windows 下载Python安装 Python 3.7.4 64-bit 、 Python 3.8.1 下载folderclone源码并解压，比如我的放置在E:\\folderclone-master 以管理员身份运行 cmd或Windows PowerShell执行,且确保本地cmd或Windows PowerShell稳定的外网环境。 # 进入folderclone解压根目录 cd E:\\folderclone-master pip install folderclone ","date":"2020-03-11","objectID":"https://www.nashome.cn/posts/setup-folderclone/:1:2","tags":["GoogleDrive","Folderclone"],"title":"使用 Folderclone 批量转存共享内容到自己的Google Drive","uri":"https://www.nashome.cn/posts/setup-folderclone/"},{"categories":["Linux",""],"content":"开启 Drive API 打开登陆 Python Quickstart ，点击Enable the Drive API 然后DOWNLOAD CLIENT CONFIGUIRATION 会下载一个credentials.json的文件，把credentials.json放置上传到folderclone解压根目录，如下图所示 在终端上，将目录更改为您刚才创建并运行的folderclone文件夹： multimanager interactive 这将以交互模式启动多管理器。首先，将您带到登录页面进行身份验证。然后会提示您启用服务使用API。访问它提供的链接，启用API，然后返回并按Enter键重试。不必担心每次都要这样做，这是一次设置。 然后会自动弹窗打开浏览器选择账号登陆 【高级】 【转至Quickstart（不安全）】【允许】Quickstart 直到浏览器提示The authentication flow has completed. You may close this window. 按提示复制里面的3个URL链接到浏览器中打开 启用【Service Usage API】、【Cloud Resource Manager API】、【Cloud Resource Manager API】 完成后按Enter回车键，将出现Multi Manager提示。 Multi Manager mm\u003e 您已成功设置Multi Manager！ ","date":"2020-03-11","objectID":"https://www.nashome.cn/posts/setup-folderclone/:2:0","tags":["GoogleDrive","Folderclone"],"title":"使用 Folderclone 批量转存共享内容到自己的Google Drive","uri":"https://www.nashome.cn/posts/setup-folderclone/"},{"categories":["Linux",""],"content":"创建SA机器人、添加成员到团队盘 对于folderclone，您需要准备几个服务帐户（service accounts）。为此，请运行： mm\u003e quick-setup N SHARED_DRIVE_ID N您要使用的项目数量以及SHARED_DRIVE_ID要复制到的共享驱动器的ID 在哪里。 例如，假设我想复制100 TB的内容。我需要134个SA（每个750 GB）来进行复制，因此需要2个项目。我将复制到ID为0ABCdeyz_ZaMsxxxLGA的全新共享驱动器。我将运行： mm\u003e quick-setup 2 0ABCdeyz_ZaMsxxxLGA 这将自动； 创建2个项目 启用所需的服务 创建服务帐户 将它们添加到共享驱动器 并将其凭据下载到新文件夹中 accounts mm\u003e quick-setup 2 0AKqujK7R10w9Uk9PVA Creating 2 projects. Enabling services. Creating Service Accounts in mm-q1n5s5q0tenwkm6i-844bj5-43n Creating Service Account keys in mm-q1n5s5q0tenwkm6i-844bj5-43n Creating Service Accounts in mm-bj81pc594lhe8z4rr1jkk0871k5 Creating Service Account keys in mm-bj81pc594lhe8z4rr1jkk0871k5 Fetching emails. Adding 200 users #按回车键 Done. mm\u003e 现在您可以进行下一步了。 ","date":"2020-03-11","objectID":"https://www.nashome.cn/posts/setup-folderclone/:3:0","tags":["GoogleDrive","Folderclone"],"title":"使用 Folderclone 批量转存共享内容到自己的Google Drive","uri":"https://www.nashome.cn/posts/setup-folderclone/"},{"categories":["Linux",""],"content":"使用 multifoldeclone是可以为您完成所有克隆的工具。这是最简单的使用方法。 multifolderclone -s SOURCE_FOLDER_ID -d DESTINATION_FOLDER_ID 凡SOURCE_FOLDER_ID（通过使该文件夹的公共或共享与服务使用的是具有复制账户文件夹确保源文件夹的服务帐户访问）是你要复制的文件夹的ID，并且DESTINATION_FOLDER_ID是您要复制到的文件夹的ID。这可以是共享驱动器的ID，也可以是共享驱动器中的文件夹。 ","date":"2020-03-11","objectID":"https://www.nashome.cn/posts/setup-folderclone/:4:0","tags":["GoogleDrive","Folderclone"],"title":"使用 Folderclone 批量转存共享内容到自己的Google Drive","uri":"https://www.nashome.cn/posts/setup-folderclone/"},{"categories":["Linux",""],"content":" 前文已经说过如何通过 Aria2离线下载并自动上传到 Google Drive，请参照 Aria2 搭建离线下载并自动上传到 Google Drive 本文将具体说明如何通过 Aria2 离线下载百度云盘的内容 从而实现百度云转存到 Google Drive ","date":"2020-03-04","objectID":"https://www.nashome.cn/posts/aria2-baiduyun/:0:0","tags":["Aria2","Baiduyun","GoogleDrive"],"title":" 使用 Aria2 实现百度云(Baiduyun)自动转存到谷歌云(GoogleDrive)","uri":"https://www.nashome.cn/posts/aria2-baiduyun/"},{"categories":["Linux",""],"content":"安装 需要以下二个工具配合使用： BaiduExporter：百度云盘导出下载的 Chrome 插件。下载地址 Aria2：离线下载工具 ","date":"2020-03-04","objectID":"https://www.nashome.cn/posts/aria2-baiduyun/:1:0","tags":["Aria2","Baiduyun","GoogleDrive"],"title":" 使用 Aria2 实现百度云(Baiduyun)自动转存到谷歌云(GoogleDrive)","uri":"https://www.nashome.cn/posts/aria2-baiduyun/"},{"categories":["Linux",""],"content":"BaiduExporter设置 下载的BaiduExporter由于目前chrome的限制，是无法直接使用的。 **解决办法：**修改文件后缀为.rar 然后解压缩,得到如下文件夹。 ","date":"2020-03-04","objectID":"https://www.nashome.cn/posts/aria2-baiduyun/:1:1","tags":["Aria2","Baiduyun","GoogleDrive"],"title":" 使用 Aria2 实现百度云(Baiduyun)自动转存到谷歌云(GoogleDrive)","uri":"https://www.nashome.cn/posts/aria2-baiduyun/"},{"categories":["Linux",""],"content":"Chrome设置 在Chrome扩展程序中打开开发者模式，加载已解压的扩展程序，然后选中刚才解压的文件夹即可。 ","date":"2020-03-04","objectID":"https://www.nashome.cn/posts/aria2-baiduyun/:1:2","tags":["Aria2","Baiduyun","GoogleDrive"],"title":" 使用 Aria2 实现百度云(Baiduyun)自动转存到谷歌云(GoogleDrive)","uri":"https://www.nashome.cn/posts/aria2-baiduyun/"},{"categories":["Linux",""],"content":"百度云设置 刷新浏览器来到百度网盘后，任意选中一个文件就可以看到多出了一个导出下载的按钮了。 点击设置,在这里需要输入之前配置好的ARIA2的地址和远程下载的文件夹，这个文件夹我就选上一篇文章中设置好的可以自动上传到googledrive的文件夹了，其他参数不需要修改。 RPC地址格式：http://token:123456qwerty@example.com:6800/jsonrpc ","date":"2020-03-04","objectID":"https://www.nashome.cn/posts/aria2-baiduyun/:1:3","tags":["Aria2","Baiduyun","GoogleDrive"],"title":" 使用 Aria2 实现百度云(Baiduyun)自动转存到谷歌云(GoogleDrive)","uri":"https://www.nashome.cn/posts/aria2-baiduyun/"},{"categories":["Linux",""],"content":"使用 使用非常简单，在百度云中选中需要下载的文件，点击 ARIA2 RPC 后下载就已经自动开始啦。 ","date":"2020-03-04","objectID":"https://www.nashome.cn/posts/aria2-baiduyun/:2:0","tags":["Aria2","Baiduyun","GoogleDrive"],"title":" 使用 Aria2 实现百度云(Baiduyun)自动转存到谷歌云(GoogleDrive)","uri":"https://www.nashome.cn/posts/aria2-baiduyun/"},{"categories":["Linux",""],"content":"结语 充值一波信仰吧，否则速度会让你崩溃。 ","date":"2020-03-04","objectID":"https://www.nashome.cn/posts/aria2-baiduyun/:3:0","tags":["Aria2","Baiduyun","GoogleDrive"],"title":" 使用 Aria2 实现百度云(Baiduyun)自动转存到谷歌云(GoogleDrive)","uri":"https://www.nashome.cn/posts/aria2-baiduyun/"},{"categories":["Dynamicsax"],"content":"Record Level Security Applies To: Microsoft Dynamics AX 2012 R3, Microsoft Dynamics AX 2012 R2, Microsoft Dynamics AX 2012 Feature Pack, Microsoft Dynamics AX 2012, Microsoft Dynamics AX 2009 Record-level security (RLS) is automatically handled by the kernel when a form or report is opened. However, record-level security is bypassed in the following situations: Using display and edit methods Using FormListControl, FormTreeControl or TableListControl to show data Using a temporary table as a data source You can enable the Database trace option to view messages that indicate when record-level security is applied to a method call. Note The record-level security feature will be removed in a future release. If you previously set up record-level security filters, they will continue to function. If you are setting up new filters, we recommend that you create data security policies using the extensible data security framework. For more information about data security policies, see Overview of Security Policies for Table Records. Note Record-level security has its own configuration key (SysRecordLevelSecurity). ","date":"2020-02-27","objectID":"https://www.nashome.cn/posts/dynamics-ax-record-level-security/:0:0","tags":["Ax2009","Ax2012"],"title":"Dynamics AX Record Level Security","uri":"https://www.nashome.cn/posts/dynamics-ax-record-level-security/"},{"categories":["Dynamicsax"],"content":"Using Display and Edit Methods Whenever a display or edit method is used to return a value from another row, you must evaluate the business impact of displaying this data. If you determine that displaying this data could cause unwanted data disclosure, you should perform an explicit authorization check before you call these methods. Record-level security is not required in these situations: When the value is calculated. When the value is only based on the values of the fields in the current record. ","date":"2020-02-27","objectID":"https://www.nashome.cn/posts/dynamics-ax-record-level-security/:1:0","tags":["Ax2009","Ax2012"],"title":"Dynamics AX Record Level Security","uri":"https://www.nashome.cn/posts/dynamics-ax-record-level-security/"},{"categories":["Dynamicsax"],"content":"Using FormListControl, FormTreeControl, and TableListControl to Show Data Populating a FormListControl, FormTreeControl, or TableListControl with data from a query could lead to unwanted information disclosure. In these cases you should manually enable record-level security. The following example illustrates how to manually enable record-level security: public void run { CustTable custTable; super(); // Ensure record-level security (RLS) is used custTable.recordLevelSecurity(true); while select custTable { listView.add(custTable.AccountNum); } } ","date":"2020-02-27","objectID":"https://www.nashome.cn/posts/dynamics-ax-record-level-security/:2:0","tags":["Ax2009","Ax2012"],"title":"Dynamics AX Record Level Security","uri":"https://www.nashome.cn/posts/dynamics-ax-record-level-security/"},{"categories":["Dynamicsax"],"content":"Using a Temporary Table as a Data Source When the form cache is being filled with data from a temporary table, you must make sure that the data uses record-level security. This includes tables that are declared as temporary in the code or where the Temporary property of a table in the Application Object Tree (AOT) has been set to Yes. The following example shows how to use record-level security with a temporary table. public void run { CustTable custTable, tmpDatasource; ; // Ensure record-level security (RLS) is used custTable.recordLevelSecurity(true); while select custTable { tmpDataSource.data(custTable); tmpDataSource.insert(); } formDataSource.setTmp(); formDataSource.checkRecord(false); formDataSource.setTmpData(tmpDatasource); super(); } ","date":"2020-02-27","objectID":"https://www.nashome.cn/posts/dynamics-ax-record-level-security/:3:0","tags":["Ax2009","Ax2012"],"title":"Dynamics AX Record Level Security","uri":"https://www.nashome.cn/posts/dynamics-ax-record-level-security/"},{"categories":["Dynamicsax"],"content":"Using Database Tracing to Identify Where Record-Level Security Is Applied When the database trace is started, the output that it sends to the message window includes information about which statements have record-level security applied. A line displaying (RLS) at the end indicates that record-level security was enabled on the call to that method. The following example message shows that record-level security is enabled on the call to the salesLine.select method. salesLine.select() (RLS) ","date":"2020-02-27","objectID":"https://www.nashome.cn/posts/dynamics-ax-record-level-security/:4:0","tags":["Ax2009","Ax2012"],"title":"Dynamics AX Record Level Security","uri":"https://www.nashome.cn/posts/dynamics-ax-record-level-security/"},{"categories":["Dynamicsax"],"content":"To enable database tracing Click Tools \u003e Options, and then click the Development link. On the Trace FastTab, select the Database trace check box. ","date":"2020-02-27","objectID":"https://www.nashome.cn/posts/dynamics-ax-record-level-security/:4:1","tags":["Ax2009","Ax2012"],"title":"Dynamics AX Record Level Security","uri":"https://www.nashome.cn/posts/dynamics-ax-record-level-security/"},{"categories":["hugo"],"content":" 本文同步更新至 Youtube 和 BiliBili 作者已经在最新的主题中加入了Algolia搜索，现在只要在配置文件中开启一下即可。 ","date":"2020-02-18","objectID":"https://www.nashome.cn/posts/hugo-algolia/:0:0","tags":["hugo","algolia","站内搜索","search"],"title":"用 Hugo 配合 Algolia 实现高效美观的站内搜索","uri":"https://www.nashome.cn/posts/hugo-algolia/"},{"categories":["hugo"],"content":"前言 很多的 Hugo 主题是没有自带搜索功能的，但是们为了方便用户浏览和查找内容是需要在网站上提供搜索功能。大家可以查看 Hugo 官方推荐的搜索方案，这里我选择的是 Algolia ， 折腾了很久，主题也从EVEN更新到了现在的LOVEIT，发现也并非很繁琐，以下是折腾后的成果。 ","date":"2020-02-18","objectID":"https://www.nashome.cn/posts/hugo-algolia/:1:0","tags":["hugo","algolia","站内搜索","search"],"title":"用 Hugo 配合 Algolia 实现高效美观的站内搜索","uri":"https://www.nashome.cn/posts/hugo-algolia/"},{"categories":["hugo"],"content":"在Algolia 端创建应用和索引 ","date":"2020-02-18","objectID":"https://www.nashome.cn/posts/hugo-algolia/:2:0","tags":["hugo","algolia","站内搜索","search"],"title":"用 Hugo 配合 Algolia 实现高效美观的站内搜索","uri":"https://www.nashome.cn/posts/hugo-algolia/"},{"categories":["hugo"],"content":"Application 点击NEW APPLICATION，Name可选，方案选择FREE，然后创建，随后的地区选择邻近地区即可； ","date":"2020-02-18","objectID":"https://www.nashome.cn/posts/hugo-algolia/:2:1","tags":["hugo","algolia","站内搜索","search"],"title":"用 Hugo 配合 Algolia 实现高效美观的站内搜索","uri":"https://www.nashome.cn/posts/hugo-algolia/"},{"categories":["hugo"],"content":"Indices \u0026 Index 点击侧栏的Indices，然后点击Create Index，Index name自定义（例如自己的域名） ","date":"2020-02-18","objectID":"https://www.nashome.cn/posts/hugo-algolia/:2:2","tags":["hugo","algolia","站内搜索","search"],"title":"用 Hugo 配合 Algolia 实现高效美观的站内搜索","uri":"https://www.nashome.cn/posts/hugo-algolia/"},{"categories":["hugo"],"content":"API Keys 点击侧栏API Keys，记住以下的 Keys，之后都会用到； ","date":"2020-02-18","objectID":"https://www.nashome.cn/posts/hugo-algolia/:2:3","tags":["hugo","algolia","站内搜索","search"],"title":"用 Hugo 配合 Algolia 实现高效美观的站内搜索","uri":"https://www.nashome.cn/posts/hugo-algolia/"},{"categories":["hugo"],"content":"在本地生成索引 ","date":"2020-02-18","objectID":"https://www.nashome.cn/posts/hugo-algolia/:3:0","tags":["hugo","algolia","站内搜索","search"],"title":"用 Hugo 配合 Algolia 实现高效美观的站内搜索","uri":"https://www.nashome.cn/posts/hugo-algolia/"},{"categories":["hugo"],"content":"config.yaml 在themes同级添加config.yaml文件,注意这里的key是Admin API Key。 --- baseurl: \"https://www.nashome.cn/\" DefaultContentLanguage: \"zh-cn\" hasCJKLanguage: true languageCode: \"zh-cn\" title: \"zhaoqiang's blog\" theme: \"loveit\" metaDataFormat: \"yaml\" algolia: index: \"**blogloveit\" key: \"*****9748e4cf6b\" appID: \"***KWB5\" --- ","date":"2020-02-18","objectID":"https://www.nashome.cn/posts/hugo-algolia/:3:1","tags":["hugo","algolia","站内搜索","search"],"title":"用 Hugo 配合 Algolia 实现高效美观的站内搜索","uri":"https://www.nashome.cn/posts/hugo-algolia/"},{"categories":["hugo"],"content":"hugo-aligolia 我们这里使用一个hugo-algolia的插件来完成我们的数据同步工作,要安装hugo-aligolia我们需要先确保我们已经安装了 npm 或者 yarn 包管理工具。 使用下面的命令安装即可： $ npm install hugo-algolia -g 配置完成以后，在根目录下面执行下面的命令： $ hugo-algolia -s JSON index file was created in public/algolia.json { updatedAt: '2020-01-23T02:36:09.480Z', taskID: 249063848950 } 这个时候我们在 dashboard 中打开 Indices，可以看到已经有几十条数据了。 如果某篇文章不想被索引的话，我们只需要在文件的最前面设置 index 参数为 false 即可。 ","date":"2020-02-18","objectID":"https://www.nashome.cn/posts/hugo-algolia/:3:2","tags":["hugo","algolia","站内搜索","search"],"title":"用 Hugo 配合 Algolia 实现高效美观的站内搜索","uri":"https://www.nashome.cn/posts/hugo-algolia/"},{"categories":["hugo"],"content":"页面展示 ","date":"2020-02-18","objectID":"https://www.nashome.cn/posts/hugo-algolia/:4:0","tags":["hugo","algolia","站内搜索","search"],"title":"用 Hugo 配合 Algolia 实现高效美观的站内搜索","uri":"https://www.nashome.cn/posts/hugo-algolia/"},{"categories":["hugo"],"content":"新建search.html 在themes\\LoveIt\\layouts\\partials新建search.html并添加如下代码 \u003cdiv class=\"aa-input-container\" id=\"aa-input-container\"\u003e \u003cinput type=\"search\" id=\"aa-search-input\" class=\"aa-input-search\" placeholder=\"Search for titles or URIs...\" name=\"search\" autocomplete=\"off\" /\u003e \u003csvg class=\"aa-input-icon\" viewBox=\"654 -372 1664 1664\"\u003e \u003cpath d=\"M1806,332c0-123.3-43.8-228.8-131.5-316.5C1586.8-72.2,1481.3-116,1358-116s-228.8,43.8-316.5,131.5 C953.8,103.2,910,208.7,910,332s43.8,228.8,131.5,316.5C1129.2,736.2,1234.7,780,1358,780s228.8-43.8,316.5-131.5 C1762.2,560.8,1806,455.3,1806,332z M2318,1164c0,34.7-12.7,64.7-38,90s-55.3,38-90,38c-36,0-66-12.7-90-38l-343-342 c-119.3,82.7-252.3,124-399,124c-95.3,0-186.5-18.5-273.5-55.5s-162-87-225-150s-113-138-150-225S654,427.3,654,332 s18.5-186.5,55.5-273.5s87-162,150-225s138-113,225-150S1262.7-372,1358-372s186.5,18.5,273.5,55.5s162,87,225,150s113,138,150,225 S2062,236.7,2062,332c0,146.7-41.3,279.7-124,399l343,343C2305.7,1098.7,2318,1128.7,2318,1164z\" /\u003e \u003c/svg\u003e \u003c/div\u003e ","date":"2020-02-18","objectID":"https://www.nashome.cn/posts/hugo-algolia/:4:1","tags":["hugo","algolia","站内搜索","search"],"title":"用 Hugo 配合 Algolia 实现高效美观的站内搜索","uri":"https://www.nashome.cn/posts/hugo-algolia/"},{"categories":["hugo"],"content":"添加search.js 在themes\\LoveIt\\assets\\js下添加search.js $(function() { // 替换成自己的algolia信息 var client = algoliasearch(\"***KWB5\", \"7139d*****9748e4cf6bc36ab191d\"); var index = client.initIndex(\"**blogloveit\"); autocomplete( \"#aa-search-input\", { hint: false }, { source: autocomplete.sources.hits(index, { hitsPerPage: 8 }), displayKey: \"name\", templates: { suggestion: function(suggestion) { console.log(suggestion); var search; if (suggestion.search) { search = suggestion.search; } else { search = suggestion.uri; } return ( \"\u003cspan\u003e\" + '\u003ca href=\"/' + search + '\"\u003e' + suggestion._highlightResult.title.value + \"\u003c/a\u003e\u003c/span\u003e\" ); } } } ); $(document).on(\"click\", \".aa-suggestion\", function () { var aa = $(this).find(\"a\").attr(\"href\"); window.location.href = aa; }) }); ","date":"2020-02-18","objectID":"https://www.nashome.cn/posts/hugo-algolia/:4:2","tags":["hugo","algolia","站内搜索","search"],"title":"用 Hugo 配合 Algolia 实现高效美观的站内搜索","uri":"https://www.nashome.cn/posts/hugo-algolia/"},{"categories":["hugo"],"content":"添加search.css文件 在themes\\LoveIt\\assets\\css路径下添加search.css样式文件 @import 'https://fonts.googleapis.com/css?family=Montserrat:400,700'; .aa-input-container { display: inline-block; position: relative; width: 100%; } .aa-input-container span,.aa-input-container input { width: inherit; } .aa-input-search { width: 300px; padding: 12px 28px 12px 12px; border:0px; border: 2px solid #e4e4e4; border-radius: 4px; -webkit-transition: .2s; transition: .2s; font-family: \"Montserrat\", sans-serif; box-shadow: 4px 4px 0 rgba(241, 241, 241, 0.35); font-size: 11px; box-sizing: border-box; color: black; -webkit-appearance: none; -moz-appearance: none; appearance: none; font-weight: bold; } .aa-input-search::-webkit-search-decoration, .aa-input-search::-webkit-search-cancel-button, .aa-input-search::-webkit-search-results-button, .aa-input-search::-webkit-search-results-decoration { display: none; } .aa-input-search:focus { outline: 0; border-color: #D3D3D3; box-shadow: 4px 4px 0 rgba(58, 150, 207, 0.1); } .aa-input-icon { height: 16px; width: 16px; position: absolute; top: 50%; right: 16px; -webkit-transform: translateY(-50%); transform: translateY(-50%); fill: #e4e4e4; } .aa-hint { color: yellow; } .aa-dropdown-menu { background-color: #fff; border: 2px solid rgba(228, 228, 228, 0.6); border-top-width: 1px; font-family: \"Montserrat\", sans-serif; width: 300px; margin-top: 10px; box-shadow: 4px 4px 0 rgba(241, 241, 241, 0.35); font-size: 11px; border-radius: 4px; box-sizing: border-box; } .aa-suggestion { padding: 12px; border-top: 1px solid gray; cursor: pointer; -webkit-transition: .2s; transition: .2s; display: -webkit-box; display: -ms-flexbox; display: flex; -webkit-box-pack: justify; -ms-flex-pack: justify; justify-content: space-between; -webkit-box-align: center; -ms-flex-align: center; align-items: center; } /* 背景色 */ .aa-suggestion:hover, .aa-suggestion.aa-cursor { background-color: #F5F5F5; } .aa-suggestion \u003e span:first-child { color: #000; } .aa-suggestion \u003e span:last-child { text-transform: uppercase; color: #000; } .aa-suggestion \u003e span:first-child em, .aa-suggestion \u003e span:last-child em { font-weight: 700; font-style: normal; background-color: rgba(0, 0, 0, 0.1); padding: 2px 0 2px 2px; } .aa-suggestion a{ color: #000; font-weight:bold; } .aa-suggestion a:hover{ color: #4B89DC; } ","date":"2020-02-18","objectID":"https://www.nashome.cn/posts/hugo-algolia/:4:3","tags":["hugo","algolia","站内搜索","search"],"title":"用 Hugo 配合 Algolia 实现高效美观的站内搜索","uri":"https://www.nashome.cn/posts/hugo-algolia/"},{"categories":["hugo"],"content":"在baseof.html中添加代码 在themes\\LoveIt\\layouts\\_default\\baseof.html中添加代码 {{ if ne .Site.Params.version \"5.x\" -}} {{ errorf \"\\n\\nThere are two possible situations that led to this error:\\n 1. You haven't copied the config.toml yet. See https://github.com/dillonzq/LoveIt#installation \\n 2. You have an incompatible update. See https://github.com//dillonzq/LoveIt/blob/master/CHANGELOG.md \\n\\n有两种可能的情况会导致这个错误发生:\\n 1. 你还没有复制 config.toml 参考 https://github.com/dillonzq/LoveIt#installation \\n 2. 你进行了一次不兼容的更新 参考 https://github.com//dillonzq/LoveIt/blob/master/CHANGELOG.md \\n\" -}} {{ end -}} \u003c!DOCTYPE html\u003e \u003chtml lang=\"{{ .Site.LanguageCode }}\"\u003e \u003chead\u003e \u003cmeta charset=\"utf-8\"\u003e \u003cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"\u003e \u003ctitle\u003e{{ block \"title\" . }}{{ .Site.Title }}{{ end }}\u003c/title\u003e {{- partial \"head.html\" . }} \u003c/head\u003e \u003cbody\u003e \u003cscript\u003e window.isDark = (window.localStorage \u0026\u0026 window.localStorage.getItem('theme')) === 'dark'; window.isDark \u0026\u0026 document.body.classList.add('dark-theme'); \u003c/script\u003e \u003cdiv class=\"wrapper\"\u003e {{ partial \"header.html\" . -}} \u003cmain class=\"main\"\u003e \u003cdiv class=\"container\"\u003e {{ block \"content\" . }}{{ end -}} \u003c/div\u003e \u003c/main\u003e {{ partial \"footer.html\" . -}} {{ partial \"scripts.html\" . -}} \u003c/div\u003e \u003ca href=\"#\" class=\"dynamic-to-top\" id=\"dynamic-to-top\" data-scroll\u003e\u003cspan\u003e\u0026nbsp;\u003c/span\u003e\u003c/a\u003e \u003c!-- 添加的代码 --\u003e \u003cdiv id=\"ex1\" class=\"modal\"\u003e {{ partial \"search.html\" . }} \u003c/div\u003e \u003c!-- 添加代码结束 --\u003e \u003c/body\u003e \u003c/html\u003e ","date":"2020-02-18","objectID":"https://www.nashome.cn/posts/hugo-algolia/:4:4","tags":["hugo","algolia","站内搜索","search"],"title":"用 Hugo 配合 Algolia 实现高效美观的站内搜索","uri":"https://www.nashome.cn/posts/hugo-algolia/"},{"categories":["hugo"],"content":"引用css文件和js文件 在head.html中添加如下代码 {{ $res := resources.Get \"css/search.css\" | resources.Minify -}} \u003clink rel=\"stylesheet\" href=\"{{ $res.RelPermalink }}\"\u003e \u003clink rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css\" /\u003e 在scripts.html中添加如下代码 \u003cscript src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js\"\u003e\u003c/script\u003e \u003c!-- jQuery Modal --\u003e \u003cscript src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js\"\u003e\u003c/script\u003e \u003cscript src=\"https://res.cloudinary.com/jimmysong/raw/upload/rootsongjc-hugo/algoliasearch.min.js\"\u003e\u003c/script\u003e \u003cscript src=\"https://res.cloudinary.com/jimmysong/raw/upload/rootsongjc-hugo/autocomplete.min.js\"\u003e\u003c/script\u003e {{ $res := resources.Get \"/js/search.js\" }} \u003cscript src= \"{{ $res.RelPermalink }}\" type=\"text/javascript\"\u003e\u003c/script\u003e ","date":"2020-02-18","objectID":"https://www.nashome.cn/posts/hugo-algolia/:4:5","tags":["hugo","algolia","站内搜索","search"],"title":"用 Hugo 配合 Algolia 实现高效美观的站内搜索","uri":"https://www.nashome.cn/posts/hugo-algolia/"},{"categories":["hugo"],"content":"添加锚点 在header.html中添加如下代码(手机端和桌面端两个地方都要添加代码) \u003cdiv class=\"navbar-menu\"\u003e {{ $currentPage := . }} {{ range .Site.Menus.main }} \u003ca class=\"menu-item{{ if or ($currentPage.IsMenuCurrent \"main\" .) ($currentPage.HasMenuCurrent \"main\" .) | or (eq $currentPage.RelPermalink .URL) }} active{{ end }}\" href=\"{{ .URL | absLangURL }}\" title=\"{{ .Title }}\"\u003e{{ .Name | safeHTML }}\u003c/a\u003e {{ end }} \u003ca href=\"javascript:void(0);\" class=\"theme-switch\"\u003e\u003ci class=\"fas fa-adjust fa-rotate-180 fa-fw\"\u003e\u003c/i\u003e\u003c/a\u003e \u003c!-- 添加的代码 --\u003e \u003ca href=\"#ex1\" rel=\"modal:open\"\u003e\u003ci class=\"fas fa-search fa-fw\"\u003e\u003c/i\u003e\u003c/a\u003e \u003c!-- 添加代码结束 --\u003e \u003c/div\u003e ","date":"2020-02-18","objectID":"https://www.nashome.cn/posts/hugo-algolia/:4:6","tags":["hugo","algolia","站内搜索","search"],"title":"用 Hugo 配合 Algolia 实现高效美观的站内搜索","uri":"https://www.nashome.cn/posts/hugo-algolia/"},{"categories":["hugo"],"content":"Valine 评论系统 邮件通知","date":"2020-01-16","objectID":"https://www.nashome.cn/posts/hugo-valine-email/","tags":["Valine"],"title":"用 Hugo 配合 Valine 实现评论后实时邮件通知","uri":"https://www.nashome.cn/posts/hugo-valine-email/"},{"categories":["hugo"],"content":" 本文同步更新至 Youtube 和 BiliBili 注意：Leancloud已经改版，有些界面位置已经与本文内容有所变化。 如果你对 Valine 自带的邮件提醒不满意，还可以使用更完善的第三方邮件提醒： Valine-Admin (by @zhaojun1998)，感谢 Valine-Admin 及其作者~ ","date":"2020-01-16","objectID":"https://www.nashome.cn/posts/hugo-valine-email/:0:0","tags":["Valine"],"title":"用 Hugo 配合 Valine 实现评论后实时邮件通知","uri":"https://www.nashome.cn/posts/hugo-valine-email/"},{"categories":["hugo"],"content":"概览 此项目是一个对 Valine 评论系统的拓展应用，可增强 Valine 的邮件通知功能。基于 Leancloud 的云引擎与云函数。可以提供邮件 通知站长 和 @ 通知 的功能，而且还支持自定义 邮件通知模板。　","date":"2020-01-16","objectID":"https://www.nashome.cn/posts/hugo-valine-email/:1:0","tags":["Valine"],"title":"用 Hugo 配合 Valine 实现评论后实时邮件通知","uri":"https://www.nashome.cn/posts/hugo-valine-email/"},{"categories":["hugo"],"content":"部署Github源码 使用第三方评论插件的话，就无需使用 Valine 自带邮件提醒插件。在配置文件 config.toml 中把 notify 设置为 false。 进入 Leancloud 对应的 Valine 应用中，点击 云引擎 -\u003e 设置 填写代码库并保存：https://github.com/zhaojun1998/Valine-Admin 切换到部署标签页，选择 Git 源码部署 分支使用 master，点击部署即可 可以在 云引擎 -\u003e 应用日志 查看部署日志信息 ","date":"2020-01-16","objectID":"https://www.nashome.cn/posts/hugo-valine-email/:1:1","tags":["Valine"],"title":"用 Hugo 配合 Valine 实现评论后实时邮件通知","uri":"https://www.nashome.cn/posts/hugo-valine-email/"},{"categories":["hugo"],"content":"配置 此外，你需要设置云引擎的环境变量以提供必要的信息，点击 云引擎 -\u003e 设置，找到 自定义环境变量 必选参数 SITE_NAME : 网站名称。 SITE_URL : 网站地址， 最后不要加 / 。 SMTP_USER : SMTP 服务用户名，一般为邮箱地址。 SMTP_PASS : SMTP 密码，一般为授权码，而不是邮箱的登陆密码，请自行查询对应邮件服务商的获取方式 SMTP_SERVICE : 邮件服务提供商，支持 QQ、163、126、Gmail、\"Yahoo\"、...... ，全部支持请参考 : Nodemailer Supported services。 — 如这里没有你使用的邮件提供商，请查看自定义邮件服务器 SENDER_NAME : 寄件人名称。 ","date":"2020-01-16","objectID":"https://www.nashome.cn/posts/hugo-valine-email/:2:0","tags":["Valine"],"title":"用 Hugo 配合 Valine 实现评论后实时邮件通知","uri":"https://www.nashome.cn/posts/hugo-valine-email/"},{"categories":["hugo"],"content":"邮箱开启 SMTP 服务 想要使用第三方邮件提醒，必须将 SMTP_USER 中的邮箱开启 SMTP 服务，这里以 QQ 邮箱为例： 然后将 邮箱地址 设置至 SMTP_USER，邮箱授权码 设置至 SMTP_PASS，SMTP_SERVICE 中填写 QQ ","date":"2020-01-16","objectID":"https://www.nashome.cn/posts/hugo-valine-email/:2:1","tags":["Valine"],"title":"用 Hugo 配合 Valine 实现评论后实时邮件通知","uri":"https://www.nashome.cn/posts/hugo-valine-email/"},{"categories":["hugo"],"content":"其他功能 TEMPLATE_NAME：设置提醒邮件的主题，目前内置了两款主题，分别为 default 与 rainbow。默认为 default 。 TO_EMAIL：这个是填收邮件提醒的邮箱地址，若没有这个字段，则邮件将发到SMTP_USER。 如果 SMTP_SERVICE 中没有你使用的邮件服务提供商, 也可以进行自定义。 参数配置如下： SMTP_HOST : 邮件服务提供商 SMTP 地址，如 qq : smtp.qq.com，此项需要自行查询或询问其服务商。 SMTP_PORT : 邮件服务提供商 SMTP 端口, 此项需要自行查询或询问其服务商。 SMTP_SECURE : 是否启用加密, 默认为 true，一般不需要设置，如有特殊请自行配置。 此项需要自行查询或询问其服务商。 注: 配置自定义邮件服务器的话，请不要同时配置 SMTP_SERVICE。当 SMTP_SERVICE 未配置时才会启用自定义邮件服务 ","date":"2020-01-16","objectID":"https://www.nashome.cn/posts/hugo-valine-email/:2:2","tags":["Valine"],"title":"用 Hugo 配合 Valine 实现评论后实时邮件通知","uri":"https://www.nashome.cn/posts/hugo-valine-email/"},{"categories":["hugo"],"content":"关闭LeanCloud 休眠 免费版的 LeanCloud 容器，是有强制性休眠策略的，不能 24 小时运行： 每天必须休眠 6 个小时 30 分钟内没有外部请求，则休眠。 休眠后如果有新的外部请求实例则马上启动（但激活时此次发送邮件会失败）。 分析了一下上方的策略，如果不想付费的话，最佳使用方案就设置定时器，每天 7 - 23 点每 20 分钟访问一次，这样可以保持每天的绝大多数时间邮件服务是正常的。 首先需要先配置下 Web 主机的域名，使用定时器时要用到。配置方式如下。 点击 云引擎 -\u003e 设置，找到 Web 主机域名 此处如果要设置自定义的 Web 主机域名，根据中国大陆有关法律法规，国内用户绑定独立域名前必须先域名备案。 使用自带定时器 首先需要添加环境变量，ADMIN_URL：Web 主机域名，如图所示（添加后重启容器才会生效）： 然后点击云引擎 - 定时任务，新增定时器，按照图片上填写： 定时任务名称：自定义 选择生成环境：self_wake Cron 表达式：定时器触发代码，表示 7点 ~ 23点每20分钟执行一次 添加后要记得点击启用，启用状态如下： 启用成功后，每 20 分钟在 云引擎 -\u003e 应用日志 中可以看到日志。 注意：更新新版本与更改环境变量均需要重启容器后生效。 ","date":"2020-01-16","objectID":"https://www.nashome.cn/posts/hugo-valine-email/:2:3","tags":["Valine"],"title":"用 Hugo 配合 Valine 实现评论后实时邮件通知","uri":"https://www.nashome.cn/posts/hugo-valine-email/"},{"categories":["hugo"],"content":"LeanCloud 评论管理 LeanCloud 提供了一套评论管理后台，该后台登录需要账号密码，需要在这里设置，只需要填写 email、password、username，这三个字段即可, 使用 email 作为账号登陆即可。（为了安全考虑，此 email 必须为配置中的 SMTP_USER 或 TO_EMAIL， 否则不允许登录） 访问自己的 Web 主机域名，效果如下： 使用已设置好的账号密码登录即可管理评论。 ","date":"2020-01-16","objectID":"https://www.nashome.cn/posts/hugo-valine-email/:2:4","tags":["Valine"],"title":"用 Hugo 配合 Valine 实现评论后实时邮件通知","uri":"https://www.nashome.cn/posts/hugo-valine-email/"},{"categories":["hugo"],"content":"完工 此时，我们在站点发表评论以后，邮箱中就会收到提醒信息啦。 ","date":"2020-01-16","objectID":"https://www.nashome.cn/posts/hugo-valine-email/:3:0","tags":["Valine"],"title":"用 Hugo 配合 Valine 实现评论后实时邮件通知","uri":"https://www.nashome.cn/posts/hugo-valine-email/"},{"categories":["Linux"],"content":"使用 OCC 命令从服务器上给 Nextcloud 手动添加文件","date":"2020-01-16","objectID":"https://www.nashome.cn/posts/nextcloud-scan-files-on-server/","tags":["Nextcloud"],"title":"NextCloud Scan Files on Server","uri":"https://www.nashome.cn/posts/nextcloud-scan-files-on-server/"},{"categories":["Linux"],"content":"有时候我们直接上传文件到服务器上，打开Nextcloud却发现并没有这个文件，因为数据库里并没有这个文件的信息。文件信息都被存储在数据库的oc_filecache表中. ","date":"2020-01-16","objectID":"https://www.nashome.cn/posts/nextcloud-scan-files-on-server/:0:0","tags":["Nextcloud"],"title":"NextCloud Scan Files on Server","uri":"https://www.nashome.cn/posts/nextcloud-scan-files-on-server/"},{"categories":["Linux"],"content":"OCC 命令 通过OCC命令我们可以更新文件索引，OCC 有三个用于管理Nextcloud中文件的命令： files files:cleanup #清楚文件缓存 files:scan #重新扫描文件系统 files:transfer-ownership #将所有文件和文件夹都移动到另一个文件夹 我们需要使用 files:scan 格式: files:scan [-p|--path=\"...\"] [-q|--quiet] [-v|vv|vvv --verbose] [--all] [user_id1] ... [user_idN] 参数: user_id #扫描所指定的用户（一个或多个，多个用户ID之间要使用空格分开）的所有文件 选项: --path #限制扫描路径 --all #扫描所有已知用户的所有文件 --quiet #不输出统计信息 --verbose #在扫描过程中显示正在处理的文件和目录 --unscanned #仅扫描以前未扫描过的文件 以下是一个具体的命令示例： 先进入 Nextcloud 根目录 sudo -u www php occ files:scan --all #扫描所有用户的所有文件 执行命令后进行扫描并列出扫描信息。 如果不想显示扫描信息，可以在后面加上 --quiet sudo -u www-data php occ files:scan --all --quiet ","date":"2020-01-16","objectID":"https://www.nashome.cn/posts/nextcloud-scan-files-on-server/:1:0","tags":["Nextcloud"],"title":"NextCloud Scan Files on Server","uri":"https://www.nashome.cn/posts/nextcloud-scan-files-on-server/"},{"categories":["Linux"],"content":"指定扫描位置 总是扫描全部信息并不是那么有必要，还会白白消耗服务器资源。 ","date":"2020-01-16","objectID":"https://www.nashome.cn/posts/nextcloud-scan-files-on-server/:2:0","tags":["Nextcloud"],"title":"NextCloud Scan Files on Server","uri":"https://www.nashome.cn/posts/nextcloud-scan-files-on-server/"},{"categories":["Linux"],"content":"1.指定扫描的用户 列出所有用户： sudo -u www-data php occ user:list 为用户zhaoqiang 扫描文件： sudo -u www-data php occ files:scan zhaoqiang ","date":"2020-01-16","objectID":"https://www.nashome.cn/posts/nextcloud-scan-files-on-server/:2:1","tags":["Nextcloud"],"title":"NextCloud Scan Files on Server","uri":"https://www.nashome.cn/posts/nextcloud-scan-files-on-server/"},{"categories":["Linux"],"content":"2.指定扫描目录 当使用 --path 选项时，该路径必须包含以下部分： \"user_id/files/path\" 或 \"user_id/files/mount_name\" 或 \"user_id/files/mount_name/path\" 其中， /files/ 是必须要加上的，不可忽略。 示例： sudo -u www-data php occ files:scan --path=\"/ChengYe/files/Photos\" #指向用户ChengYe的Photos文件夹 ","date":"2020-01-16","objectID":"https://www.nashome.cn/posts/nextcloud-scan-files-on-server/:2:2","tags":["Nextcloud"],"title":"NextCloud Scan Files on Server","uri":"https://www.nashome.cn/posts/nextcloud-scan-files-on-server/"},{"categories":["Dynamicsax"],"content":"概览 Dynamics 365 中，部署开发者的代码和客制化的程序到生产环境必须通过 deployable packages。 Deployable packages 可以通过 Visual Studio dev tools，或者 build automation process 创建，创建后需要上传至LCS Project Asset library。一起都准备好之后，系统管理员即可通过 LCS 中的 Maintain \u003e Apply updates tool，将程序发布到生产环境。 下图简单描述了整个过程: ","date":"2020-01-15","objectID":"https://www.nashome.cn/posts/dynamics-365-deployable-packages/:1:0","tags":["Dynamics365","Customization"],"title":"How to create deployable packages in Dynamics 365 ","uri":"https://www.nashome.cn/posts/dynamics-365-deployable-packages/"},{"categories":["Dynamicsax"],"content":"创建 deployable package 在开发环境中，可以在Visual studio通过以下步骤创建 deployable package。 选择 Dynamics 365 \u003e Deploy \u003e Create Deployment Package. 指定文件路径 创建好之后，登录 LCS ，点击 Asset Library 。 上传刚才创建的deployable package。 ","date":"2020-01-15","objectID":"https://www.nashome.cn/posts/dynamics-365-deployable-packages/:2:0","tags":["Dynamics365","Customization"],"title":"How to create deployable packages in Dynamics 365 ","uri":"https://www.nashome.cn/posts/dynamics-365-deployable-packages/"},{"categories":["Dynamicsax"],"content":"删除 deployable package 详细信息可以参考：Uninstall a package. ","date":"2020-01-15","objectID":"https://www.nashome.cn/posts/dynamics-365-deployable-packages/:3:0","tags":["Dynamics365","Customization"],"title":"How to create deployable packages in Dynamics 365 ","uri":"https://www.nashome.cn/posts/dynamics-365-deployable-packages/"},{"categories":["Dynamicsax"],"content":"*注册步骤* 1）需要一个微软的账号，如果已经有了就跳过这一步！ 填写注册信息很轻松完成！ 特别提醒一下，需要到：https://account.microsoft.com/profile 维护自己用户名等信息，否则无法进行下一步！ 2）开通Office开发者账号 注册链接：https://developer.microsoft.com/en-us/office/profile/ 完善相关信息，国家选择China 3）下面是勾选你要使用那些功能。不知道怎么勾选那就全勾选吧！ 鼠标点的累？Chrome 浏览器 F12 打开控制复制下面的脚本执行一下，全部勾选了。 $(\".ms-Checkbox\").each(function(i,o){$(o)[0].click()}) 4）点击加入后，稍等一会可见下面的成功界面！点击【SET UP SUBSCRIPTION】设置订阅相关内容！其实就是设置一个全局管理员！需要一个手机号接收验证码！ 5）设置完成后可见成功界面如下！到期时间！ ","date":"2020-01-14","objectID":"https://www.nashome.cn/posts/office-365-apply/:0:1","tags":["Office365"],"title":"免费申请 Office365 企业版一年试用教程","uri":"https://www.nashome.cn/posts/office-365-apply/"},{"categories":["Dynamicsax"],"content":"登录控制台 地址：https://portal.office.com/AdminPortal/Home 登录以后可以管理订阅，管理用户！ ","date":"2020-01-14","objectID":"https://www.nashome.cn/posts/office-365-apply/:0:2","tags":["Office365"],"title":"免费申请 Office365 企业版一年试用教程","uri":"https://www.nashome.cn/posts/office-365-apply/"},{"categories":["Dynamicsax"],"content":"许可证信息 这个是企业版E3订阅详情内容！ 1234567891011121314 Office 365 Enterprise E3 DeveloperTo-Do (Plan 3)Microsoft Forms (Plan E5)Microsoft Stream for O365 E5 SKUFlow for Office 365PowerApps for Office 365Microsoft TeamsMicrosoft PlannerSwayOffice 最新的桌面版本Skype for Business Online (Plan 2)Exchange Online (Plan 2)Office Online for DeveloperSharePoint Online for Developer 你最多可以在 5 台电脑或 Mac、5 个平板电脑以及智能手机上安装 Office。 ","date":"2020-01-14","objectID":"https://www.nashome.cn/posts/office-365-apply/:0:3","tags":["Office365"],"title":"免费申请 Office365 企业版一年试用教程","uri":"https://www.nashome.cn/posts/office-365-apply/"},{"categories":["Dynamicsax"],"content":"其他提醒 网上经常有一些忽悠小白用户，用试用E3订阅当E3 MSDN 来卖！大家一定要警惕！！！ ","date":"2020-01-14","objectID":"https://www.nashome.cn/posts/office-365-apply/:0:4","tags":["Office365"],"title":"免费申请 Office365 企业版一年试用教程","uri":"https://www.nashome.cn/posts/office-365-apply/"},{"categories":["Dynamicsax"],"content":"*后续更新* 手机号不能接受短信的，扶墙去。发短信页面调用了谷歌的人机验证。 订购周期。从今年4月份开始执行一个更好的政策，90天续订一次。是否有续订资格，微软拿算法评估。我估计挂oneindex的人会比较容易过。 一旦没拿到资格，许可证会被吊销，普通账号有30天缓冲期。管理员有额外60天缓冲期，可以用来下载数据。 没拿到资格可以找office365业务线的客服申诉，说明自己在开发哪类应用。 被删除数据后，可以重新申请90天试用。 office365的客服对以上事情完全不知情。 试用版不享受技术性的支持，只享受财务方面的支持和一些帮你找说明文档类的简单支持，支持级别比较低。好像是不支持azuread的高级功能。反正比e3功能要少一些，常用的都有。 ","date":"2020-01-14","objectID":"https://www.nashome.cn/posts/office-365-apply/:0:5","tags":["Office365"],"title":"免费申请 Office365 企业版一年试用教程","uri":"https://www.nashome.cn/posts/office-365-apply/"},{"categories":["Dynamicsax"],"content":"第三方接口调用AX内部程序 ","date":"2020-01-14","objectID":"https://www.nashome.cn/posts/dynamics-ax-webservice/:1:0","tags":["Ax2009","WebService","Wcf"],"title":"Using webservice to connect with Dynamics AX","uri":"https://www.nashome.cn/posts/dynamics-ax-webservice/"},{"categories":["Dynamicsax"],"content":"SystemConnector 在\"Csharp\"代码中，我们可以直接调用\"Systemconnector\"提供的接口从而实现执行AX内部程序的功能。 如： axServiceProvider.handleAgileData(\"cig\", _XMLStr); 实际上 “axServiceProvider” 是通过内置函数 “CallStaticClassMethod” 来实现调用AX内部程序。 string returnStr = (string)op.CallStaticClassMethod(\"AX Class\", \"Class Method\", _legal, _XMLStr); 将第三方外部程序组织的XML数据主动传递给AX，AX内部只需要解析该XML数据即可执行相应的业务逻辑操作。 在 axServiceProvider 中我们可以设定AX2009的环境端口，用户，密码，公司等信息，同样可以构建更多的方法来调用Ax不同的功能。 下文是通过\"Csharp\"代码调用接口的样例： ","date":"2020-01-14","objectID":"https://www.nashome.cn/posts/dynamics-ax-webservice/:1:1","tags":["Ax2009","WebService","Wcf"],"title":"Using webservice to connect with Dynamics AX","uri":"https://www.nashome.cn/posts/dynamics-ax-webservice/"},{"categories":["Dynamicsax"],"content":"Consume SystemConnector in VS using System; using System.Collections.Generic; using System.IO; using System.Linq; using System.Web; using System.Web.UI; using System.Web.UI.WebControls; using System.Xml; using SystemConnector.DynamicsAX; namespace CIG_WCF4AgileAX { public partial class WebForm1 : System.Web.UI.Page { protected void Page_Load(object sender, EventArgs e) { string ret = \"\"; //string _XMLStr = GetXmlDocument(@\"D:/AgileXml/HDC000076-utf.xml\"); //string _XMLStr = GetXmlDocument(@\"E:/AgileXml/test1014/UPD-1014-33-01.xml\"); string _XMLStr = GetXmlDocument(@\"E:/AgileXml/test1014/CIG000780.xml\"); //string _XMLStr = \"AX-MES-RDIF-Go\"; try { AXServiceProvider axServiceProvider = new AXServiceProvider(); //ret = axServiceProvider.handleRFIDData(\"cig\", _XMLStr); ret = axServiceProvider.handleAgileData(\"cig\", _XMLStr); } catch (Exception ex) { ret= ex.ToString(); } Response.Write(ret); } private static string GetXmlDocument(string xmlPath) { try { XmlDocument doc = null; if (File.Exists(xmlPath)) { doc = new XmlDocument(); doc.Load(xmlPath); } return doc.InnerXml; } catch (Exception ex) { System.Diagnostics.Debug.Write(ex.Message); } return null; } } } 源代码 ","date":"2020-01-14","objectID":"https://www.nashome.cn/posts/dynamics-ax-webservice/:2:0","tags":["Ax2009","WebService","Wcf"],"title":"Using webservice to connect with Dynamics AX","uri":"https://www.nashome.cn/posts/dynamics-ax-webservice/"},{"categories":["Dynamicsax"],"content":"AX内部程序调用第三方接口 AX2009 调用外部接口只需要打开AOT-Reference-添加一个服务引用即可，添加引用时可以添加dll文件。 如下图： 这样就可以了。 ","date":"2020-01-14","objectID":"https://www.nashome.cn/posts/dynamics-ax-webservice/:3:0","tags":["Ax2009","WebService","Wcf"],"title":"Using webservice to connect with Dynamics AX","uri":"https://www.nashome.cn/posts/dynamics-ax-webservice/"},{"categories":["Dynamicsax"],"content":"DynamicsAX项目上线期初数据的初始化-期初余额导入功能","date":"2020-01-13","objectID":"https://www.nashome.cn/posts/dynamics-ax-golive-data-import/","tags":["Ax2009","Data","Golive"],"title":"Dynamics AX GoLive Data Import","uri":"https://www.nashome.cn/posts/dynamics-ax-golive-data-import/"},{"categories":["Dynamicsax"],"content":"期初余额的导入程序大致都比较相似，只是创建的日记账有些区别，源代码在文末。 期初数据模板请跳转至Dynamics AX GoLive Data Initialize ","date":"2020-01-13","objectID":"https://www.nashome.cn/posts/dynamics-ax-golive-data-import/:0:0","tags":["Ax2009","Data","Golive"],"title":"Dynamics AX GoLive Data Import","uri":"https://www.nashome.cn/posts/dynamics-ax-golive-data-import/"},{"categories":["Dynamicsax"],"content":"GL：总帐 static void ImportTBGL(Args _args) { …… try { axLedgerJournalTable = new AxLedgerJournalTable(); axLedgerJournalTable.parmJournalName(\"FIOpening\"); axLedgerJournalTable.parmName(\"TB GL 20190831\"); axLedgerJournalTable.save(); numImported = 0; lineNo = 1; record = csvFile.read(); while (csvFile.status() == IO_Status::Ok) { record = csvFile.read(); lineNo = lineNo +1; if (!record) break; ttsBegin; if (conPeek(record,1)!=\"\") { axLedgerJournalTrans = new AxLedgerJournalTrans(); axLedgerJournalTrans.parmJournalNum(axLedgerJournalTable.ledgerJournalTable().JournalNum); axLedgerJournalTrans.parmTransDate(str2Date(\"2019/8/31\",321)); axLedgerJournalTrans.parmTxt(\"TBGL20190831\"); axLedgerJournalTrans.parmAccountType(LedgerJournalACType::Ledger); axLedgerJournalTrans.parmAccountNum(conPeek(record,1)); axLedgerJournalTrans.parmCurrencyCode(conPeek(record,2)); if (str2num(conPeek(record,3)) \u003e 0) { axLedgerJournalTrans.parmAmountCurDebit(str2num(conPeek(record,3))); } else { axLedgerJournalTrans.parmAmountCurCredit(abs(str2num(conPeek(record,3)))); } axLedgerJournalTrans.parmExchRate(round(conPeek(record,4),0.0001)); axLedgerJournalTrans.parmOffsetAccountType(LedgerJournalACType::Ledger); axLedgerJournalTrans.parmOffsetAccount(\"9999\"); axLedgerJournalTrans.save(); numImported = numImported + 1; } else { info(strfmt(\"line No -- %1 -- has no accountNum, not imported\",lineNo)); } ttsCommit; } //while …… } ","date":"2020-01-13","objectID":"https://www.nashome.cn/posts/dynamics-ax-golive-data-import/:1:0","tags":["Ax2009","Data","Golive"],"title":"Dynamics AX GoLive Data Import","uri":"https://www.nashome.cn/posts/dynamics-ax-golive-data-import/"},{"categories":["Dynamicsax"],"content":"AP：应付账款 static void ImportTBAP(Args _args) { …… try { axLedgerJournalTable = new AxLedgerJournalTable(); axLedgerJournalTable.parmJournalName(\"FIOpening\"); axLedgerJournalTable.parmName(\"TB AP 20190831\"); axLedgerJournalTable.save(); numImported = 0; lineNo = 1; record = csvFile.read(); while (csvFile.status() == IO_Status::Ok) { record = csvFile.read(); lineNo = lineNo +1; if (!record) break; ttsBegin; if ((conPeek(record,1)!=\"\") \u0026\u0026 (VendTable::find(conPeek(record,1),false))) { axLedgerJournalTrans = new AxLedgerJournalTrans(); axLedgerJournalTrans.parmJournalNum(axLedgerJournalTable.ledgerJournalTable().JournalNum); axLedgerJournalTrans.parmTransDate(str2Date(\"2019/8/31\",321)); axLedgerJournalTrans.parmTxt(conPeek(record,5)); axLedgerJournalTrans.parmAccountType(LedgerJournalACType::Vend); axLedgerJournalTrans.parmAccountNum(conPeek(record,1)); axLedgerJournalTrans.parmInvoice(conPeek(record,2)); axLedgerJournalTrans.parmDue(str2Date(conPeek(record,3),321)); axLedgerJournalTrans.parmPostingProfile(conPeek(record,4)); axLedgerJournalTrans.parmCurrencyCode(conPeek(record,6)); if (str2num(conPeek(record,8)) \u003e 0) { axLedgerJournalTrans.parmAmountCurDebit(str2num(conPeek(record,8))); } else { axLedgerJournalTrans.parmAmountCurCredit(abs(str2num(conPeek(record,8)))); } axLedgerJournalTrans.parmExchRate(conPeek(record,7)); axLedgerJournalTrans.parmOffsetAccountType(LedgerJournalACType::Ledger); axLedgerJournalTrans.parmOffsetAccount(\"9999\"); axLedgerJournalTrans.save(); numImported = numImported + 1; } else { info(strfmt(\"line No -- %1 -- has no accountNum %2, not imported\",lineNo,conPeek(record,1))); } ttsCommit; } //while …… } ","date":"2020-01-13","objectID":"https://www.nashome.cn/posts/dynamics-ax-golive-data-import/:2:0","tags":["Ax2009","Data","Golive"],"title":"Dynamics AX GoLive Data Import","uri":"https://www.nashome.cn/posts/dynamics-ax-golive-data-import/"},{"categories":["Dynamicsax"],"content":"AR/OR：应收账款，其他应收款 AR和OR使用同一份模板， OR: other static void ImportTBAR(Args _args) { …… try { axLedgerJournalTable = new AxLedgerJournalTable(); axLedgerJournalTable.parmJournalName(\"FIOpening\"); axLedgerJournalTable.parmName(\"TB AR 20190831\"); axLedgerJournalTable.save(); numImported = 0; lineNo = 1; record = csvFile.read(); while (csvFile.status() == IO_Status::Ok) { record = csvFile.read(); lineNo = lineNo +1; if (!record) break; ttsBegin; if ((conPeek(record,1)!=\"\") \u0026\u0026 (CustTable::find(conPeek(record,1),false))) { axLedgerJournalTrans = new AxLedgerJournalTrans(); axLedgerJournalTrans.parmJournalNum(axLedgerJournalTable.ledgerJournalTable().JournalNum); axLedgerJournalTrans.parmTransDate(str2Date(\"2019/8/31\",321)); axLedgerJournalTrans.parmTxt(conPeek(record,5)); axLedgerJournalTrans.parmAccountType(LedgerJournalACType::Cust); axLedgerJournalTrans.parmAccountNum(conPeek(record,1)); axLedgerJournalTrans.parmInvoice(conPeek(record,2)); axLedgerJournalTrans.parmDue(str2Date(conPeek(record,3),321)); axLedgerJournalTrans.parmPostingProfile(conPeek(record,4)); axLedgerJournalTrans.parmCurrencyCode(conPeek(record,6)); if (str2num(conPeek(record,8)) \u003e 0) { axLedgerJournalTrans.parmAmountCurDebit(str2num(conPeek(record,8))); } else { axLedgerJournalTrans.parmAmountCurCredit(abs(str2num(conPeek(record,8)))); } axLedgerJournalTrans.parmExchRate(conPeek(record,7)); axLedgerJournalTrans.parmOffsetAccountType(LedgerJournalACType::Ledger); axLedgerJournalTrans.parmOffsetAccount(\"9999\"); axLedgerJournalTrans.save(); numImported = numImported + 1; } else { info(strfmt(\"line No -- %1 -- has no accountNum %2 , not imported\",lineNo,conPeek(record,1))); } ttsCommit; } //while } …… } ","date":"2020-01-13","objectID":"https://www.nashome.cn/posts/dynamics-ax-golive-data-import/:3:0","tags":["Ax2009","Data","Golive"],"title":"Dynamics AX GoLive Data Import","uri":"https://www.nashome.cn/posts/dynamics-ax-golive-data-import/"},{"categories":["Dynamicsax"],"content":"INVENTORY：存货 导入存货的时候需要注意把序列号一并导入（如果有） static void ImportTBInvent(Args _args) { …… try { numImported = 0; lineNo = 1; axInventJournalTable = new AxInventJournalTable(); axInventJournalTable.parmJournalNameId(\"Mov_Inventory_Adjust\");//Mov_Inventory_Adjust axInventJournalTable.parmDescription(\"TB Invent 20190831\"); axInventJournalTable.save(); _journalId = axInventJournalTable.inventJournalTable().JournalId; record = csvFile.read(); ttsbegin; while (csvFile.status() == IO_Status::Ok) { record = csvFile.read(); lineNo = lineNo +1; if (!record) break; if (!InventTable::find(conPeek(record,1),false)) { info(strfmt(\"line No -- %1 -- has non existed itemNum, not imported\",lineNo)); continue; } else { axInventJournalTrans = new AxInventJournalTrans(); axInventJournalTrans.parmJournalId(_journalId); axInventJournalTrans.parmTransDate(str2Date(\"2019/8/31\",321)); axInventJournalTrans.parmItemId(conPeek(record,1)); inventDim.clear(); inventDim.InventSiteId = conPeek(record,2); inventDim.InventLocationId = conPeek(record,3); inventDim.wMSLocationId = conPeek(record,4); if (InventTable::find(conPeek(record,1)).DimGroupId == \"rev\") { if (strLRtrim(conPeek(record,5)) != \"\") { inventDim.InventColorId = conPeek(record,5); inventColor = InventColor::find(conPeek(record,5),conPeek(record,1)); if (!inventColor) { info(strfmt(\"line No -- %1 --, version is not exists, %2 not imported\",lineNo,conPeek(record,1))); continue; } } else { info(strfmt(\"line No -- %1 -- has no version, not imported\",lineNo)); continue; } } _inventDimId = InventDim::findOrCreate(inventDim).inventDimId; axInventJournalTrans.parmInventDimId(_inventDimId); axInventJournalTrans.parmQty(str2num(conPeek(record,6))); axInventJournalTrans.parmCostAmount(str2num(conPeek(record,9))); axInventJournalTrans.parmCostPrice(round(axInventJournalTrans.parmCostAmount()/axInventJournalTrans.parmQty(),0.0001)); axInventJournalTrans.parmLedgerAccountIdOffset(\"9999\"); axInventJournalTrans.save(); numImported = numImported + 1; } } //while …… //序列号 while (csvFile2.status() == IO_Status::Ok) { record = csvFile2.read(); lineNo = lineNo +1; if (!record) break; // ttsBegin; if ((InventTable::find(conPeek(record,1),false)) \u0026\u0026 (InventTable::find(conPeek(record,1)).CIG_SerialControl == NoYes::Yes)) { _itemId = conPeek(record,1); inventDim.clear(); inventDim.InventSiteId = conPeek(record,3); inventDim.InventLocationId = conPeek(record,4); inventDim.wMSLocationId = conPeek(record,5); inventDim.InventColorId = conPeek(record,6); _inventDimId = InventDim::findOrCreate(inventDim).inventDimId; cig_inventTransSerial.clear(); cig_inventTransSerial.ItemId = _itemId; select firstonly inventJournalTrans where inventJournalTrans.JournalId == _journalId \u0026\u0026 inventJournalTrans.ItemId == _itemId \u0026\u0026 inventJournalTrans.InventDimId == _inventDimId; cig_inventTransSerial.InventTransId = inventJournalTrans.InventTransId; //cig_inventTransSerial.Qty = cig_inventTransSerial.InventStatus = CIG_InventStatus::Registered; cig_inventTransSerial.inventSerialId = conPeek(record,2); cig_inventTransSerial.TransType = InventTransType::InventTransaction; cig_inventTransSerial.TransRefId = _journalId; cig_inventTransSerial.DocumentId = _journalId; cig_inventTransSerial.inventDimId = InventDim::inventDimIdBlank(); cig_inventTransSerial.initValue(); cig_inventTransSerial.insert(); cig_serialTable.clear(); cig_serialTable.InventSerialId = conPeek(record,2); cig_serialTable.DateCode = conPeek(record,7); cig_serialTable.InventSerialIdCustomer = conPeek(record,8); cig_serialTable.initValue(); cig_serialTable.insert(); numImported = numImported + 1; } // ttsCommit; } //while ttsCommit; info(strfmt(\"%1 records imported\",numImported)); } …… } ","date":"2020-01-13","objectID":"https://www.nashome.cn/posts/dynamics-ax-golive-data-import/:4:0","tags":["Ax2009","Data","Golive"],"title":"Dynamics AX GoLive Data Import","uri":"https://www.nashome.cn/posts/dynamics-ax-golive-data-import/"},{"categories":["Dynamicsax"],"content":"FA：固定资产 Fixed Assets 包括了固定资产卡片、购置、折旧，使用同一个模板用如下程序导入三次即可。 static void ImportTBFADetailss(Args _args) { …… try { numImported = 0; lineNo = 1; record = csvFile.read(); while (csvFile.status() == IO_Status::Ok) { record = csvFile.read(); lineNo = lineNo +1; if (!record) break; ttsbegin; //Save asset record. if (!AssetTable::find(conPeek(record,1),false)) { assetTable.selectForUpdate(true); assetTable.clear(); assetTable.AssetId = conPeek(record,1); assetTable.AssetGroup = conPeek(record,4); assetTable.NameAlias = conPeek(record,3); assetTable.Model = conPeek(record,7); assetTable.Location = conPeek(record,8); assetTable.SerialNum = conPeek(record,22); assetTable.Responsible = conPeek(record,20); //assetTable.AssetType = AssetType::Intangible; // Type of Asset Tangible, InTangible, Financial, GoodWill etc assetTable.Name = conPeek(record,2); // Asset Name assetTable.Quantity = 1; // Quantity of Asset assetTable.PropertyType = AssetPropertyType::FixedAsset; // Asset property type FixedAsset, ContinuingProperty etc assetTable.insert(true); // Create Fixed Asset serviceLife = conPeek(record,13); LifeTimeRest = conPeek(record,15); DrunDate = conPeek(record,12); ADate = conPeek(record,10); Costcenter = conPeek(record,18); while select assetGroupBookSetup where assetGroupBookSetup.AssetGroup == assetTable.AssetGroup { if (assetTable.AssetGroup == assetGroupBookSetup.AssetGroup) { assetBook.clear(); assetBook.initValue(); assetBook.BookId = assetGroupBookSetup.BookId; assetBook.AssetId = assetTable.AssetId; assetBook.AssetGroup = assetGroupBookSetup.AssetGroup; assetBook.initFromAssetGroupBookSetup(); assetBook.SortingId = assetTable.SortingId; assetBook.SortingId2 = assetTable.SortingId2; assetBook.SortingId3 = assetTable.SortingId3; assetbook.ServiceLife = str2num(serviceLife); assetbook.LifeTimeRest = str2num(LifeTimeRest); assetbook.DepreciationStartDate = str2date(DrunDate,321); assetbook.AcquisitionDate = str2date(ADate,321); assetbook.Dimension[2] = Costcenter; assetBook.insert(); } } numImported = numImported + 1; } else { info(\"Exists\"); } ttscommit; } //while } …… } 这里是导入功能的源代码 ","date":"2020-01-13","objectID":"https://www.nashome.cn/posts/dynamics-ax-golive-data-import/:5:0","tags":["Ax2009","Data","Golive"],"title":"Dynamics AX GoLive Data Import","uri":"https://www.nashome.cn/posts/dynamics-ax-golive-data-import/"},{"categories":["Dynamicsax"],"content":"Auto Generate XML From AX Document Service","date":"2020-01-13","objectID":"https://www.nashome.cn/posts/dynamics-ax-auto-generate-xml/","tags":["Ax2009","Xml","DocumentService"],"title":"Dynamics AX Auto Generate XML","uri":"https://www.nashome.cn/posts/dynamics-ax-auto-generate-xml/"},{"categories":["Dynamicsax"],"content":"新建查询 组织需要输出的数据，新建一个Query。注意新建的表需要有Index。 ","date":"2020-01-13","objectID":"https://www.nashome.cn/posts/dynamics-ax-auto-generate-xml/:1:0","tags":["Ax2009","Xml","DocumentService"],"title":"Dynamics AX Auto Generate XML","uri":"https://www.nashome.cn/posts/dynamics-ax-auto-generate-xml/"},{"categories":["Dynamicsax"],"content":"文档服务 路径：工具 -\u003e 开发工具 -\u003e AIF -\u003e 创建、更新文档服务 ","date":"2020-01-13","objectID":"https://www.nashome.cn/posts/dynamics-ax-auto-generate-xml/:2:0","tags":["Ax2009","Xml","DocumentService"],"title":"Dynamics AX Auto Generate XML","uri":"https://www.nashome.cn/posts/dynamics-ax-auto-generate-xml/"},{"categories":["Dynamicsax"],"content":"自动创建Pravite Project 通过系统工具可以自动创建下图中的所有类，其中Job可以生成XML的XSD，CIG_ICTradeOrderService是对应的文档服务名称 ","date":"2020-01-13","objectID":"https://www.nashome.cn/posts/dynamics-ax-auto-generate-xml/:2:1","tags":["Ax2009","Xml","DocumentService"],"title":"Dynamics AX Auto Generate XML","uri":"https://www.nashome.cn/posts/dynamics-ax-auto-generate-xml/"},{"categories":["Dynamicsax"],"content":"XML文件 如下代码描述了如何在服务器指定位置生成对应XML文件，执行如下程序可以把CIG_ICTradeOrderTable中的指定数据根据Query中的数据结构生成对应的XML文件 static void ExportOrderXml(CIG_ICTradeOrderTable _tradeOrderTable) { AxdCIG_ICTradeOrder TradeOrder; AifEntityKey key; Map map; AifPropertyBag bag; XmlDocument xmlDocument = new XmlDocument(); FileIoPermission perm; CIG_ICTradeOrderTable tradeOrderTable;// = CIG_ICTradeOrderTable::find(_transRefId); CIG_ICTradeOrderLine tradeOrderLine; filename filename;// = strfmt(\"//editest/AX-TEST/%1_%2.xml\",strrem(strrem(salesTable.SalesId,'/'),'-'),timenow()); Boolean loadStatus; ; if(_tradeOrderTable) { filename = strfmt(\"//edilive/edi_live/FileSystem/Root/Inbound/ORDER/ORDER_%2.xml\",strrem(strrem(_tradeOrderTable.SalesPurchOrderId,'/'),'-'),_tradeOrderTable.EDIGUID); perm = new FileIoPermission(fileName,\"wr\"); perm.assert(); map = new Map(Types::Integer, Types::Container); map.insert(fieldnum(CIG_ICTradeOrderTable, EDIGUID), [_tradeOrderTable.EDIGUID]); map.insert(fieldnum(CIG_ICTradeOrderTable, OrderType), [_tradeOrderTable.OrderType]); key = new AifEntityKey(); key.parmTableId(tablenum(CIG_ICTradeOrderTable)); key.parmKeyDataMap(map); try { tradeOrder = new AxdCIG_ICTradeOrder(); loadStatus = xmlDocument.loadXml(tradeOrder.read(key, null, new AifEndPointActionPolicyInfo(), new AifConstraintList(), bag)); if(loadStatus) { xmlDocument.save(filename); CIG_QueueManager::createQueueManagerData(_tradeOrderTable ,xmlDocument.xml() ,\"\" ,AifMessageDirection::Outbound ,filename); CIG_TradeInterCompany_EDI::updateStatus(_tradeOrderTable,\"Sent\"); } CodeAccessPermission::revertAssert(); } catch { throw error('Error in document service outbound'); } } } ","date":"2020-01-13","objectID":"https://www.nashome.cn/posts/dynamics-ax-auto-generate-xml/:3:0","tags":["Ax2009","Xml","DocumentService"],"title":"Dynamics AX Auto Generate XML","uri":"https://www.nashome.cn/posts/dynamics-ax-auto-generate-xml/"},{"categories":["hugo"],"content":"百度无法收录github pages，因此本文介绍如何把hugo 同时部署到github pages和netlify而且每次更新文章只需要push到github即可","date":"2020-01-12","objectID":"https://www.nashome.cn/posts/hugo-netlify/","tags":["Netlify","GithubPages","Even"],"title":" 同时部署 Hugo 静态博客到 Netlify 和 Github Pages","uri":"https://www.nashome.cn/posts/hugo-netlify/"},{"categories":["hugo"],"content":" 本文同步更新至 Youtube 和 BiliBili ","date":"2020-01-12","objectID":"https://www.nashome.cn/posts/hugo-netlify/:0:0","tags":["Netlify","GithubPages","Even"],"title":" 同时部署 Hugo 静态博客到 Netlify 和 Github Pages","uri":"https://www.nashome.cn/posts/hugo-netlify/"},{"categories":["hugo"],"content":"部署到Github Pages 请参照 用 Hugo 配合 GithubActions 自动构建我的博客 ","date":"2020-01-12","objectID":"https://www.nashome.cn/posts/hugo-netlify/:1:0","tags":["Netlify","GithubPages","Even"],"title":" 同时部署 Hugo 静态博客到 Netlify 和 Github Pages","uri":"https://www.nashome.cn/posts/hugo-netlify/"},{"categories":["hugo"],"content":"设置Even主题子模块化 在网站根目录下输入添加主题子模块的命令： git submodule add https://github.com/zhaoqiangcn/hugo-theme-even.git themes/even 如果在网站根目录下出现 .gitmodules 文件，且内容跟我的类似，则表示成功： [submodule \"themes/even\"] path = themes/even url = https://github.com/zhaoqiangcn/hugo-theme-even.git 然后 进入主题文件夹 git push 到远程仓库即可。 ","date":"2020-01-12","objectID":"https://www.nashome.cn/posts/hugo-netlify/:2:0","tags":["Netlify","GithubPages","Even"],"title":" 同时部署 Hugo 静态博客到 Netlify 和 Github Pages","uri":"https://www.nashome.cn/posts/hugo-netlify/"},{"categories":["hugo"],"content":"部署 跟官网宣传的一样，部署 Hugo 网站到 Netlify 非常简单，跟着导航操作即可。 经过部署后已经可以通过 Netlify 分配的域名来访问网站了 ","date":"2020-01-12","objectID":"https://www.nashome.cn/posts/hugo-netlify/:3:0","tags":["Netlify","GithubPages","Even"],"title":" 同时部署 Hugo 静态博客到 Netlify 和 Github Pages","uri":"https://www.nashome.cn/posts/hugo-netlify/"},{"categories":["hugo"],"content":"自定义域名 对于想对网站使用主域名而言，自定义域名很简单： 找到 Domain settings 选项卡，点击进入域名设置 在 Custom domains 一项下点击 Add domain alias 来添加自定义域名 在弹出来的输入框输出主域名即可 在域名商处添加如下的 DNS 记录，等待 DNS 刷新，看到主域名处出现 NETLIFY DNS 的墨绿色标志即代表成功 dns1.p01.nsone.net dns2.p01.nsone.net dns3.p01.nsone.net dns4.p01.nsone.net ","date":"2020-01-12","objectID":"https://www.nashome.cn/posts/hugo-netlify/:4:0","tags":["Netlify","GithubPages","Even"],"title":" 同时部署 Hugo 静态博客到 Netlify 和 Github Pages","uri":"https://www.nashome.cn/posts/hugo-netlify/"},{"categories":["hugo"],"content":"开启 HTTPS 在 HTTPS 选项卡下的 SSL/TLS certificate 选项开启即可。 证书的签发者为 Let’s Encrypt，支持自动续期。也可以自定义别的签发者。 如果想在 Chrome 地址栏里看到小绿锁（小灰锁），还需要把所有链接都替换成以 https:// 开头的链接。 接着在页面按下 F12 来打开开发者工具，并切换到 Network，刷新页面，查看有什么请求不是以 https:// 发出的，修改相关页面来替换。 ","date":"2020-01-12","objectID":"https://www.nashome.cn/posts/hugo-netlify/:5:0","tags":["Netlify","GithubPages","Even"],"title":" 同时部署 Hugo 静态博客到 Netlify 和 Github Pages","uri":"https://www.nashome.cn/posts/hugo-netlify/"},{"categories":["Linux"],"content":"前言 Github Ac­tions 是 GitHub 推出的持续集成 (Con­tin­u­ous in­te­gra­tion，简称 CI) 服务，它提供了配置非常不错的虚拟服务器环境（E5 2vCPU/7G RAM），基于它可以进行构建、测试、打包、部署项目。对于公共仓库可免费无时间限制的使用（指累积时间），不过要使用它首先需要知道如何编写 workflow 文件。但这篇文章并不是教你如何枯燥的去编写 work­flow 文件，而是教你如何去使用博主已经编写好的 Open­Wrt 编译解决方案。 ","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/openwrt-build/:1:0","tags":["Openwrt","GithubActions"],"title":"使用 GitHub Actions 编译 OpenWrt","uri":"https://www.nashome.cn/posts/openwrt-build/"},{"categories":["Linux"],"content":"教程更新 关注 GitHub Actions Channel 获得最新情报 2019-12-10 新增 macOS 虚拟机编译使用说明 2019-12-06 添加 tmate 网页终端链接说明 2019-12-05 优化基础使用教程，添加 @lietxia 大佬的图文教程链接 2019-12-04 新增云menuconfig使用方法 2019-12-03 新增并发编译使用方法 2019-11-30 新增自定义源码编译使用方法 2019-11-14 全网独家首发 ","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/openwrt-build/:2:0","tags":["Openwrt","GithubActions"],"title":"使用 GitHub Actions 编译 OpenWrt","uri":"https://www.nashome.cn/posts/openwrt-build/"},{"categories":["Linux"],"content":"方案特点 免费 一键快速编译 定时自动编译 客制化编译 并发编译（可同时进行20+5个编译任务） 无需搭建编译环境（在线make menuconfig生成配置文件) 无需消耗自己的计算机与服务器的计算资源（性感E5在线编译） 无需担心磁盘空间不足（近60G磁盘空间） 无需使用清理文件（内核更新不怕 boom ） 编译速度快（编译时间1-2小时） 全新环境（杜绝编译环境不干净导致编译失败） 本解决方案是一个开放平台，任何人都可以基于此打造自己专属的编译方案。 ","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/openwrt-build/:3:0","tags":["Openwrt","GithubActions"],"title":"使用 GitHub Actions 编译 OpenWrt","uri":"https://www.nashome.cn/posts/openwrt-build/"},{"categories":["Linux"],"content":"项目地址 https://github.com/P3TERX/Actions-OpenWrt 喜欢的小伙伴请点击star哦~ ","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/openwrt-build/:4:0","tags":["Openwrt","GithubActions"],"title":"使用 GitHub Actions 编译 OpenWrt","uri":"https://www.nashome.cn/posts/openwrt-build/"},{"categories":["Linux"],"content":"准备工作 注册 GitHub 账号并开启 GitHub Actions 使用权限 搭建编译环境，用于生成.config文件。(可选) TIPS: 关于编译环境的搭建，推荐去看我之前写的相关文章，Win­dows 10 可以使用 WSL ，ma­cOS、Linux 可以使用 Docker 。 ","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/openwrt-build/:5:0","tags":["Openwrt","GithubActions"],"title":"使用 GitHub Actions 编译 OpenWrt","uri":"https://www.nashome.cn/posts/openwrt-build/"},{"categories":["Linux"],"content":"基础使用 ","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/openwrt-build/:6:0","tags":["Openwrt","GithubActions"],"title":"使用 GitHub Actions 编译 OpenWrt","uri":"https://www.nashome.cn/posts/openwrt-build/"},{"categories":["Linux"],"content":"默认配置编译 难度： ⭐ 门槛： 基础计算机技能 使用 L 大钦定的配置进行编译，默认是 x86_64 平台。如果你刚好在使用软路由又懒得折腾，那么这是最好的选择。紧跟 L 大的步伐，随时随地进行编译。 TIPS: 默认引用L大的源码，有其它需求可自行修改 work­flow 文件，方法后面的进阶使用中有说明。 fork 这个仓库 在 releases 页面发布一个 release 编译工作就会自动开始，在 Actions 页面可以查看编译进度。 进入这个页面，点击右上角的star按钮可加快编译速度和成功率（大雾 编译完成点击 Actions 页面右上角的Artifacts按钮下载固件。 ","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/openwrt-build/:6:1","tags":["Openwrt","GithubActions"],"title":"使用 GitHub Actions 编译 OpenWrt","uri":"https://www.nashome.cn/posts/openwrt-build/"},{"categories":["Linux"],"content":"基础客制化编译 难度： ⭐️⭐️⭐️ 门槛： Linux 与 Git 基础知识 一次纯手工编译 OpenWrt 成功的经历 如果你不满足于默认的配置或者想编译其它平台的固件，那么就开始你的客制化之旅吧。 fork 这个仓库 在自己搭建编译环境中使用 Lean’s OpenWrt 源码生成.config文件。（或使用后面进阶玩法中的云menuconfig，直接 SSH 到 Actions 进行操作） 把生成好的.config文件本地仓库根目录，然后 push 到 GitHub 远程仓库编译工作就会自动开始，在 Actions 页面可以查看编译进度。 进入这个页面，点击右上角的star按钮可加快编译速度和成功率（大雾 编译完成点击 Actions 页面右上角的Artifacts按钮下载固件。 如果不明白我在说什么，那么推荐去看 @lietxia 大佬写的图文并茂的教程。 ","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/openwrt-build/:6:2","tags":["Openwrt","GithubActions"],"title":"使用 GitHub Actions 编译 OpenWrt","uri":"https://www.nashome.cn/posts/openwrt-build/"},{"categories":["Linux"],"content":"再次编译 难度： ⭐️⭐️⭐️⭐️ 门槛： Linux 与 Git 基础知识 一次纯手工编译 OpenWrt 成功的经历 小学语文、英语90分 当看见源码有更新，在 re­leases 页面发布一个 re­lease 直接将直接使用最新源码进行编译。 TIPS: 如果你嫌发 re­lease 麻烦，那么可以根据后面的进阶玩法开启真·一键编译。 此时如果你想修改配置，那么还是生成.config 文件并 push 到仓库触发编译的工作流程。 ","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/openwrt-build/:6:3","tags":["Openwrt","GithubActions"],"title":"使用 GitHub Actions 编译 OpenWrt","uri":"https://www.nashome.cn/posts/openwrt-build/"},{"categories":["Linux"],"content":"进阶使用 难度： ⭐️⭐️⭐️⭐️️⭐️ 门槛： ∞ ","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/openwrt-build/:7:0","tags":["Openwrt","GithubActions"],"title":"使用 GitHub Actions 编译 OpenWrt","uri":"https://www.nashome.cn/posts/openwrt-build/"},{"categories":["Linux"],"content":"DIY 脚本 仓库内有一个 diy.sh 文件，你可以把对源码修改的指令写到这个文件中，比如修改默认 IP、主机名、主题、添加 / 删除软件包等操作。但不仅限于这些操作，发挥你强大的想象力，可做出更强大的功能。 TIPS: 脚本工作目录在源码目录，内附一个修改默认 IP 的例子供参考使用。 ","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/openwrt-build/:7:1","tags":["Openwrt","GithubActions"],"title":"使用 GitHub Actions 编译 OpenWrt","uri":"https://www.nashome.cn/posts/openwrt-build/"},{"categories":["Linux"],"content":"添加软件包 在 DIY 脚本中加入对指定软件包的远程仓库的克隆指令。就像下面这样： git clone https://github.com/P3TERX/xxx package/xxx 这样做的好处是每一次编译都会拉取最新的源码。 TIPS: 生成.config文件时记得选中相应的软件。如果添加的软件包与 Open­Wrt 中已有的软件包同名的情况，则需要把源码中的同名软件包删除，否则会优先编译 Open­Wrt 中的软件包。这同样可以利用到的 DIY 脚本。 ","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/openwrt-build/:7:2","tags":["Openwrt","GithubActions"],"title":"使用 GitHub Actions 编译 OpenWrt","uri":"https://www.nashome.cn/posts/openwrt-build/"},{"categories":["Linux"],"content":"Custom files（自定义文件） 俗称 “files 大法”，在仓库根目录下新建 files 目录，把文件放入即可。 ","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/openwrt-build/:7:3","tags":["Openwrt","GithubActions"],"title":"使用 GitHub Actions 编译 OpenWrt","uri":"https://www.nashome.cn/posts/openwrt-build/"},{"categories":["Linux"],"content":"定时自动编译 点击查看 ","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/openwrt-build/:7:4","tags":["Openwrt","GithubActions"],"title":"使用 GitHub Actions 编译 OpenWrt","uri":"https://www.nashome.cn/posts/openwrt-build/"},{"categories":["Linux"],"content":"真·一键编译 点击自己仓库页面上的 Star 开始编译，为了防止被滥用，这个功能默认没有开启。开启后如果被恶意点击轻则封号，严重可能会导致中美关系恶化、原子弹爆炸、第三次世界大战等后果。（大雾 点击查看 ","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/openwrt-build/:7:5","tags":["Openwrt","GithubActions"],"title":"使用 GitHub Actions 编译 OpenWrt","uri":"https://www.nashome.cn/posts/openwrt-build/"},{"categories":["Linux"],"content":"自定义源码编译 此方案默认引用的是 L 大的源码，如果你觉得不好用或者有编译其它源码的需求可以进行替换，自由是本解决方案最大的特点。 点击查看 ","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/openwrt-build/:7:6","tags":["Openwrt","GithubActions"],"title":"使用 GitHub Actions 编译 OpenWrt","uri":"https://www.nashome.cn/posts/openwrt-build/"},{"categories":["Linux"],"content":"并发编译 基于 GitHub Ac­tions 可同时运行多个工作流程的特性，最多可以同时进行至少 20 个编译任务。也可以单独选择其中一个进行编译，这充分的利用到了 GitHub Ac­tions 为每个账户免费提供的 20 个 Ubuntu 虚拟服务器环境。此外你还可以额外再使用 5 个 ma­cOS 虚拟服务器环境进行编译，开启方法在后面有说明。 点击查看 ","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/openwrt-build/:7:7","tags":["Openwrt","GithubActions"],"title":"使用 GitHub Actions 编译 OpenWrt","uri":"https://www.nashome.cn/posts/openwrt-build/"},{"categories":["Linux"],"content":"云 menuconfig（SSH 连接到 Actions） 通过 tmate 连接到 GitHub Ac­tions 虚拟服务器环境，可直接进行 make menuconfig 操作生成编译配置，或者任意的客制化操作。也就是说，你不需要再自己搭建编译环境了。这可能改变之前所有使用 GitHub Ac­tions 的编译 Open­Wrt 方式。 点击查看 ","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/openwrt-build/:7:8","tags":["Openwrt","GithubActions"],"title":"使用 GitHub Actions 编译 OpenWrt","uri":"https://www.nashome.cn/posts/openwrt-build/"},{"categories":["Linux"],"content":"macOS 虚拟机编译 GitHub Ac­tions 的 ma­cOS 虚拟机性能要高于 Ubuntu 虚拟机，所以使用它编译 Open­Wrt 理论上速度会更快。博主经过几天时间的研究已经总结出了 macOS 下的 OpenWrt 编译环境的搭建方法，并编写出了适用于 ma­cOS 虚拟环境的 Open­Wrt 编译方案的 work­flow 文件。 点击查看 ","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/openwrt-build/:7:9","tags":["Openwrt","GithubActions"],"title":"使用 GitHub Actions 编译 OpenWrt","uri":"https://www.nashome.cn/posts/openwrt-build/"},{"categories":["Linux"],"content":"尾巴 希望大家不要滥用免费的开发资源，需要时再编译，让开发者来充分利用才能产生更多更好的软件，这样大家才能受益。 相关 TG 群组：GitHub Actions Group 欢迎订阅我的 TG 频道，接收最新的文章推送和有趣的内容。加入 TG 群组，和小伙伴们一同交流、学习、成♂长。 本文作者：P3TERX **本文链接：**https://p3terx.com/archives/build-openwrt-with-github-actions.html **版权声明：**本博客所有文章除特别声明外，均采用 CC BY-NC-SA 4.0 许可协议。非商业转载及引用请注明出处（作者、原文链接），商业转载请联系作者获得授权。 ","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/openwrt-build/:8:0","tags":["Openwrt","GithubActions"],"title":"使用 GitHub Actions 编译 OpenWrt","uri":"https://www.nashome.cn/posts/openwrt-build/"},{"categories":["hugo"],"content":"Valine 评论系统 leancloud","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/hugo-valine/","tags":["Valine"],"title":"用 Hugo 配合 Valine 实现简洁的评论交互","uri":"https://www.nashome.cn/posts/hugo-valine/"},{"categories":["hugo"],"content":" 本文同步更新至 Youtube 和 BiliBili 作者已经在最新的主题中加入了Algolia搜索，现在只要在配置文件中开启一下即可。 ","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/hugo-valine/:0:0","tags":["Valine"],"title":"用 Hugo 配合 Valine 实现简洁的评论交互","uri":"https://www.nashome.cn/posts/hugo-valine/"},{"categories":["hugo"],"content":"Leancloud相关配置 评论系统依赖于leancloud，所以需要先在leancloud中进行相关的准备工作。 登录 或 注册 LeanCloud 登录成功后，进入后台点击左上角的创建应用： 进入应用，左边栏找到【设置】【应用Key】 记录 App ID，App Key 后面配置文件中会用到： 建立两个新的存储,因为评论和文章阅读数统计依赖于存储Class 创建两个存储Class，分别命名为: Counter 和 Comment; 为应用添加安全域名，左边栏点击【设置】【安全中心】【安全域名】 输入博客使用的域名，点击保存即可： ","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/hugo-valine/:1:0","tags":["Valine"],"title":"用 Hugo 配合 Valine 实现简洁的评论交互","uri":"https://www.nashome.cn/posts/hugo-valine/"},{"categories":["hugo"],"content":"config.toml添加参数 为了使配置更灵活，将 Valine 中大部分初始化参数项均设置为配置文件中的参数项，在 config.toml 的适当位置，比如我的文件中 [params.gitment] 的下面： [params.gitment] # Gitment is a comment system based on GitHub issues. see https://github.com/imsun/gitment owner = \"\" # Your GitHub ID repo = \"\" # The repo to store comments clientId = \"\" # Your client ID clientSecret = \"\" # Your client secret # 这里添加Valine的相关参数 添加 Valine 参数项： # Valine. # You can get your appid and appkey from https://leancloud.cn # more info please open https://valine.js.org [params.valine] enable = true appId = '你的appId' appKey = '你的appKey' notify = false # mail notifier , https://github.com/xCss/Valine/wiki verify = false # Verification code avatar = 'mm' placeholder = '说点什么吧...' visitor = true 上面几项内容的含义，这里简单一说，具体还是要看 Valine官网中配置相关的内容： 参数 用途 enable 这是用于主题中配置的，不是官方Valine的参数，true时控制开启此评论系统 appId 这是在 leancloud 后台应用中获取的，也就是上面提到的 App ID appKey 这是在 leancloud 后台应用中获取的，也就是上面提到的 App Key notify 用于控制是否开启邮件通知功能，具体参考邮件提醒配置 verify 用于控制是否开启评论验证码功能 avatar 用于配置评论项中用户头像样式，有多种选择：mm, identicon, monsterid, wavatar, retro, hide。详细参考：头像配置 placehoder 评论框的提示符 visitor 控制是否开启文章阅读数的统计功能i, 详情阅读文章阅读数统计 ","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/hugo-valine/:2:0","tags":["Valine"],"title":"用 Hugo 配合 Valine 实现简洁的评论交互","uri":"https://www.nashome.cn/posts/hugo-valine/"},{"categories":["hugo"],"content":"修改主题文件 主要是修改主题中评论相关的布局文件 themes/even/layouts/partials/comments.html，按照 Valine快速开始 添加 Valine 相关代码，找到以下位置，大概55～81行的位置： \u003c!-- gitment --\u003e {{- if .Site.Params.gitment.enable -}} \u003cdiv id=\"comments-gitment\"\u003e\u003c/div\u003e \u003c!--这里省略了部分代码--\u003e \u003cnoscript\u003ePlease enable JavaScript to view the \u003ca href=\"https://github.com/imsun/gitment\"\u003ecomments powered by gitment.\u003c/a\u003e\u003c/noscript\u003e {{- end }} \u003c!--这个位置添加Valine相关代码--\u003e 添加的 Valine 评论的代码如下： \u003c!-- valine --\u003e {{- if .Site.Params.valine.enable -}} \u003c!-- id 将作为查询条件 --\u003e \u003cspan id=\"{{ .URL | relURL }}\" class=\"leancloud_visitors\" data-flag-title=\"{{ .Title }}\"\u003e \u003cspan class=\"post-meta-item-text\"\u003e文章阅读量 \u003c/span\u003e \u003cspan class=\"leancloud-visitors-count\"\u003e1000000\u003c/span\u003e \u003cp\u003e\u003c/p\u003e \u003c/span\u003e \u003cdiv id=\"vcomments\"\u003e\u003c/div\u003e \u003cscript src=\"//cdn1.lncld.net/static/js/3.0.4/av-min.js\"\u003e\u003c/script\u003e \u003cscript src='//unpkg.com/valine/dist/Valine.min.js'\u003e\u003c/script\u003e \u003cscript type=\"text/javascript\"\u003e new Valine({ el: '#vcomments' , appId: '{{ .Site.Params.valine.appId }}', appKey: '{{ .Site.Params.valine.appKey }}', notify: {{ .Site.Params.valine.notify }}, verify: {{ .Site.Params.valine.verify }}, avatar:'{{ .Site.Params.valine.avatar }}', placeholder: '{{ .Site.Params.valine.placeholder }}', visitor: {{ .Site.Params.valine.visitor }} }); \u003c/script\u003e {{- end }} 可以看到上述代码中引用了配置文件中的相关参数，这样以后修改配置就不用修改代码了，只需要改配置文件 config.toml，另外注意到的是，我也添加了文章阅读数统计的显示内容。将配置文件中 valine 配置的 eanble 设置为 true ，本地测试一下，正常的话，打开一篇文章会看到： 此时，生成静态博客文件，部署到自己的托管平台，正常的话打开博客中的一篇文章，就可以看到正常的文章计数和评论框了，此时随便评论一条，验证一下，评论如果成功，可以去leancloud后台看一下 Comment 和 Counter存储中新加了相应网址的条目。 ","date":"2020-01-10","objectID":"https://www.nashome.cn/posts/hugo-valine/:3:0","tags":["Valine"],"title":"用 Hugo 配合 Valine 实现简洁的评论交互","uri":"https://www.nashome.cn/posts/hugo-valine/"},{"categories":["hugo"],"content":" 本文同步更新至 Youtube 和 BiliBili 目前我已经切换到Loveit主题了，但是方法是一样的 ","date":"2020-01-09","objectID":"https://www.nashome.cn/posts/hugo-github-actions/:0:0","tags":["GithubPages","GithubActions"],"title":"用 Hugo 配合 Github Actions 自动构建我的博客","uri":"https://www.nashome.cn/posts/hugo-github-actions/"},{"categories":["hugo"],"content":"初始化 GitHub 仓库 我们起一个 分支名字叫 develop,用来保存我们的 Hugo 的源码。 然后起一个 gh-pages 分支，推送到远端，用来当做我们的 GitHub Pages 展示的分支。 GitHub Pages 其实就是一个静态页面展示的一个地方，他利用生成静态页面，直接通过域名来给用户展示。 # git checkout -b gh-pages # git push origin gh-pages # git checkout -b develop # git push origin develop ","date":"2020-01-09","objectID":"https://www.nashome.cn/posts/hugo-github-actions/:1:0","tags":["GithubPages","GithubActions"],"title":"用 Hugo 配合 Github Actions 自动构建我的博客","uri":"https://www.nashome.cn/posts/hugo-github-actions/"},{"categories":["hugo"],"content":"初始化 Hugo 如果你已经初始化了 Hugo 项目，可以跳过这一步，直接到 Actions 自动构建 ","date":"2020-01-09","objectID":"https://www.nashome.cn/posts/hugo-github-actions/:2:0","tags":["GithubPages","GithubActions"],"title":"用 Hugo 配合 Github Actions 自动构建我的博客","uri":"https://www.nashome.cn/posts/hugo-github-actions/"},{"categories":["hugo"],"content":"下载一个主题 Hugo 的开源主题还是挺多的，你可以通过 主题官网 找一个你比较喜欢的主题来搭建自己的博客。 我们这里用 Even这个主题 # git clone https://github.com/olOwOlo/hugo-theme-even themes/even 进入 blog/themes/even/exampleSite 文件夹，将 config.tom 文件拷贝到项目根目录下，同时将 blog/themes/even/exampleSite/content 文件夹覆盖掉根目录下的 content 。 ","date":"2020-01-09","objectID":"https://www.nashome.cn/posts/hugo-github-actions/:2:1","tags":["GithubPages","GithubActions"],"title":"用 Hugo 配合 Github Actions 自动构建我的博客","uri":"https://www.nashome.cn/posts/hugo-github-actions/"},{"categories":["hugo"],"content":"运行看一看你的博客 # hugo -D server hugo 编译后，会自动生成一个 public 文件夹的静态页面，我们只需要把 public 文件夹里面的东西，提交到 gh_pages 分支，就能够成功构建 GitHub Pages 页面了。 ","date":"2020-01-09","objectID":"https://www.nashome.cn/posts/hugo-github-actions/:2:2","tags":["GithubPages","GithubActions"],"title":"用 Hugo 配合 Github Actions 自动构建我的博客","uri":"https://www.nashome.cn/posts/hugo-github-actions/"},{"categories":["hugo"],"content":"Actions 自动构建 这里，我们只需要去监听 develop 是否推送就可以了。 构建我们需要做一下流程： 检出代码 安装 Hugo 环境 编译 Hugo 将 public 下的文件夹推送到 gh-pages分支 我们再 .github/workflows 里面新建一个 gh_pages.yml name: GitHub Page Deploy on: push: branches: - develop jobs: build-deploy: runs-on: ubuntu-18.04 steps: - name: Checkout master uses: actions/checkout@v1 - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: '0.61.0' # extended: true - name: Build Hugo run: | hugo - name: Deploy Hugo to gh-pages uses: peaceiris/actions-gh-pages@v2 env: ACTIONS_DEPLOY_KEY: ${{ secrets.ACTIONS_DEPLOY_KEY }} PUBLISH_BRANCH: gh-pages PUBLISH_DIR: ./public 这些 action 统统可以在 github actions marketplace 里面找到。 我们要巧妙的去搜索一些关于 uses 的一些 actions 这样可以极大的节省我们去写 shell 的时间。 上面代码中，只要配几个参数就可以用。参数之中， 需要我们的秘钥去推送到 gh-pages 分支，使用的是加密变量，需要在项目的settings/secrets菜单里面设置。 具体 我们可以看 peaceiris/actions-gh-pages@v2 的文档，里面告诉了我们如何加入到 secrets 里面。 特别注意 我们要去对着 peaceiris/actions-gh-pages@v2 去看如何生成，以及加入加密变量。 ACTIONS_DEPLOY_KEY 一定要加入到 secrets 里面，否则构建推送会失败。 ","date":"2020-01-09","objectID":"https://www.nashome.cn/posts/hugo-github-actions/:3:0","tags":["GithubPages","GithubActions"],"title":"用 Hugo 配合 Github Actions 自动构建我的博客","uri":"https://www.nashome.cn/posts/hugo-github-actions/"},{"categories":["hugo"],"content":"推送到Github #!/bin/bash echo -e \"\\033[0;32mDeploying updates to GitHub...\\033[0m\" # Build the project. hugo -t even # Add changes to git. git add . # Commit changes. msg=\"rebuilding site `date`\" if [ $# -eq 1 ] then msg=\"$1\" fi git commit -m \"$msg\" # Push source and build repos. git push origin develop 执行上面的代码后，Github 收到PUSH后Actions 就会自动开始构建了，等待结束大约1分钟不到即可打开网站域名试试吧。 ","date":"2020-01-09","objectID":"https://www.nashome.cn/posts/hugo-github-actions/:4:0","tags":["GithubPages","GithubActions"],"title":"用 Hugo 配合 Github Actions 自动构建我的博客","uri":"https://www.nashome.cn/posts/hugo-github-actions/"},{"categories":["Linux"],"content":"这是一个无需注册即可使用的阅后即焚程序，当你需要在能够被第三方监听的平台，分享一些敏感信息时，可以借助NaiveBoom，将敏感信息以一个一次性链接的形式发送，一旦被人点击，信息即消失了。 ","date":"2020-01-02","objectID":"https://www.nashome.cn/posts/naiveboom/:0:0","tags":[],"title":"NaiveBoom 阅后即焚","uri":"https://www.nashome.cn/posts/naiveboom/"},{"categories":["Linux"],"content":"项目介绍 项目遵循MIT协议开源。 工作环境为：nodejs、redis、Nginx或Apache等（可选） Github地址：https://github.com/kchown/naiveboom ","date":"2020-01-02","objectID":"https://www.nashome.cn/posts/naiveboom/:1:0","tags":[],"title":"NaiveBoom 阅后即焚","uri":"https://www.nashome.cn/posts/naiveboom/"},{"categories":["Linux"],"content":"预览 电脑端Web界面预览： iOS手机端Web界面预览： 基础环境配置 Redis 由于我的VPS本身部署了lnmp 1.5(https://lnmp.org/install.html)，因此也直接使用了其提供的Redis，具体安装过程如下： 进入lnmp解压后的目录，执行： ./addons.sh install redis 按任意键开始安装即可。 安装完成后，可以通过 /etc/init.d/redis {start|stop|restart|kill} 进行状态管理。 ","date":"2020-01-02","objectID":"https://www.nashome.cn/posts/naiveboom/:2:0","tags":[],"title":"NaiveBoom 阅后即焚","uri":"https://www.nashome.cn/posts/naiveboom/"},{"categories":["Linux"],"content":"nodejs 环境 里我选择了Node.js v8.x，系统为Debian 8： # Using Debian, as root curl -sL https://deb.nodesource.com/setup_8.x | bash - apt-get install -y nodejs 对于一些npm包，可能还需要安装build-essential： apt-get install build-essential 通过PM2我们可以方便地启动和管理Node.js程序： npm install -g pm2 ","date":"2020-01-02","objectID":"https://www.nashome.cn/posts/naiveboom/:3:0","tags":[],"title":"NaiveBoom 阅后即焚","uri":"https://www.nashome.cn/posts/naiveboom/"},{"categories":["Linux"],"content":"部署NaiveBoom 我们将NaiveBoom clone至本地: git clone https://github.com/kchown/naiveboom.git 配置 \u0026 启动 如果你的Redis设置与config.js中的不同，请按照实际进行修改。 然后在NaiveBoom目录下，我们开始安装依赖： npm install 完成后，我们选择PM2进行启动和管理，这样更为方便： pm2 start run.js 如果显示如下画面，那么NaiveBoom已经在正常运行了： 我们此时如果访问http://ip:3000，应该就能正常访问NaiveBoom了！ ","date":"2020-01-02","objectID":"https://www.nashome.cn/posts/naiveboom/:4:0","tags":[],"title":"NaiveBoom 阅后即焚","uri":"https://www.nashome.cn/posts/naiveboom/"},{"categories":["Dynamicsax"],"content":"DynamicsAX项目上线期初数据的初始化","date":"2020-01-02","objectID":"https://www.nashome.cn/posts/dynamics-ax-golive-data-initialize/","tags":["Ax2009","Data","Golive"],"title":"Dynamics AX GoLive Data Initialize","uri":"https://www.nashome.cn/posts/dynamics-ax-golive-data-initialize/"},{"categories":["Dynamicsax"],"content":"静态数据 静态数据主要包括系统参数，仓库站点，物料编号等等等数据对应上面1-88行，期初由用户一一按照格式整理后由我们导入AX中。 ","date":"2020-01-02","objectID":"https://www.nashome.cn/posts/dynamics-ax-golive-data-initialize/:1:0","tags":["Ax2009","Data","Golive"],"title":"Dynamics AX GoLive Data Initialize","uri":"https://www.nashome.cn/posts/dynamics-ax-golive-data-initialize/"},{"categories":["Dynamicsax"],"content":"动态数据 动态数据主要包括未结销售订单，未结采购订单，期初余额的数据对应上面201-213行，期初由用户一一按照格式整理后由我们导入AX中。 ","date":"2020-01-02","objectID":"https://www.nashome.cn/posts/dynamics-ax-golive-data-initialize/:2:0","tags":["Ax2009","Data","Golive"],"title":"Dynamics AX GoLive Data Initialize","uri":"https://www.nashome.cn/posts/dynamics-ax-golive-data-initialize/"},{"categories":["Dynamicsax"],"content":"01-Open SO 这里是未结销售订单导入模板 ,这部分销售订单数据需要通过开发功能导入系统，请参考此文：销售订单导入功能。 ","date":"2020-01-02","objectID":"https://www.nashome.cn/posts/dynamics-ax-golive-data-initialize/:2:1","tags":["Ax2009","Data","Golive"],"title":"Dynamics AX GoLive Data Initialize","uri":"https://www.nashome.cn/posts/dynamics-ax-golive-data-initialize/"},{"categories":["Dynamicsax"],"content":"02-Open PO 这里是未结采购订单导入模板 ,这部分采购订单数据需要通过开发功能导入系统，请参考此文：采购订单导入功能。 ","date":"2020-01-02","objectID":"https://www.nashome.cn/posts/dynamics-ax-golive-data-initialize/:2:2","tags":["Ax2009","Data","Golive"],"title":"Dynamics AX GoLive Data Initialize","uri":"https://www.nashome.cn/posts/dynamics-ax-golive-data-initialize/"},{"categories":["Dynamicsax"],"content":"03-Opening Balance 这里是期初余额导入模板-总账 这里是期初余额导入模板-应收 这里是期初余额导入模板-应付 这里是期初余额导入模板-固定资产 这里是期初余额导入模板-其他应收 这里是期初余额导入模板-库存01 这里是期初余额导入模板-库存02 这部分数据需要通过开发功能导入系统，请参考此文：Dynamics AX GoLive Data Import。 ","date":"2020-01-02","objectID":"https://www.nashome.cn/posts/dynamics-ax-golive-data-initialize/:2:3","tags":["Ax2009","Data","Golive"],"title":"Dynamics AX GoLive Data Initialize","uri":"https://www.nashome.cn/posts/dynamics-ax-golive-data-initialize/"},{"categories":["Dynamicsax"],"content":"所有期初数据 这里是我整理的一份期初数据模板 ，下表罗列了模板中的部分页签的内容。 Go live check list Date used in this Sheet based on China Time zone Task Type Module 1 Validate Inventory Module Parameter Parameter Inventory 2 Validate Production Module Parameter Parameter Production 3 Validate Master Plan Module Parameter Parameter Master Plan 4 Validate Master Plan Setup Setup Master Plan 5 Validate Sales Module Parameter Parameter Sales 6 Validate Purchase Module Parameter Parameter Purchase 7 Validate Accounts Receivable Module Parameter Parameter AR 8 Validate Accounts Payable Module Parameter Parameter AP 9 Validate General Ledger Module Parameter Parameter GL 10 Validate Fixed Assets Module Parameter Parameter FA 11 Validate Organization Module Setup Parameter System 12 Validate System Administration Setup Parameter System 13 Validate Number sequence for Inventory Module Parameter System 14 Validate Number sequence for Production Module Parameter System 15 Validate Number sequence for General Journal Parameter System 16 Validate Number sequence for Accounts Receivable Parameter System 17 Validate Number sequence for Accounts Payable Parameter System 18 Validate Number sequence for Fixed Assets Parameter System 19 Validate Number sequence for Sales Order Module Parameter System 20 Validate Number sequence for Purchase Order Module Parameter System 21 Validate User Permission Setup Parameter System 22 Units Setup Inventory 23 Unit Convert Setup Inventory 24 Site Setup Inventory 25 Warehouse Setup Inventory 26 Locations Setup Inventory 27 Item Group Setup Finance 28 Inventory Model Group Setup Inventory 29 Dimension Group Setup Inventory 30 Cost group Setup Costing 31 Calculation group Setup Costing 32 Counting Group Setup Inventory 33 Intercompany Setup Setup Inventory 34 Validate Item Master Master Data Engerring 35 Validate BOM Master Data Engerring 36 Validate Routes Master Data Engerring 37 Validate Operations Master Data Engerring 38 Inventory Journal Name Setup Inventory 39 Working Time Template Setup Production 40 Working Calendar Setup Production 41 Production Pool Setup Production 42 Coverage Group Setup Master Plan 43 Cost Catergory Setup Costing 44 Resource Group Setup Production 45 Resources Setup Production 46 Chart of Accounts Master Data GL 47 Finance Dimensions Master Data GL 48 Currency and Rates Setup GL 49 Financial Report Setup Setup GL 50 Sales Tax Group Setup GL 51 Item sales tax group Setup GL 52 Sales tax codes Setup GL 53 Fixed assets cards Master Data FA 54 Fixed assets group Setup FA 55 Fixed assets value model Setup FA 56 Fixed assets posting profile Setup FA 57 Fixed assets depreciation profile Setup FA 58 Finance Calendar Setup GL 59 Generla Ledger Journal Names Setup GL 60 General Ledger - System accounts Setup GL 61 Bank Group Setup Bank 62 Bank Accounts Setup Bank 63 Employees Setup System 64 Customer Group Setup AR 65 Customer Master Master Data Sales 66 Accounts Receivable Posting profile Setup AR 67 Accounts Receivable Misc Charge Setup AR 68 Payment Term Setup AR 69 Method of payment Setup AR 70 Vendor Group Setup AP 71 Vendor Master Master Data Purchase 72 Accounts Payable Posting profile Setup AP 73 Accounts Payeble Misc Charge Setup AP 74 Inventory Posting(Item \u0026 Item Group) Setup Inventory 75 Accounts setup for Inventory Journal Setup Inventory 76 Accounts setup for cost categories Setup Inventory 77 Sales Forecast Setup Master Plan 78 Sales trade agreement Setup Sales 79 Purchase trade agreement Setup Purchase 80 Mode of delivery Setup Sales 81 Delivery term Setup Sales 82 address book Setup 83 Contact Setup Sales 84 Shipping instruction Setup Sales 85 Billing instruction Setup Sales 86 CustExternalItem Setup Sales 87 Item (defaul warehouse) Setup Inventory 88 Order pool Setup Sales 201 Prepare for Open Sales Orders Open orders Sales 202 Enter Open Sales Orders Open orders Sales 203 Prepare for Open Purchases Orders Open orders Purchase 204 Enter Open Purchase Orders Open orders Purchase 205 Prepare for Opening Inventor","date":"2020-01-02","objectID":"https://www.nashome.cn/posts/dynamics-ax-golive-data-initialize/:3:0","tags":["Ax2009","Data","Golive"],"title":"Dynamics AX GoLive Data Initialize","uri":"https://www.nashome.cn/posts/dynamics-ax-golive-data-initialize/"},{"categories":["Linux"],"content":"简单几步在群晖中安装BestTrace路由追踪 在windows中可以方便的使用BestTrace来追踪DNS记录，但是有些时候也想要知道我的群晖数据是怎么出去的，查阅后发现BestTrace有linux版本，群晖也可以使用。 安装和操作方式如下： wget http://cdn.ipip.net/17mon/besttrace4linux.zip unzip besttrace4linux.zip #7z chmod +x besttrace32 #如何使用 ./besttrace32 -q 1 目标IP ","date":"2020-01-01","objectID":"https://www.nashome.cn/posts/synology-with-linux/:0:1","tags":["Synology","BestTrace","Ipkg","Rclone","SpeedTest"],"title":"Synology With Linux","uri":"https://www.nashome.cn/posts/synology-with-linux/"},{"categories":["Linux"],"content":"简单几步在群晖中安装IPKG 确定当前的处理器类型： cat /proc/cpuinfo | grep cpu uname –machine 根据CPU类型去下载对应的CPU Bootstrap Script安装包： ARM (armv5tejl)： http://ipkg.nslu2-linux.org/feeds/optware/syno-x07/cross/unstable/syno-x07-bootstrap_1.2-7_arm.xsh PowerPC (ppc_6xx)： http://ipkg.nslu2-linux.org/feeds/optware/ds101g/cross/unstable/ds101-bootstrap_1.0-4_powerpc.xsh PowerPC (ppc_85xx, e500v?)： http://ipkg.nslu2-linux.org/feeds/optware/syno-e500/cross/unstable/syno-e500-bootstrap_1.2-7_powerpc.xsh Marvell Kirkwood 88F6281, 88F6282, 88FR131 (ARMv5TE Feroceon)： http://ipkg.nslu2-linux.org/feeds/optware/cs08q1armel/cross/stable/syno-mvkw-bootstrap_1.2-7_arm.xsh Intel Atom： http://ipkg.nslu2-linux.org/feeds/optware/syno-i686/cross/unstable/syno-i686-bootstrap_1.2-7_i686.xsh Synology ds216+ii： wget http://ipkg.nslu2-linux.org/feeds/optware/syno-i686/cross/unstable/syno-i686-bootstrap_1.2-7_i686.xsh 将脚本可执行化： chmod +x syno-i686-bootstrap_1.2-7_i686.xsh 执行脚本： sh syno-i686-bootstrap_1.2-7_i686.xsh 删除脚本： rm syno-i686-bootstrap_1.2-7_i686.xsh 更新一下软件源： /opt/bin/ipkg update ipkg版本：ipkg -v 链接: http://ipkg.nslu2-linux.org/feeds/optware/syno-i686/cross/unstable/ 变量加入系统path： vi /root/.profile在path这行结尾分号之前，加入：/opt/sbin:/opt/bin最后保存即可，生效只需录入su切换下用户或者重启就行。 ","date":"2020-01-01","objectID":"https://www.nashome.cn/posts/synology-with-linux/:0:2","tags":["Synology","BestTrace","Ipkg","Rclone","SpeedTest"],"title":"Synology With Linux","uri":"https://www.nashome.cn/posts/synology-with-linux/"},{"categories":["Linux"],"content":"简单几步在群晖中安装Rclone 群晖开机自动挂载脚本 #!/bin/bash #!/usr/bin/rclone # Make script executable with: chmod a+x /root/scripts/nas-mountOnStartup.sh /usr/bin/rclone mount driveteamspacesh: /volume1/video/DriveSpaceSH \\--config=/root/.config/rclone/rclone.conf \\--allow-other \\--dir-cache-time 672h \\--vfs-cache-max-age 675h \\--vfs-read-chunk-size 64M \\--vfs-read-chunk-size-limit 1G \\--buffer-size 32M \u0026 exit ","date":"2020-01-01","objectID":"https://www.nashome.cn/posts/synology-with-linux/:0:3","tags":["Synology","BestTrace","Ipkg","Rclone","SpeedTest"],"title":"Synology With Linux","uri":"https://www.nashome.cn/posts/synology-with-linux/"},{"categories":["Linux"],"content":"简单几步在群晖中安装SpeedTest测速 在windows中可以方便的使用SpeedTest来测速，但是有些时候也想要知道我的群晖网络速度，查阅后发现SpeedTest有linux版本，群晖也可以使用。 安装和操作方式如下： wget https://raw.githubusercontent.com/sivel/speedtest-cli/master/speedtest.py chmod +x speedtest.py ./speedtest.py --server 3633 ./speedtest.py --list | grep Shanghai 22145) ESUN Technology (Shanghai) Co., Ltd. (Shanghai, China) [4.49 km] 21005) China Unicom (Shanghai, China) [19.64 km] 16803) China Mobile Group Shanghai Co.,Ltd. (Shanghai, China) [19.64 km] 3633) China Telecom (Shanghai, China) [19.64 km] 16719) China Mobile Group Shanghai Co.,Ltd. (Shanghai, China) [19.64 km] ","date":"2020-01-01","objectID":"https://www.nashome.cn/posts/synology-with-linux/:0:4","tags":["Synology","BestTrace","Ipkg","Rclone","SpeedTest"],"title":"Synology With Linux","uri":"https://www.nashome.cn/posts/synology-with-linux/"},{"categories":null,"content":"关于 LoveIt","date":"2019-08-02","objectID":"https://www.nashome.cn/about/","tags":null,"title":"关于 LoveIt","uri":"https://www.nashome.cn/about/"},{"categories":null,"content":"  LoveIt 是一个由  Dillon 开发的简洁、优雅且高效的 Hugo 博客主题。 它的原型基于 LeaveIt 主题 和 KeepIt 主题。 Hugo 主题 LoveIt\r","date":"2019-08-02","objectID":"https://www.nashome.cn/about/:0:0","tags":null,"title":"关于 LoveIt","uri":"https://www.nashome.cn/about/"},{"categories":null,"content":"特性 ","date":"2019-08-02","objectID":"https://www.nashome.cn/about/:1:0","tags":null,"title":"关于 LoveIt","uri":"https://www.nashome.cn/about/"},{"categories":null,"content":"性能和 SEO  性能优化：在 Google PageSpeed Insights 中， 99/100 的移动设备得分和 100/100 的桌面设备得分  使用基于 JSON-LD 格式 的 SEO SCHEMA 文件进行 SEO 优化  支持 Google Analytics  支持 Fathom Analytics  支持 Plausible Analytics  支持 Yandex Metrica  支持搜索引擎的网站验证 (Google, Bind, Yandex and Baidu)  支持所有第三方库的 CDN  基于 lazysizes 自动转换图片为懒加载 ","date":"2019-08-02","objectID":"https://www.nashome.cn/about/:1:1","tags":null,"title":"关于 LoveIt","uri":"https://www.nashome.cn/about/"},{"categories":null,"content":"外观和布局  桌面端/移动端 响应式布局  浅色/深色 主题模式  全局一致的设计语言  支持分页  易用和自动展开的文章目录  支持多语言和国际化  美观的 CSS 动画 社交和评论系统  支持 Gravatar 头像  支持本地头像  支持多达 73 种社交链接  支持多达 24 种网站分享  支持 Disqus 评论系统  支持 Gitalk 评论系统  支持 Valine 评论系统  支持 Facebook comments 评论系统  支持 Telegram comments 评论系统  支持 Commento 评论系统  支持 utterances 评论系统  支持 giscus 评论系统 ","date":"2019-08-02","objectID":"https://www.nashome.cn/about/:1:2","tags":null,"title":"关于 LoveIt","uri":"https://www.nashome.cn/about/"},{"categories":null,"content":"扩展功能  支持基于 Lunr.js 或 algolia 的搜索  支持 Twemoji  支持代码高亮  一键复制代码到剪贴板  支持基于 lightGallery 的图片画廊  支持 Font Awesome 图标的扩展 Markdown 语法  支持上标注释的扩展 Markdown 语法  支持分数的扩展 Markdown 语法  支持基于 $\\KaTeX$ 的数学公式  支持基于 mermaid 的图表 shortcode  支持基于 ECharts 的交互式数据可视化 shortcode  支持基于 Mapbox GL JS 的 Mapbox shortcode  支持基于 APlayer 和 MetingJS 的音乐播放器 shortcode  支持 Bilibili 视频 shortcode  支持多种注释的 shortcode  支持自定义样式的 shortcode  支持自定义脚本的 shortcode  支持基于 TypeIt 的打字动画 shortcode  支持基于 cookieconsent 的 Cookie 许可横幅  支持人物标签的 shortcode … ","date":"2019-08-02","objectID":"https://www.nashome.cn/about/:1:3","tags":null,"title":"关于 LoveIt","uri":"https://www.nashome.cn/about/"},{"categories":null,"content":"许可协议 LoveIt 根据 MIT 许可协议授权。 更多信息请查看 LICENSE 文件。 ","date":"2019-08-02","objectID":"https://www.nashome.cn/about/:2:0","tags":null,"title":"关于 LoveIt","uri":"https://www.nashome.cn/about/"},{"categories":null,"content":"特别感谢 LoveIt 主题中用到了以下项目，感谢它们的作者： normalize.css Font Awesome Simple Icons Animate.css autocomplete Lunr.js algoliasearch lazysizes object-fit-images Twemoji emoji-data lightGallery clipboard.js Sharer.js TypeIt $\\KaTeX$ mermaid ECharts Mapbox GL JS APlayer MetingJS Gitalk Valine cookieconsent ","date":"2019-08-02","objectID":"https://www.nashome.cn/about/:3:0","tags":null,"title":"关于 LoveIt","uri":"https://www.nashome.cn/about/"},{"categories":["Linux"],"content":"清理Docker占用的磁盘空间 摘要：用了Docker，好处挺多的，但是有一个不大不小的问题，它会一不小心占用太多磁盘，这就意味着我们必须及时清理。 作为一个有信仰的技术公司，我们Fundebug的后台采用了酷炫的全Docker化架构，所有服务，包括数据库都运行在Docker里面。这样做当然不是为了炫技，看得清楚的好处还是不少的： 所有服务器的配置都非常简单，只安装了Docker，这样新增服务器的时候要简单很多。 可以非常方便地在服务器之间移动各种服务，下载Docker镜像就可以运行，不需要手动配置运行环境。 开发/测试环境与生产环境严格一致，不用担心由于环境问题导致部署失败。 至少，上线这一年多来，Docker一直非常稳定，没有出什么问题。但是，它有一个不大不小的问题，会比较消耗磁盘空间。 如果Docker一不小心把磁盘空间全占满了，你的服务也就算玩完了，因此所有Docker用户都需要对此保持警惕。当然，大家也不要紧张，这个问题还是挺好解决的。 1. docker system命令 在谁用光了磁盘？Docker System命令详解中，我们详细介绍了docker system命令,它可以用于管理磁盘空间。 docker system df命令，类似于Linux上的df命令，用于查看Docker的磁盘使用情况: 可知，Docker镜像占用了7.2GB磁盘，Docker容器占用了104.8MB磁盘，Docker数据卷占用了1.4GB磁盘。 docker system prune命令可以用于清理磁盘，删除关闭的容器、无用的数据卷和网络，以及dangling镜像(即无tag的镜像)。docker system prune -a命令清理得更加彻底，可以将没有容器使用Docker镜像都删掉。注意，这两个命令会把你暂时关闭的容器，以及暂时没有用到的Docker镜像都删掉了…所以使用之前一定要想清楚吶。 执行docker system prune -a命令之后，Docker占用的磁盘空间减少了很多： 2. 手动清理Docker镜像/容器/数据卷 对于旧版的Docker(版本1.13之前)，是没有docker system命令的，因此需要进行手动清理。这里给出几个常用的命 删除所有关闭的容器 docker ps -a | grep Exit | cut -d ' ' -f 1 | xargs docker rm 删除所有dangling镜像(即无tag的镜像)： docker rmi $(docker images | grep \"^\u003cnone\u003e\" | awk \"{print $3}\") 删除所有dangling数据卷(即无用的volume)： docker volume rm $(docker volume ls -qf dangling=true) 3. 限制容器的日志大小 有一次，当我使用1与2提到的方法清理磁盘之后，发现并没有什么作用，于是，我进行了一系列分析。 在Ubuntu上，Docker的所有相关文件，包括镜像、容器等都保存在**/var/lib/docker/**目录中： du -hs /var/lib/docker/ 97G /var/lib/docker/ Docker竟然使用了将近100GB磁盘，这也是够了。使用du命令继续查看，可以定位到真正占用这么多磁盘的目录： 92G /var/lib/docker/containers/a376aa694b22ee497f6fc9f7d15d943de91c853284f8f105ff5ad6c7ddae7a53 由docker ps可知，nginx容器的ID恰好为a376aa694b22，与上面的目录**/var/lib/docker/containers/a376aa694b22**的前缀一致： docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES a376aa694b22 192.168.59.224:5000/nginx:1.12.1 \"nginx -g 'daemon off\" 9 weeks ago Up 10 minutes nginx 因此，nginx容器竟然占用了92GB的磁盘。进一步分析可知，真正占用磁盘空间的是nginx的日志文件。那么这就不难理解了。我们Fundebug每天的数据请求为百万级别，那么日志数据自然非常大。 使用truncate命令，可以将nginx容器的日志文件“清零”： truncate -s 0 /var/lib/docker/containers/a376aa694b22ee497f6fc9f7d15d943de91c853284f8f105ff5ad6c7ddae7a53/*-json.log 当然，这个命令只是临时有作用，日志文件迟早又会涨回来。要从根本上解决问题，需要限制nginx容器的日志文件大小。这个可以通过配置日志的max-size来实现，下面是nginx容器的docker-compose配置文件： nginx: image: nginx:1.12.1 restart: always logging: driver: \"json-file\" options: max-size: \"5g\" 重启nginx容器之后，其日志文件的大小就被限制在5GB，再也不用担心了~ 4. 重启Docker 还有一次，当我清理了镜像、容器以及数据卷之后，发现磁盘空间并没有减少。根据Docker disk usage提到过的建议，我重启了Docker，发现磁盘使用率从83%降到了19%。根据高手指点，这应该是与内核3.13相关的BUG，导致Docker无法清理一些无用目录： it’s quite likely that for some reason when those container shutdown, docker couldn’t remove the directory because the shm device was busy. This tends to happen often on 3.13 kernel. You may want to update it to the 4.4 version supported on trusty 14.04.5 LTS. The reason it disappeared after a restart, is that daemon probably tried and succeeded to clean up left over data from stopped containers. 我查看了一下内核版本，发现真的是3.13: uname -r 3.13.0-86-generic 如果你的内核版本也是3.13，而且清理磁盘没能成功，不妨重启一下Docker。当然，这个晚上操作比较靠谱。 参考 谁用光了磁盘？Docker System命令详解 INTRODUCING DOCKER 1.13 Docker文档：docker system Docker文档：json-file Docker disk usage ","date":"2019-05-10","objectID":"https://www.nashome.cn/posts/docker-clean/:0:0","tags":["Synology","docker"],"title":"清理 Docker 占用的磁盘空间","uri":"https://www.nashome.cn/posts/docker-clean/"},{"categories":["Linux"],"content":"1. 安装 acme.sh 安装很简单, 一个命令: curl https://get.acme.sh | sh 普通用户和 root 用户都可以安装使用. 安装过程进行了以下几步: 把 acme.sh 安装到你的 home 目录下: ~/.acme.sh/ 并创建 一个 bash 的 alias, 方便你的使用: alias acme.sh=~/.acme.sh/acme.sh 2). 自动为你创建 cronjob, 每天 0:00 点自动检测所有的证书, 如果快过期了, 需要更新, 则会自动更新证书. 更高级的安装选项请参考: https://github.com/Neilpang/acme.sh/wiki/How-to-install 安装过程不会污染已有的系统任何功能和文件, 所有的修改都限制在安装目录中: ~/.acme.sh/ ","date":"2019-01-15","objectID":"https://www.nashome.cn/posts/acme/:1:0","tags":["acme","letsencrypt","https","证书"],"title":"使用 ACME 免费申请 Let's Encrypt 证书","uri":"https://www.nashome.cn/posts/acme/"},{"categories":["Linux"],"content":"2. 生成证书 acme.sh 实现了 acme 协议支持的所有验证协议. 一般有两种方式验证: http 和 dns 验证. 1. http 方式需要在你的网站根目录下放置一个文件, 来验证你的域名所有权,完成验证. 然后就可以生成证书了. acme.sh --issue -d mydomain.com -d www.mydomain.com --webroot /home/wwwroot/mydomain.com/ 只需要指定域名, 并指定域名所在的网站根目录. acme.sh 会全自动的生成验证文件, 并放到网站的根目录, 然后自动完成验证. 最后会聪明的删除验证文件. 整个过程没有任何副作用. 如果你用的 apache服务器, acme.sh 还可以智能的从 apache的配置中自动完成验证, 你不需要指定网站根目录: acme.sh --issue -d mydomain.com --apache 如果你用的 nginx服务器, 或者反代, acme.sh 还可以智能的从 nginx的配置中自动完成验证, 你不需要指定网站根目录: acme.sh --issue -d mydomain.com --nginx 注意, 无论是 apache 还是 nginx 模式, acme.sh在完成验证之后, 会恢复到之前的状态, 都不会私自更改你本身的配置. 好处是你不用担心配置被搞坏, 也有一个缺点, 你需要自己配置 ssl 的配置, 否则只能成功生成证书, 你的网站还是无法访问https. 但是为了安全, 你还是自己手动改配置吧. 如果你还没有运行任何 web 服务, 80 端口是空闲的, 那么 acme.sh 还能假装自己是一个webserver, 临时听在80 端口, 完成验证: acme.sh --issue -d mydomain.com --standalone 更高级的用法请参考: https://github.com/Neilpang/acme.sh/wiki/How-to-issue-a-cert 2. 手动 dns 方式, 手动在域名上添加一条 txt 解析记录, 验证域名所有权. 这种方式的好处是, 你不需要任何服务器, 不需要任何公网 ip, 只需要 dns 的解析记录即可完成验证. 坏处是，如果不同时配置 Automatic DNS API，使用这种方式 acme.sh 将无法自动更新证书，每次都需要手动再次重新解析验证域名所有权。 acme.sh --issue --dns -d mydomain.com 然后, acme.sh 会生成相应的解析记录显示出来, 你只需要在你的域名管理面板中添加这条 txt 记录即可. 等待解析完成之后, 重新生成证书: acme.sh --renew -d mydomain.com 注意第二次这里用的是 --renew dns 方式的真正强大之处在于可以使用域名解析商提供的 api 自动添加 txt 记录完成验证. acme.sh 目前支持 cloudflare, dnspod, cloudxns, godaddy 以及 ovh 等数十种解析商的自动集成. 以 dnspod 为例, 你需要先登录到 dnspod 账号, 生成你的 api id 和 api key, 都是免费的. 然后: export DP_Id=\"1234\" export DP_Key=\"sADDsdasdgdsf\" acme.sh --issue --dns dns_dp -d aa.com -d www.aa.com 证书就会自动生成了. 这里给出的 api id 和 api key 会被自动记录下来, 将来你在使用 dnspod api 的时候, 就不需要再次指定了. 直接生成就好了: acme.sh --issue -d mydomain2.com --dns dns_dp 更详细的 api 用法: https://github.com/Neilpang/acme.sh/blob/master/dnsapi/README.md First you need to login to your Aliyun account to get your API key. https://ak-console.aliyun.com/#/accesskey export Ali_Key=\"sdfsdfsdfljlbjkljlkjsdfoiwje\" export Ali_Secret=\"jlsdflanljkljlfdsaklkjflsa\" Ok, let’s issue a cert now: acme.sh --issue --dns dns_ali -d example.com -d www.example.com The Ali_Key and Ali_Secret will be saved in ~/.acme.sh/account.conf and will be reused when needed. ","date":"2019-01-15","objectID":"https://www.nashome.cn/posts/acme/:2:0","tags":["acme","letsencrypt","https","证书"],"title":"使用 ACME 免费申请 Let's Encrypt 证书","uri":"https://www.nashome.cn/posts/acme/"},{"categories":["Linux"],"content":"3. copy/安装 证书 前面证书生成以后, 接下来需要把证书 copy 到真正需要用它的地方. 注意, 默认生成的证书都放在安装目录下: ~/.acme.sh/, 请不要直接使用此目录下的文件, 例如: 不要直接让 nginx/apache 的配置文件使用这下面的文件. 这里面的文件都是内部使用, 而且目录结构可能会变化. 正确的使用方法是使用 --installcert 命令,并指定目标位置, 然后证书文件会被copy到相应的位置, 例如: acme.sh --installcert -d \u003cdomain\u003e.com \\ --key-file /etc/nginx/ssl/\u003cdomain\u003e.key \\ --fullchain-file /etc/nginx/ssl/fullchain.cer \\ --reloadcmd \"service nginx force-reload\" (一个小提醒, 这里用的是 service nginx force-reload, 不是 service nginx reload, 据测试, reload 并不会重新加载证书, 所以用的 force-reload) Nginx 的配置 ssl_certificate 使用 /etc/nginx/ssl/fullchain.cer ，而非 /etc/nginx/ssl/\u003cdomain\u003e.cer ，否则 SSL Labs 的测试会报 Chain issues Incomplete 错误。 --installcert命令可以携带很多参数, 来指定目标文件. 并且可以指定 reloadcmd, 当证书更新以后, reloadcmd会被自动调用,让服务器生效. 详细参数请参考: https://github.com/Neilpang/acme.sh#3-install-the-issued-cert-to-apachenginx-etc 值得注意的是, 这里指定的所有参数都会被自动记录下来, 并在将来证书自动更新以后, 被再次自动调用. ","date":"2019-01-15","objectID":"https://www.nashome.cn/posts/acme/:3:0","tags":["acme","letsencrypt","https","证书"],"title":"使用 ACME 免费申请 Let's Encrypt 证书","uri":"https://www.nashome.cn/posts/acme/"},{"categories":["Linux"],"content":"4. 更新证书 目前证书在 60 天以后会自动更新, 你无需任何操作. 今后有可能会缩短这个时间, 不过都是自动的, 你不用关心. ","date":"2019-01-15","objectID":"https://www.nashome.cn/posts/acme/:4:0","tags":["acme","letsencrypt","https","证书"],"title":"使用 ACME 免费申请 Let's Encrypt 证书","uri":"https://www.nashome.cn/posts/acme/"},{"categories":["Linux"],"content":"5. 更新 acme.sh 目前由于 acme 协议和 letsencrypt CA 都在频繁的更新, 因此 acme.sh 也经常更新以保持同步. 升级 acme.sh 到最新版 : acme.sh --upgrade 如果你不想手动升级, 可以开启自动升级: acme.sh --upgrade --auto-upgrade 之后, acme.sh 就会自动保持更新了. 你也可以随时关闭自动更新: acme.sh --upgrade --auto-upgrade 0 ","date":"2019-01-15","objectID":"https://www.nashome.cn/posts/acme/:5:0","tags":["acme","letsencrypt","https","证书"],"title":"使用 ACME 免费申请 Let's Encrypt 证书","uri":"https://www.nashome.cn/posts/acme/"},{"categories":["Linux"],"content":"6. 出错怎么办： 如果出错, 请添加 debug log： acme.sh --issue ..... --debug 或者： acme.sh --issue ..... --debug 2 请参考： https://github.com/Neilpang/acme.sh/wiki/How-to-debug-acme.sh 最后, 本文并非完全的使用说明, 还有很多高级的功能, 更高级的用法请参看其他 wiki 页面. https://github.com/Neilpang/acme.sh/wiki ","date":"2019-01-15","objectID":"https://www.nashome.cn/posts/acme/:6:0","tags":["acme","letsencrypt","https","证书"],"title":"使用 ACME 免费申请 Let's Encrypt 证书","uri":"https://www.nashome.cn/posts/acme/"},{"categories":["Linux"],"content":"创建GCP实例 默认 Debian9 系统，以下代码均在此系统下操作 ","date":"2018-09-10","objectID":"https://www.nashome.cn/posts/pandalearning/:0:1","tags":["Chromium","Chromedriver","Selenium","Debian9"],"title":"学习强国","uri":"https://www.nashome.cn/posts/pandalearning/"},{"categories":["Linux"],"content":"安装chromium 编辑/etc/apt/sources.list文件并加入下面这句 deb http://dl.google.com/linux/chrome/deb/ stable main 保存并退出后执行 ---------------------- $ wget https://dl-ssl.google.com/linux/linux_signing_key.pub $ sudo apt-key add linux_signing_key.pub $ sudo apt-get update $ sudo apt-get install google-chrome-stable ---------------------- 安装Chromium sudo apt-get update sudo apt-get install chromium chromium-l10n ","date":"2018-09-10","objectID":"https://www.nashome.cn/posts/pandalearning/:0:2","tags":["Chromium","Chromedriver","Selenium","Debian9"],"title":"学习强国","uri":"https://www.nashome.cn/posts/pandalearning/"},{"categories":["Linux"],"content":"安装chromedriver 下载chromedriver 根据chrome浏览器的版本对应下载driver驱动的版本： 下载地址：http://chromedriver.storage.googleapis.com/index.html wget http://chromedriver.storage.googleapis.com/73.0.3683.68/chromedriver_linux64.zip sudo apt-get install unzip unzip chromedriver_linux64.zip sudo mv chromedriver /usr/bin/chromedriver sudo chown root:root /usr/bin/chromedriver sudo chmod +x /usr/bin/chromedriver ","date":"2018-09-10","objectID":"https://www.nashome.cn/posts/pandalearning/:0:3","tags":["Chromium","Chromedriver","Selenium","Debian9"],"title":"学习强国","uri":"https://www.nashome.cn/posts/pandalearning/"},{"categories":["Linux"],"content":"安装xvfb sudo apt-get install xvfb ","date":"2018-09-10","objectID":"https://www.nashome.cn/posts/pandalearning/:0:4","tags":["Chromium","Chromedriver","Selenium","Debian9"],"title":"学习强国","uri":"https://www.nashome.cn/posts/pandalearning/"},{"categories":["Linux"],"content":"安装Python3 安装make apt-get install gcc automake autoconf libtool make 安装python 在我们安装任何软件之前，通过在终端中运行以下apt-get命令来确保您的系统是最新的非常重要： apt-get update apt-get upgrade 使用python官方站点的以下命令下载Python cd /usr/src wget https://www.python.org/ftp/python/3.7.2/Python-3.7.2.tgz sudo tar xzf Python-3.7.2.tgz 接下来，在您的系统上编译python源代码 cd Python-3.7.2 sudo ./configure --enable-optimizations sudo make altinstall 完成该过程后，请检查Python 3的版本 python3.7 -V 安装pip3 下载get-pip.py文件 wget https://bootstrap.pypa.io/get-pip.py python3 get-pip.py //安装pip3 python get-pip.py //安装pip2 安装Selenium pip3 install selenium 执行 PYTHONIOENCODING=utf-8 python3 Panda-Learning-2.5/'Source Packages'/pandalearning.py 13482308316 ","date":"2018-09-10","objectID":"https://www.nashome.cn/posts/pandalearning/:0:5","tags":["Chromium","Chromedriver","Selenium","Debian9"],"title":"学习强国","uri":"https://www.nashome.cn/posts/pandalearning/"},{"categories":["Linux"],"content":"#offline download #Aria2 搭建离线下载并自动上传到 Google Drive","date":"2018-05-12","objectID":"https://www.nashome.cn/posts/aria2/","tags":["Aria2","GoogleDrive"],"title":" Aria2 搭建离线下载并自动上传到 Google Drive","uri":"https://www.nashome.cn/posts/aria2/"},{"categories":["Linux"],"content":"使用Google VPS 来做自己的离线下载服务器，下载完后自动上传到 Google Drive ( 以后简称 GD ) 里存储，再用 nPlayer 登录 Google Drive 实现在线观看。 ","date":"2018-05-12","objectID":"https://www.nashome.cn/posts/aria2/:0:0","tags":["Aria2","GoogleDrive"],"title":" Aria2 搭建离线下载并自动上传到 Google Drive","uri":"https://www.nashome.cn/posts/aria2/"},{"categories":["Linux"],"content":"安装 下面介绍如何搭建一个自己的离线下载并上传到 GD 的环境。 系统环境 我的系统是 CentOS 7 ，其他 Linux 发行版请自行调整相关命令或系统环境配置，但 VPS 必须是 KVM 架构！ 安装宝塔 Linux 面板 $ yum install -y wget \u0026\u0026 wget -O install.sh http://download.bt.cn/install/install_6.0.sh \u0026\u0026 bash install.sh 这是 宝塔面板官网 ，如果如果不会用可以上去看下使用手册。 安装 Nginx 和 Redis 面板安装好后，通过浏览器打开并登录面板，在面板的 软件管理 里面安装 Nginx 和 Redis。 其中，Nginx 是用来作为访问 AriaNg 的服务器用的；Redis 是用来做上传到 GD 的任务队列的，如果不做队列处理，大量任务同时上传到 GD 的话会出现很多问题。 安装 Aria2 Aria2 是一款开源、轻量级的多协议命令行下载工具，支持 HTTP/HTTPS、FTP、SFTP、BitTorrent 和 Metalink 协议，我们以后的下载任务都会交给它。 一键安装 Aria2 ： $ wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/aria2.sh \u0026\u0026 chmod +x aria2.sh \u0026\u0026 bash aria2.sh 下面是我自己根据上面脚本做的修改版，解决了在开启自动更新 BT-Tracker 服务器 时会强制重启 Aria2 导致 Aria2 任务有可能出现异常的问题： $ wget -N --no-check-certificate https://raw.githubusercontent.com/meishixiu/note/master/Aria2%2BAriaNg%2BRclone%2BGoogleDrive/aria2.sh \u0026\u0026 chmod +x aria2.sh \u0026\u0026 bash aria2.sh 两个脚本任选一个就行。 打开配置文件 /root/.aria2/aria2.conf，替换为 aria2.conf 里面的配置； 最后把里面的 Aria2 RPC 密钥 rpc-secret 自己随便换一个，然后重启 Aria2 使配置生效； 文件的保存路径 dir 我用的是后面要安装的 AriaNg 网站的一个子目录，这样做的目的是如果需要通过网站在线浏览下载的文件列表，可以稍微改改 Nginx 的网站配置来实现，如果没有这样的需求，那可以随意换一个下载目录。 安装 AriaNg AriaNg 是一个让 Aria2 更容易使用的现代 Web 前端。为什么这么说呢，因为以前如果要使用 Aria2 ，我们得去记忆大量的 Aria2 的命令和参数才能下载东西，这简直就是噩梦。而如果使用 AriaNg ，只需要用电脑或手机浏览器打开我们的离线下载网站 ( 就是打开 AriaNg )，就能轻松的添加下载任务了。 既然是 “离线下载网站” ，那就得有个 “网站” 的样子，所以我把我的一个域名 lixian.xxx.com 解析到我的离线下载服务器上，然后在宝塔面板的 网站 里 添加站点 ，域名 填写刚才解析过来的 lixian.xxx.com ，根目录 我用的是 /home/wwwroot/lixian.xxx.com，如下图所示： 然后把 AriaNg 下载到 /home/wwwroot/lixian.xxx.com 并解压： $ cd /home/wwwroot/lixian.xxx.com $ wget https://github.com/mayswind/AriaNg/releases/download/1.0.0/AriaNg-1.0.0.zip $ unzip AriaNg-1.0.0.zip AriaNg 的程序安装好了，下面是设置 AriaNg ，让它与 Aria2 能够连接 ( 通信 )。 浏览器访问 http://lixian.xxx.com ，点击左侧的 AriaNg 设置 ，再点上面的 PRC 选项卡，把 Aria2 RPC 地址 和 Aria2 RPC 密钥 填上，如下图所示： 如果不出意外，左侧的 Aria2 状态 会显示 已连接 安装 Rclone Rclone 是一个用于将文件同步到各大云存储商的命令行工具，同时也支持云存储商之间的文件同步。 安装 Rclone： $ curl https://rclone.org/install.sh | sudo bash Rclone 的 Google Drive 授权配置： $ rclone config 会出现以下信息： n) New remote s) Set configuration password q) Quit config n/s/q\u003en 输入 n 后按回车键继续 name\u003e gd #随便填，后面要用到 输入 gd 后按回车键继续 Type of storage to configure. Enter a string value. Press Enter for the default (\"\"). Choose a number from below, or type in your own value 1 / A stackable unification remote, which can appear to merge the contents of several remotes \\ \"union\" 2 / Alias for a existing remote \\ \"alias\" 3 / Amazon Drive \\ \"amazon cloud drive\" 4 / Amazon S3 Compliant Storage Providers (AWS, Ceph, Dreamhost, IBM COS, Minio) \\ \"s3\" 5 / Backblaze B2 \\ \"b2\" 6 / Box \\ \"box\" 7 / Cache a remote \\ \"cache\" 8 / Dropbox \\ \"dropbox\" 9 / Encrypt/Decrypt a remote \\ \"crypt\" 10 / FTP Connection \\ \"ftp\" 11 / Google Cloud Storage (this is not Google Drive) \\ \"google cloud storage\" 12 / Google Drive \\ \"drive\" 13 / Hubic \\ \"hubic\" 14 / JottaCloud \\ \"jottacloud\" 15 / Local Disk \\ \"local\" 16 / Mega \\ \"mega\" 17 / Microsoft Azure Blob Storage \\ \"azureblob\" 18 / Microsoft OneDrive \\ \"onedrive\" 19 / OpenDrive \\ \"opendrive\" 20 / Openstack Swift (Rackspace Cloud Files, Memset Memstore, OVH) \\ \"swift\" 21 / Pcloud \\ \"pcloud\" 22 / QingCloud Object Storage \\ \"qingstor\" 23 / SSH/SFTP Connection \\ \"sftp\" 24 / Webdav \\ \"webdav\" 25 / Yandex Disk \\ \"yandex\" 26 / http Connection \\ \"http\" Storage\u003e12 # 12 对应 Google Drive 输入 12 后按回车键继续 ** See help for drive backend at: https://rclone.org/drive/ ** Google Application Client Id Leave blank normally. Enter a string value. Press Enter for the default (\"\"). client_id\u003e 什么也不填，直接按回车键继续 Google Application Client Secret Leave blank normally. Enter a string value. Press Enter for the default (\"\"). client_secret\u003e 什么也不填，直接按回车键继续 Scope that rclone should use when requesting access from drive. Enter a string value. Press Enter for the default (\"\"). Choose a number from below, or type in your own value 1 / Full access all files, excluding Application Data Folder. \\ \"drive\" 2 / Read-only access to file metadata and file contents. \\ \"drive.readonly\" / Ac","date":"2018-05-12","objectID":"https://www.nashome.cn/posts/aria2/:0:1","tags":["Aria2","GoogleDrive"],"title":" Aria2 搭建离线下载并自动上传到 Google Drive","uri":"https://www.nashome.cn/posts/aria2/"},{"categories":["Linux"],"content":"使用 iOS / 安卓平台在线播放 iOS 上可以在 nPlayer 的 网络 里添加 Google Drive ，登录账号后就可以在线看片了。另外还可以使用 nPlayer 投屏到电视上播放。 ","date":"2018-05-12","objectID":"https://www.nashome.cn/posts/aria2/:0:2","tags":["Aria2","GoogleDrive"],"title":" Aria2 搭建离线下载并自动上传到 Google Drive","uri":"https://www.nashome.cn/posts/aria2/"},{"categories":["Linux"],"content":"群晖—-外部访问DDNS教程（第二部分） 前文已经说了在配置DDNS之前需要的前提条件，请参照 群晖—-外部访问DDNS教程（第一部分） 本文将具体说明如何在DSM中配置DDNS ","date":"2016-08-10","objectID":"https://www.nashome.cn/posts/synology-ddns-02/:0:0","tags":["Synology"],"title":"Synology DDNS 02","uri":"https://www.nashome.cn/posts/synology-ddns-02/"},{"categories":["Linux"],"content":"1.设置 QuickConnect QuickConnect 让您使用可自定义的 ID 或地址（如 quickconnect.to/example ）连接到 Synology Router 或部分 Synology 套件（如 Download Station、File Station 和移动应用程序）。 若要启用 QuickConnect： 进入网络中心 \u003e Internet \u003e QuickConnect 和 DDNS。 勾选启用 QuickConnect。 如果您没有 Synology 帐户，请单击立即注册。输入所需信息并单击确定。如果您已拥有 Synology 帐户，请输入帐户信息。 在 QuickConnect ID 栏中创建您自己的 QuickConnect ID。将出现 QuickConnect 链接信息。您可使用这些链接访问 Synology Router。 您还可选择启用或禁用特定套件的 QuickConnect。进入高级设置，勾选您要为其启用 QuickConnect 的套件旁的复选框。 单击应用来保存设置。 ","date":"2016-08-10","objectID":"https://www.nashome.cn/posts/synology-ddns-02/:0:1","tags":["Synology"],"title":"Synology DDNS 02","uri":"https://www.nashome.cn/posts/synology-ddns-02/"},{"categories":["Linux"],"content":"2.设置 DDNS 这里可以注册Synology提供的DDNS服务或者其他服务商的DDNS。下文仅针对Synology，其他下拉列表中的服务商配置基本类似。 若要设置 DDNS 主机名： 单击添加按钮将出现一个对话框，提示您编辑以下设置： 服务供应商：选择服务供应商。若要注册以获得 Synology 提供的免费主机名，从下拉菜单中选择 Synology，单击立即注册，然后按说明输入详情。 **主机名：**输入注册的 DDNS 主机名，如 john.synology.me。 **用户名/电子邮件：**输入 DDNS 供应商的帐户（如用户名、电子邮件地址…) **密码：**输入 DDNS 供应商的密码。 **外部地址：**使用系统默认设置。 **Heartbeat：**启用此选项可接收有关映射主机名状态的报警（仅适用于 Synology 提供的主机名）。 单击测试连接以查看设置是否正确。 单击确定来保存并结束设置。 若要管理主机名： 使用以下按钮可管理已在的主机名条目： **删除：**从列表中删除所选主机名条目。 **编辑：**更改所选主机名条目的设置。 **立即更新：**更新所有已启用 DDNS 服务的主机名条目状态。 ","date":"2016-08-10","objectID":"https://www.nashome.cn/posts/synology-ddns-02/:0:2","tags":["Synology"],"title":"Synology DDNS 02","uri":"https://www.nashome.cn/posts/synology-ddns-02/"},{"categories":["Linux"],"content":"群晖—-外部访问DDNS教程（第一部分） ","date":"2016-07-10","objectID":"https://www.nashome.cn/posts/synology-ddns-01/:0:0","tags":["Synology"],"title":"Synology DDNS 01","uri":"https://www.nashome.cn/posts/synology-ddns-01/"},{"categories":["Linux"],"content":"DDNS简单说就是自动更新域名解析中的A记录解析的IP地址，如果你并不频繁重启光猫的话，你的公网IP其实并不会频繁变化 ","date":"2016-07-10","objectID":"https://www.nashome.cn/posts/synology-ddns-01/:1:0","tags":["Synology"],"title":"Synology DDNS 01","uri":"https://www.nashome.cn/posts/synology-ddns-01/"},{"categories":["Linux"],"content":"1.关于公网IP 最开始验证自己是否有公网IP的时候真的是绕了一个大圈子，其实通过http://www.ipip.net/ 查询下来，只要你的IP开头不是”172，192，10″的应该就是公网IP，至于在万网查询到有两个IP地址根本不用去管它，楼主就是有两个并且非”10″的那个就是公网IP。 ","date":"2016-07-10","objectID":"https://www.nashome.cn/posts/synology-ddns-01/:2:0","tags":["Synology"],"title":"Synology DDNS 01","uri":"https://www.nashome.cn/posts/synology-ddns-01/"},{"categories":["Linux"],"content":"2.关于端口映射 作为小白一枚，一开始并不很理解端口映射，所以当不断ping自己的公网IP却一直不通的时候，一度就认为ISP给的是大内网，先后误解了联通了电信，因为ping不通可能是路由器默认设置就是禁ping的，或者相应端口就没有打开。网上可以找到很多端口扫描的网站，做完端口映射以后即可测试一下。 关于端口转发的视频教程 ","date":"2016-07-10","objectID":"https://www.nashome.cn/posts/synology-ddns-01/:3:0","tags":["Synology"],"title":"Synology DDNS 01","uri":"https://www.nashome.cn/posts/synology-ddns-01/"},{"categories":["Linux"],"content":"如何做端口映射 首先要清楚自己家里的网络拓扑结构。楼主家里是光猫拨号，下面接的路由器，路由器下面才是家里的网络设备，所以我们的NAS相当于处在二级路由下面，这样的话就要做两次端口映射。第一次是把群晖的端口映射到路由器的端口上，第二次是把路由器的端口映射到光猫上。 可以通过：http://canyouseeme.org/ 检查端口是否已打开 DMZ DMZ一次可以映射所有端口，并把主机暴露在网关中。反正楼主的路由器就这么设置了，然后在映射NAS的指定端口到路由器上。 群晖常用端口 DSM的端口，Web端口，Cloud端口，VPN服务器端口，邮件服务器等等这些常用的端口映射出去即可。 ","date":"2016-07-10","objectID":"https://www.nashome.cn/posts/synology-ddns-01/:3:1","tags":["Synology"],"title":"Synology DDNS 01","uri":"https://www.nashome.cn/posts/synology-ddns-01/"},{"categories":["Linux"],"content":"3.域名 楼主是在阿里云注册的域名，所以后续OSS和CDN也都是用的阿里的。同时加9.9元还有两年的云解析VIP，有了自己的域名一切都好办了。首先去备案，阿里有一套完整的方案，顺着走几个工作日就可以搞定。之后如果不想用到DDNS代理商那么冗长的二级域名的话，还是申请一个自己的域名比较舒心。 ","date":"2016-07-10","objectID":"https://www.nashome.cn/posts/synology-ddns-01/:4:0","tags":["Synology"],"title":"Synology DDNS 01","uri":"https://www.nashome.cn/posts/synology-ddns-01/"},{"categories":["Linux"],"content":"域名解析 A记录: 又称IP指向，用户可以在此设置子域名并指向到自己的目标主机地址上，从而实现通过域名找到服务器。 说明：·指向的目标主机地址类型只能使用IP地址。 CNAME: 通常称别名指向。可以为一个主机设置别名。比如设置test.domain.com，用来指向一个主机www.domainA.com 那么以后就可以用test.domain.com来代替访问www.domainA.com 了。 说明：CNAME的目标主机地址只能使用主机名，不能使用IP地址; ","date":"2016-07-10","objectID":"https://www.nashome.cn/posts/synology-ddns-01/:5:0","tags":["Synology"],"title":"Synology DDNS 01","uri":"https://www.nashome.cn/posts/synology-ddns-01/"},{"categories":["Linux"],"content":"4.DDNS 详细的DDNS配置请参考：群晖—-外部访问DDNS教程（第二部分） 配置完DDNS后我们就可以使用DDNS域名+端口号的形式访问群晖上的服务了，如果不想每次在外面打开DSM的时候还要输入端口号：“http://example.synology.me:5000” 后续博主会分享具体方法。 ","date":"2016-07-10","objectID":"https://www.nashome.cn/posts/synology-ddns-01/:6:0","tags":["Synology"],"title":"Synology DDNS 01","uri":"https://www.nashome.cn/posts/synology-ddns-01/"}]